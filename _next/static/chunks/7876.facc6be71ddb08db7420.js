"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7876],{27876:function(e,n,t){t.r(n),t.d(n,{default:function(){return c}});var r,o,a=t(52209),i=(t(59748),t(88269)),d=t(48103),s=t(35650),l=t(8311);function c(){var e=(0,s.Z)((function(){return{dragging:!1,dragFrom:new d.dl,dragTo:new d.dl,bounds:new d.UL,camPos:new d.dl(-m,m),camAngle:Math.PI/2,el:{root:{},camera:{},redDot:{},greenDot:{},dragLine:{}},onDragStart:function(n){e.dragging=!0,e.bounds.copy(e.el.root.getBoundingClientRect()),e.dragFrom.set(n.clientX-e.bounds.cx,n.clientY-e.bounds.cy),e.el.redDot.style.transform=e.el.greenDot.style.transform="translate(".concat(e.dragFrom.x,"px, ").concat(e.dragFrom.y,"px)")},onDragMove:function(n){if(e.dragging){e.bounds.copy(e.el.root.getBoundingClientRect()),e.dragTo.set(n.clientX-e.bounds.cx,n.clientY-e.bounds.cy),e.el.greenDot.style.transform="translate(".concat(e.dragFrom.x,"px, ").concat(e.dragTo.y,"px)");var t=e.dragTo.y-e.dragFrom.y;e.camAngle=Math.max(Math.min(e.camAngle+1e-4*t,Math.PI/2+Math.PI/4),Math.PI/50),e.updateCamera()}},onDragEnd:function(n){e.dragging=!1,e.el.redDot.style.transform=e.el.greenDot.style.transform,e.el.dragLine.style.width="0px"},rootRef:function(n){n&&(e.el.root=n,e.el.camera=n.querySelector("div.camera"),e.el.redDot=n.querySelector("div.dot.red"),e.el.greenDot=n.querySelector("div.dot.green"),e.el.dragLine=n.querySelector("div.drag-line"),n.addEventListener("pointerdown",(function(n){return e.onDragStart(n)})),n.addEventListener("pointermove",(function(n){return e.onDragMove(n)})),n.addEventListener("pointerup",(function(n){return e.onDragEnd(n)})),n.addEventListener("pointerleave",(function(n){return e.onDragEnd(n)})),e.updateCamera())},updateCamera:function(){var n=[m*(1-Math.cos(e.camAngle)),m*Math.sin(e.camAngle),Math.atan((1-Math.cos(e.camAngle))/(Math.sin(e.camAngle)-v/(2*m)))],t=n[0],r=n[1],o=n[2];e.el.camera.style.transform="rotateX(".concat(o,"rad) translate3d(0, ").concat(-t,"px, ").concat(-r,"px)")}}}));return(0,l.tZ)(l.HY,{children:(0,l.tZ)("div",{className:p,ref:e.rootRef,children:(0,l.BX)("div",{className:b,children:[(0,l.tZ)("div",{className:"camera",children:(0,l.BX)("div",{className:"pyramid",children:[(0,l.tZ)("div",{className:"base"}),(0,l.tZ)("div",{className:"side north"}),(0,l.tZ)("div",{className:"side east"}),(0,l.tZ)("div",{className:"side south"}),(0,l.tZ)("div",{className:"side west"})]})}),(0,l.tZ)("div",{className:"drag-line"}),(0,l.tZ)("div",{className:"dot red"}),(0,l.tZ)("div",{className:"dot green"})]})})})}var p=(0,i.iv)(r||(r=(0,a.Z)(["\n  background: #000000;\n  height: 100%;\n"]))),g=.04,f=360,u=360,v=Math.sqrt(3)/2*9e3*g,m=4800,b=(0,i.iv)(o||(o=(0,a.Z)(["\n  width: 100%;\n  height: 100%;\n  transform: translate(50%, 50%);\n  /* transform: scale(1.5) translate(50%, 50%); */\n  transform-origin: center;\n  position: relative;\n  \n  perspective: ","px;\n  perspective-origin: 0 0;\n  transform-style: preserve-3d;\n  \n  .camera {\n    transform-style: preserve-3d;\n    transform: rotateX(45deg) translate3d(0, ","px, ","px);\n    /** ? */\n    height: 100%;\n  }\n\n  .drag-line {\n    position: absolute;\n    height: 2px;\n    width: 0px;\n    left: 0;\n    top: 0;\n    background: white;\n    transform-origin: left center;\n  }\n  .dot {\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    left: ","px;\n    top: ","px;\n    pointer-events: none;\n  }\n  .dot.red {\n    background: red;\n  }\n  .dot.green {\n    background: green;\n  }\n\n  .pyramid {\n    transform-style: preserve-3d;\n    transform-origin: 0 ","px;\n    transform: rotateZ(45deg); /** TODO can adjust */\n  }\n  .base {\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    left: ","px;\n    top: ","px;\n    background: rgba(255, 0, 0, 0.1);\n    backface-visibility: hidden;\n  }\n\n  .side {\n    position: absolute;\n    width: 0;\n    height: 0;\n    backface-visibility: hidden;\n  }\n  .north {\n    left: ","px;\n    top: ","px;\n    border-left: ","px solid transparent;\n    border-right: ","px solid transparent;\n    border-top: ","px solid rgba(255, 255, 255, 0.1);\n    transform-origin: top;\n    transform: rotateX(60deg);\n  }\n  .east {\n    left: ","px;\n    top: ","px;\n    border-bottom: ","px solid transparent;\n    border-top: ","px solid transparent;\n    border-right: ","px solid rgba(255, 255, 255, 0.2);\n    transform-origin: right;\n    transform: rotateY(60deg);\n  }\n  /** We raise south-facing side pi/3, looking down from above */\n  .south {\n    left: ","px;\n    top: ","px;\n    border-left: ","px solid transparent;\n    border-right: ","px solid transparent;\n    border-bottom: ","px solid rgba(255, 255, 255, 0.3);\n    transform-origin: bottom;\n    transform: rotateX(-60deg);\n  }\n  .west {\n    left: ","px;\n    top: ","px;\n    border-bottom: ","px solid transparent;\n    border-top: ","px solid transparent;\n    border-left: ","px solid rgba(255, 255, 255, 0.4);\n    transform-origin: left;\n    transform: rotateY(-60deg);\n  }\n\n"])),m,-m,-m,4,4,-2,-2,-180,f,f,-180,-360,-180,-360,180,180,u,-180,-360,180,180,u,-180,-360,180,180,u,-180,-360,180,180,u)},35650:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(79056),o=t(59748),a=t(84175);function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.default.useState(e),d=(0,r.Z)(i,1),s=d[0];return o.default.useEffect((function(){var n,o=e.toString()!==s._prevFn;if(s._prevFn)if(o){for(var i=e(),d=0,l=Object.entries(i);d<l.length;d++){var c,p,g,f=(0,r.Z)(l[d],2),u=f[0],v=f[1],m=u;if("function"===typeof v)s[m]=v;else if(null!==(c=Object.getOwnPropertyDescriptor(s,m))&&void 0!==c&&c.get||null!==(p=Object.getOwnPropertyDescriptor(s,m))&&void 0!==p&&p.set){var b,h;Object.defineProperty(s,m,{get:null===(b=Object.getOwnPropertyDescriptor(i,m))||void 0===b?void 0:b.get,set:null===(h=Object.getOwnPropertyDescriptor(i,m))||void 0===h?void 0:h.set})}else u in s?s._prevInit&&null!==(g=t.equality)&&void 0!==g&&g[m]&&!(0,a.fS)(s._prevInit[m],i[m])&&(s[m]=i[m]):s[m]=v}for(var x=0,y=Object.entries(s);x<y.length;x++){var D=(0,r.Z)(y[x],2),w=D[0];D[1];w in i||delete s[w]}s._prevFn=e.toString(),s._prevInit=i}else for(var O=e(),Z=0,P=Object.entries(O);Z<P.length;Z++){var j,M,N=(0,r.Z)(P[Z],2),k=N[0],_=N[1];if("function"===typeof _)s[k]=_;else if(null!==(j=Object.getOwnPropertyDescriptor(s,k))&&void 0!==j&&j.get||null!==(M=Object.getOwnPropertyDescriptor(s,k))&&void 0!==M&&M.set){var S,E;Object.defineProperty(s,k,{get:null===(S=Object.getOwnPropertyDescriptor(O,k))||void 0===S?void 0:S.get,set:null===(E=Object.getOwnPropertyDescriptor(O,k))||void 0===E?void 0:E.set})}}else s._prevFn=e.toString(),s._prevInit=e();var F=null===(n=s.onChangeDeps)||void 0===n?void 0:n.call(s);if("function"===typeof F)return F}),n),s}}}]);