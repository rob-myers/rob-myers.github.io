"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1005],{21005:function(n,e,t){t.r(e),t.d(e,{default:function(){return c}});var r,o,a=t(52209),i=(t(59748),t(88269)),d=t(48103),s=t(35650),l=t(8311);function c(){var n=(0,s.Z)((function(){return{dragging:!1,dragFrom:new d.dl,dragTo:new d.dl,bounds:new d.UL,camPos:new d.dl(-v,v),camAngle:Math.PI/2,el:{root:{},camera:{},redDot:{},greenDot:{},dragLine:{}},onDragStart:function(e){n.dragging=!0,n.bounds.copy(n.el.root.getBoundingClientRect()),n.dragFrom.set(e.clientX-n.bounds.cx,e.clientY-n.bounds.cy),n.el.redDot.style.transform=n.el.greenDot.style.transform="translate(".concat(n.dragFrom.x,"px, ").concat(n.dragFrom.y,"px)")},onDragMove:function(e){if(n.dragging){n.bounds.copy(n.el.root.getBoundingClientRect()),n.dragTo.set(e.clientX-n.bounds.cx,e.clientY-n.bounds.cy),n.el.greenDot.style.transform="translate(".concat(n.dragFrom.x,"px, ").concat(n.dragTo.y,"px)");var t=n.dragTo.y-n.dragFrom.y;n.camAngle=Math.max(Math.min(n.camAngle+1e-4*t,Math.PI/2+Math.PI/4),Math.PI/50),n.updateCamera()}},onDragEnd:function(e){n.dragging=!1,n.el.redDot.style.transform=n.el.greenDot.style.transform,n.el.dragLine.style.width="0px"},rootRef:function(e){e&&(n.el.root=e,n.el.camera=e.querySelector("div.camera"),n.el.redDot=e.querySelector("div.dot.red"),n.el.greenDot=e.querySelector("div.dot.green"),n.el.dragLine=e.querySelector("div.drag-line"),e.addEventListener("pointerdown",(function(e){return n.onDragStart(e)})),e.addEventListener("pointermove",(function(e){return n.onDragMove(e)})),e.addEventListener("pointerup",(function(e){return n.onDragEnd(e)})),e.addEventListener("pointerleave",(function(e){return n.onDragEnd(e)})),n.updateCamera())},updateCamera:function(){var e=[v*(1-Math.cos(n.camAngle)),v*Math.sin(n.camAngle),Math.atan((1-Math.cos(n.camAngle))/(Math.sin(n.camAngle)-u/(2*v)))],t=e[0],r=e[1],o=e[2];n.el.camera.style.transform="rotateX(".concat(o,"rad) translate3d(0, ").concat(-t,"px, ").concat(-r,"px)")}}}));return(0,l.tZ)(l.HY,{children:(0,l.tZ)("div",{className:g,ref:n.rootRef,children:(0,l.BX)("div",{className:h,children:[(0,l.tZ)("div",{className:"camera",children:(0,l.BX)("div",{className:"pyramid",children:[(0,l.tZ)("div",{className:"base"}),(0,l.tZ)("div",{className:"side north"}),(0,l.tZ)("div",{className:"side east"}),(0,l.tZ)("div",{className:"side south"}),(0,l.tZ)("div",{className:"side west"})]})}),(0,l.tZ)("div",{className:"drag-line"}),(0,l.tZ)("div",{className:"dot red"}),(0,l.tZ)("div",{className:"dot green"})]})})})}var g=(0,i.iv)(r||(r=(0,a.Z)(["\n  background: #000000;\n  height: 100%;\n"]))),p=.04,f=360,m=360,u=Math.sqrt(3)/2*9e3*p,v=4800,h=(0,i.iv)(o||(o=(0,a.Z)(["\n  width: 100%;\n  height: 100%;\n  transform: translate(50%, 50%);\n  /* transform: scale(1.5) translate(50%, 50%); */\n  transform-origin: center;\n  position: relative;\n  \n  perspective: ","px;\n  perspective-origin: 0 0;\n  transform-style: preserve-3d;\n  \n  .camera {\n    transform-style: preserve-3d;\n    transform: rotateX(45deg) translate3d(0, ","px, ","px);\n    /** ? */\n    height: 100%;\n  }\n\n  .drag-line {\n    position: absolute;\n    height: 2px;\n    width: 0px;\n    left: 0;\n    top: 0;\n    background: white;\n    transform-origin: left center;\n  }\n  .dot {\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    left: ","px;\n    top: ","px;\n    pointer-events: none;\n  }\n  .dot.red {\n    background: red;\n  }\n  .dot.green {\n    background: green;\n  }\n\n  .pyramid {\n    transform-style: preserve-3d;\n    transform-origin: 0 ","px;\n    transform: rotateZ(45deg); /** TODO can adjust */\n  }\n  .base {\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    left: ","px;\n    top: ","px;\n    background: rgba(255, 0, 0, 0.1);\n    backface-visibility: hidden;\n  }\n\n  .side {\n    position: absolute;\n    width: 0;\n    height: 0;\n    backface-visibility: hidden;\n  }\n  .north {\n    left: ","px;\n    top: ","px;\n    border-left: ","px solid transparent;\n    border-right: ","px solid transparent;\n    border-top: ","px solid rgba(255, 255, 255, 0.1);\n    transform-origin: top;\n    transform: rotateX(60deg);\n  }\n  .east {\n    left: ","px;\n    top: ","px;\n    border-bottom: ","px solid transparent;\n    border-top: ","px solid transparent;\n    border-right: ","px solid rgba(255, 255, 255, 0.2);\n    transform-origin: right;\n    transform: rotateY(60deg);\n  }\n  /** We raise south-facing side pi/3, looking down from above */\n  .south {\n    left: ","px;\n    top: ","px;\n    border-left: ","px solid transparent;\n    border-right: ","px solid transparent;\n    border-bottom: ","px solid rgba(255, 255, 255, 0.3);\n    transform-origin: bottom;\n    transform: rotateX(-60deg);\n  }\n  .west {\n    left: ","px;\n    top: ","px;\n    border-bottom: ","px solid transparent;\n    border-top: ","px solid transparent;\n    border-left: ","px solid rgba(255, 255, 255, 0.4);\n    transform-origin: left;\n    transform: rotateY(-60deg);\n  }\n\n"])),v,-v,-v,4,4,-2,-2,-180,f,f,-180,-360,-180,-360,180,180,m,-180,-360,180,180,m,-180,-360,180,180,m,-180,-360,180,180,m)},35650:function(n,e,t){t.d(e,{Z:function(){return a}});var r=t(79056),o=t(59748);function a(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=o.default.useState(n),i=(0,r.Z)(a,1),d=i[0];return o.default.useEffect((function(){var t=n.toString()!==d._prevFn;if(d._prevFn)if(t){for(var o=n(),a=0,i=Object.entries(o);a<i.length;a++){var s,l=(0,r.Z)(i[a],2),c=l[0],g=l[1],p=c;"function"===typeof g?d[p]=g:c in d?d._prevInit&&!1===(null===(s=e[p])||void 0===s?void 0:s.call(e,d._prevInit[p],o[p]))&&(d[p]=o[p]):d[p]=g}for(var f=0,m=Object.entries(d);f<m.length;f++){var u=(0,r.Z)(m[f],2),v=u[0];u[1];v in o||delete d[v]}d._prevFn=n.toString(),d._prevInit=o}else for(var h=n(),b=0,x=Object.entries(h);b<x.length;b++){var y=(0,r.Z)(x[b],2),Z=y[0],w=y[1];"function"===typeof w&&(d[Z]=w)}else d._prevFn=n.toString(),d._prevInit=n()}),t),d}}}]);