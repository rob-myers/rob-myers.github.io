(self.webpackJsonp=self.webpackJsonp||[]).push([[4],{"/Y7t":function(t,e,n){"use strict";const r=n("6547"),i=(t,e,n)=>{if(!1===r(t))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===e||t===e)return String(t);if(!1===r(e))throw new TypeError("toRegexRange: expected the second argument to be a number.");let o={relaxZeros:!0,...n};"boolean"===typeof o.strictZeros&&(o.relaxZeros=!1===o.strictZeros);let u=t+":"+e+"="+String(o.relaxZeros)+String(o.shorthand)+String(o.capture)+String(o.wrap);if(i.cache.hasOwnProperty(u))return i.cache[u].result;let c=Math.min(t,e),l=Math.max(t,e);if(1===Math.abs(c-l)){let n=t+"|"+e;return o.capture?`(${n})`:!1===o.wrap?n:`(?:${n})`}let f=d(t)||d(e),h={min:t,max:e,a:c,b:l},p=[],v=[];if(f&&(h.isPadded=f,h.maxLen=String(h.max).length),c<0){v=a(l<0?Math.abs(l):1,Math.abs(c),h,o),c=h.a=0}return l>=0&&(p=a(c,l,h,o)),h.negatives=v,h.positives=p,h.result=function(t,e,n){let r=s(t,e,"-",!1,n)||[],i=s(e,t,"",!1,n)||[],o=s(t,e,"-?",!0,n)||[];return r.concat(o).concat(i).join("|")}(v,p,o),!0===o.capture?h.result=`(${h.result})`:!1!==o.wrap&&p.length+v.length>1&&(h.result=`(?:${h.result})`),i.cache[u]=h,h.result};function o(t,e,n){if(t===e)return{pattern:t,count:[],digits:0};let r=function(t,e){let n=[];for(let r=0;r<t.length;r++)n.push([t[r],e[r]]);return n}(t,e),i=r.length,o="",a=0;for(let s=0;s<i;s++){let[t,e]=r[s];t===e?o+=t:"0"!==t||"9"!==e?o+=p(t,e,n):a++}return a&&(o+=!0===n.shorthand?"\\d":"[0-9]"),{pattern:o,count:[a],digits:i}}function a(t,e,n,r){let i,a=function(t,e){let n=1,r=1,i=l(t,n),o=new Set([e]);for(;t<=i&&i<=e;)o.add(i),n+=1,i=l(t,n);for(i=f(e+1,r)-1;t<i&&i<=e;)o.add(i),r+=1,i=f(e+1,r)-1;return o=[...o],o.sort(u),o}(t,e),s=[],c=t;for(let u=0;u<a.length;u++){let t=a[u],e=o(String(c),String(t),r),l="";n.isPadded||!i||i.pattern!==e.pattern?(n.isPadded&&(l=v(t,n,r)),e.string=l+e.pattern+h(e.count),s.push(e),c=t+1,i=e):(i.count.length>1&&i.count.pop(),i.count.push(e.count[0]),i.string=i.pattern+h(i.count),c=t+1)}return s}function s(t,e,n,r,i){let o=[];for(let a of t){let{string:t}=a;r||c(e,"string",t)||o.push(n+t),r&&c(e,"string",t)&&o.push(n+t)}return o}function u(t,e){return t>e?1:e>t?-1:0}function c(t,e,n){return t.some(t=>t[e]===n)}function l(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function f(t,e){return t-t%Math.pow(10,e)}function h(t){let[e=0,n=""]=t;return n||e>1?`{${e+(n?","+n:"")}}`:""}function p(t,e,n){return`[${t}${e-t===1?"":"-"}${e}]`}function d(t){return/^-?(0+)\d/.test(t)}function v(t,e,n){if(!e.isPadded)return t;let r=Math.abs(e.maxLen-String(t).length),i=!1!==n.relaxZeros;switch(r){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${r}}`:`0{${r}}`}}i.cache={},i.clearCache=()=>i.cache={},t.exports=i},"16hD":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return u}));var r=n("rePB"),i=n("1OyB"),o=n("vuIU"),a=function(){function t(e,n){Object(i.a)(this,t),this.key=e,this.iNode=n}return Object(o.a)(t,[{key:"isATty",value:function(){return this.iNode.tty}},{key:"read",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.iNode.readable.registerCallback(t,n),function(){return e.iNode.readable.unregisterCallback(t)}}},{key:"write",value:function(t){this.iNode.write(t)}}]),t}(),s=function(){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(i.a)(this,t),this.readable=e,this.writable=n,this.tty=o,Object(r.a)(this,"numLinks",void 0),this.numLinks=0}return Object(o.a)(t,[{key:"hasReader",get:function(){return this.readable.hasListener}}]),Object(o.a)(t,[{key:"internalWrite",value:function(t){this.readable.write(t)}},{key:"onWrite",value:function(t,e){var n=this;return this.writable.registerCallback(t,e),function(){return n.writable.unregisterCallback(t)}}},{key:"write",value:function(t){this.writable.write(t)}}]),t}(),u=function(){function t(e,n){Object(i.a)(this,t),this.key=e,this.file=n,Object(r.a)(this,"numLinks",void 0),this.numLinks=0}return Object(o.a)(t,[{key:"onWrite",value:function(t,e){return this.file.iNode.onWrite(t,e)}},{key:"write",value:function(t){this.file.write(t)}}]),t}()},"1EQW":function(t,e,n){"use strict";const r=n("7tlc"),i=n("/Y7t"),o=t=>null!==t&&"object"===typeof t&&!Array.isArray(t),a=t=>"number"===typeof t||"string"===typeof t&&""!==t,s=t=>Number.isInteger(+t),u=t=>{let e=`${t}`,n=-1;if("-"===e[0]&&(e=e.slice(1)),"0"===e)return!1;for(;"0"===e[++n];);return n>0},c=(t,e,n)=>{if(e>0){let n="-"===t[0]?"-":"";n&&(t=t.slice(1)),t=n+t.padStart(n?e-1:e,"0")}return!1===n?String(t):t},l=(t,e)=>{let n="-"===t[0]?"-":"";for(n&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return n?"-"+t:t},f=(t,e,n,r)=>{if(n)return i(t,e,{wrap:!1,...r});let o=String.fromCharCode(t);return t===e?o:`[${o}-${String.fromCharCode(e)}]`},h=(t,e,n)=>{if(Array.isArray(t)){let e=!0===n.wrap,r=n.capture?"":"?:";return e?`(${r}${t.join("|")})`:t.join("|")}return i(t,e,n)},p=(...t)=>new RangeError("Invalid range arguments: "+r.inspect(...t)),d=(t,e,n)=>{if(!0===n.strictRanges)throw p([t,e]);return[]},v=(t,e,n=1,r={})=>{let i=Number(t),o=Number(e);if(!Number.isInteger(i)||!Number.isInteger(o)){if(!0===r.strictRanges)throw p([t,e]);return[]}0===i&&(i=0),0===o&&(o=0);let a=i>o,s=String(t),d=String(e),v=String(n);n=Math.max(Math.abs(n),1);let y=u(s)||u(d)||u(v),b=y?Math.max(s.length,d.length,v.length):0,g=!1===y&&!1===((t,e,n)=>"string"===typeof t||"string"===typeof e||!0===n.stringify)(t,e,r),m=r.transform||(t=>e=>!0===t?Number(e):String(e))(g);if(r.toRegex&&1===n)return f(l(t,b),l(e,b),!0,r);let x={negatives:[],positives:[]},w=t=>x[t<0?"negatives":"positives"].push(Math.abs(t)),k=[],_=0;for(;a?i>=o:i<=o;)!0===r.toRegex&&n>1?w(i):k.push(c(m(i,_),b,g)),i=a?i-n:i+n,_++;return!0===r.toRegex?n>1?((t,e)=>{t.negatives.sort((t,e)=>t<e?-1:t>e?1:0),t.positives.sort((t,e)=>t<e?-1:t>e?1:0);let n,r=e.capture?"":"?:",i="",o="";return t.positives.length&&(i=t.positives.join("|")),t.negatives.length&&(o=`-(${r}${t.negatives.join("|")})`),n=i&&o?`${i}|${o}`:i||o,e.wrap?`(${r}${n})`:n})(x,r):h(k,null,{wrap:!1,...r}):k},y=(t,e,n,r={})=>{if(null==e&&a(t))return[t];if(!a(t)||!a(e))return d(t,e,r);if("function"===typeof n)return y(t,e,1,{transform:n});if(o(n))return y(t,e,0,n);let i={...r};return!0===i.capture&&(i.wrap=!0),n=n||i.step||1,s(n)?s(t)&&s(e)?v(t,e,n,i):((t,e,n=1,r={})=>{if(!s(t)&&t.length>1||!s(e)&&e.length>1)return d(t,e,r);let i=r.transform||(t=>String.fromCharCode(t)),o=`${t}`.charCodeAt(0),a=`${e}`.charCodeAt(0),u=o>a,c=Math.min(o,a),l=Math.max(o,a);if(r.toRegex&&1===n)return f(c,l,!1,r);let p=[],v=0;for(;u?o>=a:o<=a;)p.push(i(o,v)),o=u?o-n:o+n,v++;return!0===r.toRegex?h(p,null,{wrap:!1,options:r}):p})(t,e,Math.max(Math.abs(n),1),i):null==n||o(n)?y(t,e,1,n):((t,e)=>{if(!0===e.strictRanges)throw new TypeError(`Expected step "${t}" to be a number`);return[]})(n,i)};t.exports=y},"1OyB":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},"25BE":function(t,e,n){"use strict";function r(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}n.d(e,"a",(function(){return r}))},"34/Y":function(t,e,n){"use strict";function r(t){return"("+t.x+";"+t.y+")"}t.exports={toString:function(t){var e=t.toString();return"[object Object]"===e?r(t):e},toStringBase:r,compare:function(t,e){return t.y===e.y?t.x-e.x:t.y-e.y},equals:function(t,e){return t.x===e.x&&t.y===e.y}}},"3L5V":function(t,e,n){(function(e){t.exports=function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}var i=function e(n,r){t(this,e),this.next=null,this.key=n,this.data=r,this.left=null,this.right=null};function o(t,e){return t>e?1:t<e?-1:0}function a(t,e,n){for(var r=new i(null,null),o=r,a=r;;){var s=n(t,e.key);if(s<0){if(null===e.left)break;if(n(t,e.left.key)<0){var u=e.left;if(e.left=u.right,u.right=e,null===(e=u).left)break}a.left=e,a=e,e=e.left}else{if(!(s>0))break;if(null===e.right)break;if(n(t,e.right.key)>0){var c=e.right;if(e.right=c.left,c.left=e,null===(e=c).right)break}o.right=e,o=e,e=e.right}}return o.right=e.left,a.left=e.right,e.left=r.right,e.right=r.left,e}function s(t,e,n,r){var o=new i(t,e);if(null===n)return o.left=o.right=null,o;var s=r(t,(n=a(t,n,r)).key);return s<0?(o.left=n.left,o.right=n,n.left=null):s>=0&&(o.right=n.right,o.left=n,n.right=null),o}function u(t,e,n){var r=null,i=null;if(e){var o=n((e=a(t,e,n)).key,t);0===o?(r=e.left,i=e.right):o<0?(i=e.right,e.right=null,r=e):(r=e.left,e.left=null,i=e)}return{left:r,right:i}}function c(t,e,n,r,i){if(t){r("".concat(e).concat(n?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ").concat(i(t),"\n"));var o=e+(n?"    ":"\u2502   ");t.left&&c(t.left,o,!1,r,i),t.right&&c(t.right,o,!0,r,i)}}var l=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;t(this,e),this._root=null,this._size=0,this._comparator=n}return r(e,[{key:"insert",value:function(t,e){return this._size++,this._root=s(t,e,this._root,this._comparator)}},{key:"add",value:function(t,e){var n=new i(t,e);null===this._root&&(n.left=n.right=null,this._size++,this._root=n);var r=this._comparator,o=a(t,this._root,r),s=r(t,o.key);return 0===s?this._root=o:(s<0?(n.left=o.left,n.right=o,o.left=null):s>0&&(n.right=o.right,n.left=o,o.right=null),this._size++,this._root=n),this._root}},{key:"remove",value:function(t){this._root=this._remove(t,this._root,this._comparator)}},{key:"_remove",value:function(t,e,n){var r;return null===e?null:0===n(t,(e=a(t,e,n)).key)?(null===e.left?r=e.right:(r=a(t,e.left,n)).right=e.right,this._size--,r):e}},{key:"pop",value:function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=a(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null}},{key:"findStatic",value:function(t){for(var e=this._root,n=this._comparator;e;){var r=n(t,e.key);if(0===r)return e;e=r<0?e.left:e.right}return null}},{key:"find",value:function(t){return this._root&&(this._root=a(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root}},{key:"contains",value:function(t){for(var e=this._root,n=this._comparator;e;){var r=n(t,e.key);if(0===r)return!0;e=r<0?e.left:e.right}return!1}},{key:"forEach",value:function(t,e){for(var n=this._root,r=[],i=!1;!i;)null!==n?(r.push(n),n=n.left):0!==r.length?(n=r.pop(),t.call(e,n),n=n.right):i=!0;return this}},{key:"range",value:function(t,e,n,r){for(var i=[],o=this._comparator,a=this._root;0!==i.length||a;)if(a)i.push(a),a=a.left;else{if(o((a=i.pop()).key,e)>0)break;if(o(a.key,t)>=0&&n.call(r,a))return this;a=a.right}return this}},{key:"keys",value:function(){var t=[];return this.forEach((function(e){var n=e.key;return t.push(n)})),t}},{key:"values",value:function(){var t=[];return this.forEach((function(e){var n=e.data;return t.push(n)})),t}},{key:"min",value:function(){return this._root?this.minNode(this._root).key:null}},{key:"max",value:function(){return this._root?this.maxNode(this._root).key:null}},{key:"minNode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._root;if(t)for(;t.left;)t=t.left;return t}},{key:"maxNode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._root;if(t)for(;t.right;)t=t.right;return t}},{key:"at",value:function(t){for(var e=this._root,n=!1,r=0,i=[];!n;)if(e)i.push(e),e=e.left;else if(i.length>0){if(e=i.pop(),r===t)return e;r++,e=e.right}else n=!0;return null}},{key:"next",value:function(t){var e=this._root,n=null;if(t.right){for(n=t.right;n.left;)n=n.left;return n}for(var r=this._comparator;e;){var i=r(t.key,e.key);if(0===i)break;i<0?(n=e,e=e.left):e=e.right}return n}},{key:"prev",value:function(t){var e=this._root,n=null;if(null!==t.left){for(n=t.left;n.right;)n=n.right;return n}for(var r=this._comparator;e;){var i=r(t.key,e.key);if(0===i)break;i<0?e=e.left:(n=e,e=e.right)}return n}},{key:"clear",value:function(){return this._root=null,this._size=0,this}},{key:"toList",value:function(){return function(t){for(var e=t,n=[],r=!1,o=new i(null,null),a=o;!r;)e?(n.push(e),e=e.left):n.length>0?e=(e=a=a.next=n.pop()).right:r=!0;return a.next=null,o.next}(this._root)}},{key:"load",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.length,i=this._comparator;if(n&&v(t,e,0,r-1,i),null===this._root)this._root=f(t,e,0,r),this._size=r;else{var o=d(this.toList(),h(t,e),i);r=this._size+r,this._root=p({head:o},0,r)}return this}},{key:"isEmpty",value:function(){return null===this._root}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return String(t.key)},e=[];return c(this._root,"",!0,(function(t){return e.push(t)}),t),e.join("")}},{key:"update",value:function(t,e,n){var r=this._comparator,i=u(t,this._root,r),o=i.left,c=i.right;r(t,e)<0?c=s(e,n,c,r):o=s(e,n,o,r),this._root=function(t,e,n){return null===e?t:null===t?e:((e=a(t.key,e,n)).left=t,e)}(o,c,r)}},{key:"split",value:function(t){return u(t,this._root,this._comparator)}},{key:"size",get:function(){return this._size}},{key:"root",get:function(){return this._root}}]),e}();function f(t,e,n,r){var o=r-n;if(o>0){var a=n+Math.floor(o/2),s=t[a],u=e[a],c=new i(s,u);return c.left=f(t,e,n,a),c.right=f(t,e,a+1,r),c}return null}function h(t,e){for(var n=new i(null,null),r=n,o=0;o<t.length;o++)r=r.next=new i(t[o],e[o]);return r.next=null,n.next}function p(t,e,n){var r=n-e;if(r>0){var i=e+Math.floor(r/2),o=p(t,e,i),a=t.head;return a.left=o,t.head=t.head.next,a.right=p(t,i+1,n),a}return null}function d(t,e,n){for(var r=new i(null,null),o=r,a=t,s=e;null!==a&&null!==s;)n(a.key,s.key)<0?(o.next=a,a=a.next):(o.next=s,s=s.next),o=o.next;return null!==a?o.next=a:null!==s&&(o.next=s),r.next}function v(t,e,n,r,i){if(!(n>=r)){for(var o=t[n+r>>1],a=n-1,s=r+1;;){do{a++}while(i(t[a],o)<0);do{s--}while(i(t[s],o)>0);if(a>=s)break;var u=t[a];t[a]=t[s],t[s]=u,u=e[a],e[a]=e[s],e[s]=u}v(t,e,n,s,i),v(t,e,s+1,r,i)}}var y=function(t,e){return t.ll.x<=e.x&&e.x<=t.ur.x&&t.ll.y<=e.y&&e.y<=t.ur.y},b=function(t,e){if(e.ur.x<t.ll.x||t.ur.x<e.ll.x||e.ur.y<t.ll.y||t.ur.y<e.ll.y)return null;var n=t.ll.x<e.ll.x?e.ll.x:t.ll.x,r=t.ur.x<e.ur.x?t.ur.x:e.ur.x;return{ll:{x:n,y:t.ll.y<e.ll.y?e.ll.y:t.ll.y},ur:{x:r,y:t.ur.y<e.ur.y?t.ur.y:e.ur.y}}},g=Number.EPSILON;void 0===g&&(g=Math.pow(2,-52));var m=g*g,x=function(t,e){if(-g<t&&t<g&&-g<e&&e<g)return 0;var n=t-e;return n*n<m*t*e?0:t<e?-1:1},w=function(){function e(){t(this,e),this.reset()}return r(e,[{key:"reset",value:function(){this.xRounder=new k,this.yRounder=new k}},{key:"round",value:function(t,e){return{x:this.xRounder.round(t),y:this.yRounder.round(e)}}}]),e}(),k=function(){function e(){t(this,e),this.tree=new l,this.round(0)}return r(e,[{key:"round",value:function(t){var e=this.tree.add(t),n=this.tree.prev(e);if(null!==n&&0===x(e.key,n.key))return this.tree.remove(t),n.key;var r=this.tree.next(e);return null!==r&&0===x(e.key,r.key)?(this.tree.remove(t),r.key):t}}]),e}(),_=new w,O=function(t,e){return t.x*e.y-t.y*e.x},S=function(t,e){return t.x*e.x+t.y*e.y},E=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y},o=O(r,i);return x(o,0)},P=function(t){return Math.sqrt(S(t,t))},j=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y};return O(i,r)/P(i)/P(r)},A=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y};return S(i,r)/P(i)/P(r)},C=function(t,e,n){return 0===e.y?null:{x:t.x+e.x/e.y*(n-t.y),y:n}},I=function(t,e,n){return 0===e.x?null:{x:n,y:t.y+e.y/e.x*(n-t.x)}},T=function(){function e(n,r){t(this,e),void 0===n.events?n.events=[this]:n.events.push(this),this.point=n,this.isLeft=r}return r(e,null,[{key:"compare",value:function(t,n){var r=e.comparePoints(t.point,n.point);return 0!==r?r:(t.point!==n.point&&t.link(n),t.isLeft!==n.isLeft?t.isLeft?1:-1:N.compare(t.segment,n.segment))}},{key:"comparePoints",value:function(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}}]),r(e,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var e=t.point.events,n=0,r=e.length;n<r;n++){var i=e[n];this.point.events.push(i),i.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,e=0;e<t;e++){var n=this.point.events[e];if(void 0===n.segment.consumedBy)for(var r=e+1;r<t;r++){var i=this.point.events[r];void 0===i.consumedBy&&n.otherSE.point.events===i.otherSE.point.events&&n.segment.consume(i.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],e=0,n=this.point.events.length;e<n;e++){var r=this.point.events[e];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&t.push(r)}return t}},{key:"getLeftmostComparator",value:function(t){var e=this,n=new Map,r=function(r){var i=r.otherSE;n.set(r,{sine:j(e.point,t.point,i.point),cosine:A(e.point,t.point,i.point)})};return function(t,e){n.has(t)||r(t),n.has(e)||r(e);var i=n.get(t),o=i.sine,a=i.cosine,s=n.get(e),u=s.sine,c=s.cosine;return o>=0&&u>=0?a<c?1:a>c?-1:0:o<0&&u<0?a<c?-1:a>c?1:0:u<o?-1:u>o?1:0}}}]),e}(),R=0,N=function(){function e(n,r,i,o){t(this,e),this.id=++R,this.leftSE=n,n.segment=this,n.otherSE=r,this.rightSE=r,r.segment=this,r.otherSE=n,this.rings=i,this.windings=o}return r(e,null,[{key:"compare",value:function(t,e){var n=t.leftSE.point.x,r=e.leftSE.point.x,i=t.rightSE.point.x,o=e.rightSE.point.x;if(o<n)return 1;if(i<r)return-1;var a=t.leftSE.point.y,s=e.leftSE.point.y,u=t.rightSE.point.y,c=e.rightSE.point.y;if(n<r){if(s<a&&s<u)return 1;if(s>a&&s>u)return-1;var l=t.comparePoint(e.leftSE.point);if(l<0)return 1;if(l>0)return-1;var f=e.comparePoint(t.rightSE.point);return 0!==f?f:-1}if(n>r){if(a<s&&a<c)return-1;if(a>s&&a>c)return 1;var h=e.comparePoint(t.leftSE.point);if(0!==h)return h;var p=t.comparePoint(e.rightSE.point);return p<0?1:p>0?-1:1}if(a<s)return-1;if(a>s)return 1;if(i<o){var d=e.comparePoint(t.rightSE.point);if(0!==d)return d}if(i>o){var v=t.comparePoint(e.rightSE.point);if(v<0)return 1;if(v>0)return-1}if(i!==o){var y=u-a,b=i-n,g=c-s,m=o-r;if(y>b&&g<m)return 1;if(y<b&&g>m)return-1}return i>o?1:i<o?-1:u<c?-1:u>c?1:t.id<e.id?-1:t.id>e.id?1:0}}]),r(e,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<e?t:e},ur:{x:this.rightSE.point.x,y:t>e?t:e}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var e=this.leftSE.point,n=this.rightSE.point,r=this.vector();if(e.x===n.x)return t.x===e.x?0:t.x<e.x?1:-1;var i=(t.y-e.y)/r.y,o=e.x+i*r.x;if(t.x===o)return 0;var a=(t.x-e.x)/r.x,s=e.y+a*r.y;return t.y===s?0:t.y<s?-1:1}},{key:"getIntersection",value:function(t){var e=this.bbox(),n=t.bbox(),r=b(e,n);if(null===r)return null;var i=this.leftSE.point,o=this.rightSE.point,a=t.leftSE.point,s=t.rightSE.point,u=y(e,a)&&0===this.comparePoint(a),c=y(n,i)&&0===t.comparePoint(i),l=y(e,s)&&0===this.comparePoint(s),f=y(n,o)&&0===t.comparePoint(o);if(c&&u)return f&&!l?o:!f&&l?s:null;if(c)return l&&i.x===s.x&&i.y===s.y?null:i;if(u)return f&&o.x===a.x&&o.y===a.y?null:a;if(f&&l)return null;if(f)return o;if(l)return s;var h=function(t,e,n,r){if(0===e.x)return I(n,r,t.x);if(0===r.x)return I(t,e,n.x);if(0===e.y)return C(n,r,t.y);if(0===r.y)return C(t,e,n.y);var i=O(e,r);if(0==i)return null;var o={x:n.x-t.x,y:n.y-t.y},a=O(o,e)/i,s=O(o,r)/i;return{x:(t.x+s*e.x+(n.x+a*r.x))/2,y:(t.y+s*e.y+(n.y+a*r.y))/2}}(i,this.vector(),a,t.vector());return null===h?null:y(r,h)?_.round(h.x,h.y):null}},{key:"split",value:function(t){var n=[],r=void 0!==t.events,i=new T(t,!0),o=new T(t,!1),a=this.rightSE;this.replaceRightSE(o),n.push(o),n.push(i);var s=new e(i,a,this.rings.slice(),this.windings.slice());return T.comparePoints(s.leftSE.point,s.rightSE.point)>0&&s.swapEvents(),T.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(i.checkForConsuming(),o.checkForConsuming()),n}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var e=0,n=this.windings.length;e<n;e++)this.windings[e]*=-1}},{key:"consume",value:function(t){for(var n=this,r=t;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;var i=e.compare(n,r);if(0!==i){if(i>0){var o=n;n=r,r=o}if(n.prev===r){var a=n;n=r,r=a}for(var s=0,u=r.rings.length;s<u;s++){var c=r.rings[s],l=r.windings[s],f=n.rings.indexOf(c);-1===f?(n.rings.push(c),n.windings.push(l)):n.windings[f]+=l}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var e=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys,i=0,o=this.rings.length;i<o;i++){var a=this.rings[i],s=this.windings[i],u=e.indexOf(a);-1===u?(e.push(a),n.push(s)):n[u]+=s}for(var c=[],l=[],f=0,h=e.length;f<h;f++)if(0!==n[f]){var p=e[f],d=p.poly;if(-1===l.indexOf(d))if(p.isExterior)c.push(d);else{-1===l.indexOf(d)&&l.push(d);var v=c.indexOf(p.poly);-1!==v&&c.splice(v,1)}}for(var y=0,b=c.length;y<b;y++){var g=c[y].multiPoly;-1===r.indexOf(g)&&r.push(g)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var t=this.beforeState().multiPolys,e=this.afterState().multiPolys;switch(K.type){case"union":var n=0===t.length,r=0===e.length;this._isInResult=n!==r;break;case"intersection":var i,o;t.length<e.length?(i=t.length,o=e.length):(i=e.length,o=t.length),this._isInResult=o===K.numMultiPolys&&i<o;break;case"xor":var a=Math.abs(t.length-e.length);this._isInResult=a%2===1;break;case"difference":var s=function(t){return 1===t.length&&t[0].isSubject};this._isInResult=s(t)!==s(e);break;default:throw new Error("Unrecognized operation type found ".concat(K.type))}return this._isInResult}}],[{key:"fromRing",value:function(t,n,r){var i,o,a,s=T.comparePoints(t,n);if(s<0)i=t,o=n,a=1;else{if(!(s>0))throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));i=n,o=t,a=-1}return new e(new T(i,!0),new T(o,!1),[r],[a])}}]),e}(),L=function(){function e(n,r,i){if(t(this,e),!Array.isArray(n)||0===n.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=r,this.isExterior=i,this.segments=[],"number"!==typeof n[0][0]||"number"!==typeof n[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var o=_.round(n[0][0],n[0][1]);this.bbox={ll:{x:o.x,y:o.y},ur:{x:o.x,y:o.y}};for(var a=o,s=1,u=n.length;s<u;s++){if("number"!==typeof n[s][0]||"number"!==typeof n[s][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var c=_.round(n[s][0],n[s][1]);c.x===a.x&&c.y===a.y||(this.segments.push(N.fromRing(a,c,this)),c.x<this.bbox.ll.x&&(this.bbox.ll.x=c.x),c.y<this.bbox.ll.y&&(this.bbox.ll.y=c.y),c.x>this.bbox.ur.x&&(this.bbox.ur.x=c.x),c.y>this.bbox.ur.y&&(this.bbox.ur.y=c.y),a=c)}o.x===a.x&&o.y===a.y||this.segments.push(N.fromRing(a,o,this))}return r(e,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,n=this.segments.length;e<n;e++){var r=this.segments[e];t.push(r.leftSE),t.push(r.rightSE)}return t}}]),e}(),M=function(){function e(n,r){if(t(this,e),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new L(n[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var i=1,o=n.length;i<o;i++){var a=new L(n[i],this,!1);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.interiorRings.push(a)}this.multiPoly=r}return r(e,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),e=0,n=this.interiorRings.length;e<n;e++)for(var r=this.interiorRings[e].getSweepEvents(),i=0,o=r.length;i<o;i++)t.push(r[i]);return t}}]),e}(),B=function(){function e(n,r){if(t(this,e),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"===typeof n[0][0][0]&&(n=[n])}catch(s){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var i=0,o=n.length;i<o;i++){var a=new M(n[i],this);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.polys.push(a)}this.isSubject=r}return r(e,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,n=this.polys.length;e<n;e++)for(var r=this.polys[e].getSweepEvents(),i=0,o=r.length;i<o;i++)t.push(r[i]);return t}}]),e}(),U=function(){function e(n){t(this,e),this.events=n;for(var r=0,i=n.length;r<i;r++)n[r].segment.ringOut=this;this.poly=null}return r(e,null,[{key:"factory",value:function(t){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];if(o.isInResult()&&!o.ringOut){for(var a=null,s=o.leftSE,u=o.rightSE,c=[s],l=s.point,f=[];a=s,s=u,c.push(s),s.point!==l;)for(;;){var h=s.getAvailableLinkedEvents();if(0===h.length){var p=c[0].point,d=c[c.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(p.x,",")+" ".concat(p.y,"]. Last matching segment found ends at")+" [".concat(d.x,", ").concat(d.y,"]."))}if(1===h.length){u=h[0].otherSE;break}for(var v=null,y=0,b=f.length;y<b;y++)if(f[y].point===s.point){v=y;break}if(null===v){f.push({index:c.length,point:s.point});var g=s.getLeftmostComparator(a);u=h.sort(g)[0].otherSE;break}var m=f.splice(v)[0],x=c.splice(m.index);x.unshift(x[0].otherSE),n.push(new e(x.reverse()))}n.push(new e(c))}}return n}}]),r(e,[{key:"getGeom",value:function(){for(var t=this.events[0].point,e=[t],n=1,r=this.events.length-1;n<r;n++){var i=this.events[n].point,o=this.events[n+1].point;0!==E(i,t,o)&&(e.push(i),t=i)}if(1===e.length)return null;var a=e[0],s=e[1];0===E(a,t,s)&&e.shift(),e.push(e[0]);for(var u=this.isExteriorRing()?1:-1,c=this.isExteriorRing()?0:e.length-1,l=this.isExteriorRing()?e.length:-1,f=[],h=c;h!=l;h+=u)f.push([e[h].x,e[h].y]);return f}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],e=1,n=this.events.length;e<n;e++){var r=this.events[e];T.compare(t,r)>0&&(t=r)}for(var i=t.segment.prevInResult(),o=i?i.prevInResult():null;;){if(!i)return null;if(!o)return i.ringOut;if(o.ringOut!==i.ringOut)return o.ringOut.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut.enclosingRing();i=o.prevInResult(),o=i?i.prevInResult():null}}}]),e}(),F=function(){function e(n){t(this,e),this.exteriorRing=n,n.poly=this,this.interiorRings=[]}return r(e,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(var e=0,n=this.interiorRings.length;e<n;e++){var r=this.interiorRings[e].getGeom();null!==r&&t.push(r)}return t}}]),e}(),D=function(){function e(n){t(this,e),this.rings=n,this.polys=this._composePolys(n)}return r(e,[{key:"getGeom",value:function(){for(var t=[],e=0,n=this.polys.length;e<n;e++){var r=this.polys[e].getGeom();null!==r&&t.push(r)}return t}},{key:"_composePolys",value:function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];if(!i.poly)if(i.isExteriorRing())e.push(new F(i));else{var o=i.enclosingRing();o.poly||e.push(new F(o)),o.poly.addInterior(i)}}return e}}]),e}(),V=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.compare;t(this,e),this.queue=n,this.tree=new l(r),this.segments=[]}return r(e,[{key:"process",value:function(t){var e=t.segment,n=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(e),n;var r=t.isLeft?this.tree.insert(e):this.tree.find(e);if(!r)throw new Error("Unable to find segment #".concat(e.id," ")+"[".concat(e.leftSE.point.x,", ").concat(e.leftSE.point.y,"] -> ")+"[".concat(e.rightSE.point.x,", ").concat(e.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var i=r,o=r,a=void 0,s=void 0;void 0===a;)null===(i=this.tree.prev(i))?a=null:void 0===i.key.consumedBy&&(a=i.key);for(;void 0===s;)null===(o=this.tree.next(o))?s=null:void 0===o.key.consumedBy&&(s=o.key);if(t.isLeft){var u=null;if(a){var c=a.getIntersection(e);if(null!==c&&(e.isAnEndpoint(c)||(u=c),!a.isAnEndpoint(c)))for(var l=this._splitSafely(a,c),f=0,h=l.length;f<h;f++)n.push(l[f])}var p=null;if(s){var d=s.getIntersection(e);if(null!==d&&(e.isAnEndpoint(d)||(p=d),!s.isAnEndpoint(d)))for(var v=this._splitSafely(s,d),y=0,b=v.length;y<b;y++)n.push(v[y])}if(null!==u||null!==p){var g=null;g=null===u?p:null===p?u:T.comparePoints(u,p)<=0?u:p,this.queue.remove(e.rightSE),n.push(e.rightSE);for(var m=e.split(g),x=0,w=m.length;x<w;x++)n.push(m[x])}n.length>0?(this.tree.remove(e),n.push(t)):(this.segments.push(e),e.prev=a)}else{if(a&&s){var k=a.getIntersection(s);if(null!==k){if(!a.isAnEndpoint(k))for(var _=this._splitSafely(a,k),O=0,S=_.length;O<S;O++)n.push(_[O]);if(!s.isAnEndpoint(k))for(var E=this._splitSafely(s,k),P=0,j=E.length;P<j;P++)n.push(E[P])}}this.tree.remove(e)}return n}},{key:"_splitSafely",value:function(t,e){this.tree.remove(t);var n=t.rightSE;this.queue.remove(n);var r=t.split(e);return r.push(n),void 0===t.consumedBy&&this.tree.insert(t),r}}]),e}(),W="undefined"!==typeof e&&e.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,G="undefined"!==typeof e&&e.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,K=new(function(){function e(){t(this,e)}return r(e,[{key:"run",value:function(t,e,n){K.type=t,_.reset();for(var r=[new B(e,!0)],i=0,o=n.length;i<o;i++)r.push(new B(n[i],!1));if(K.numMultiPolys=r.length,"difference"===K.type)for(var a=r[0],s=1;s<r.length;)null!==b(r[s].bbox,a.bbox)?s++:r.splice(s,1);if("intersection"===K.type)for(var u=0,c=r.length;u<c;u++)for(var f=r[u],h=u+1,p=r.length;h<p;h++)if(null===b(f.bbox,r[h].bbox))return[];for(var d=new l(T.compare),v=0,y=r.length;v<y;v++)for(var g=r[v].getSweepEvents(),m=0,x=g.length;m<x;m++)if(d.insert(g[m]),d.size>W)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var w=new V(d),k=d.size,O=d.pop();O;){var S=O.key;if(d.size===k){var E=S.segment;throw new Error("Unable to pop() ".concat(S.isLeft?"left":"right"," SweepEvent ")+"[".concat(S.point.x,", ").concat(S.point.y,"] from segment #").concat(E.id," ")+"[".concat(E.leftSE.point.x,", ").concat(E.leftSE.point.y,"] -> ")+"[".concat(E.rightSE.point.x,", ").concat(E.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(d.size>W)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(w.segments.length>G)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var P=w.process(S),j=0,A=P.length;j<A;j++){var C=P[j];void 0===C.consumedBy&&d.insert(C)}k=d.size,O=d.pop()}_.reset();var I=U.factory(w.segments);return new D(I).getGeom()}}]),e}());return{union:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return K.run("union",t,n)},intersection:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return K.run("intersection",t,n)},xor:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return K.run("xor",t,n)},difference:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return K.run("difference",t,n)}}}()}).call(this,n("8oxB"))},"3RSX":function(t,e,n){"use strict";var r=n("Qfp6");t.exports=function(t){return!(!t||"string"!==typeof t||t.length<6)&&!new RegExp("[^"+r.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(t)}},"49sm":function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},"4ACg":function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u}));var r=n("q1tI"),i=n("i8i4"),o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){var e,n,r,i={};if("html"===t)r=document.createElement("div");else{if("svg"!==t)throw new Error('Invalid element type "'+t+'" for createPortalNode: must be "html" or "svg".');r=document.createElementNS("http://www.w3.org/2000/svg","g")}var o={element:r,elementType:t,setPortalProps:function(t){i=t},getInitialPortalProps:function(){return i},mount:function(r,i){if(i!==n){if(o.unmount(),r!==e&&!function(t,e){if("html"===e)return t instanceof HTMLElement;if("svg"===e)return t instanceof SVGElement;throw new Error('Unrecognized element type "'+e+'" for validateElementType.')}(r,t))throw new Error('Invalid element type for portal: "'+t+'" portalNodes must be used with '+t+" elements, but OutPortal is within <"+r.tagName+">.");r.replaceChild(o.element,i),e=r,n=i}},unmount:function(t){t&&t!==n||e&&n&&(e.replaceChild(n,o.element),e=void 0,n=void 0)}};return o},s=function(t){function e(e){var n=t.call(this,e)||this;return n.addPropsChannel=function(){Object.assign(n.props.node,{setPortalProps:function(t){n.setState({nodeProps:t})}})},n.state={nodeProps:n.props.node.getInitialPortalProps()},n}return o(e,t),e.prototype.componentDidMount=function(){this.addPropsChannel()},e.prototype.componentDidUpdate=function(){this.addPropsChannel()},e.prototype.render=function(){var t=this,e=this.props,n=e.children,o=e.node;return i.createPortal(r.Children.map(n,(function(e){return r.isValidElement(e)?r.cloneElement(e,t.state.nodeProps):e})),o.element)},e}(r.PureComponent),u=function(t){function e(e){var n=t.call(this,e)||this;return n.placeholderNode=r.createRef(),n.passPropsThroughPortal(),n}return o(e,t),e.prototype.passPropsThroughPortal=function(){var t=Object.assign({},this.props,{node:void 0});this.props.node.setPortalProps(t)},e.prototype.componentDidMount=function(){var t=this.props.node;this.currentPortalNode=t;var e=this.placeholderNode.current,n=e.parentNode;t.mount(n,e),this.passPropsThroughPortal()},e.prototype.componentDidUpdate=function(){var t=this.props.node;this.currentPortalNode&&t!==this.currentPortalNode&&(this.currentPortalNode.unmount(),this.currentPortalNode=t);var e=this.placeholderNode.current,n=e.parentNode;t.mount(n,e),this.passPropsThroughPortal()},e.prototype.componentWillUnmount=function(){this.props.node.unmount(this.placeholderNode.current)},e.prototype.render=function(){return r.createElement("div",{ref:this.placeholderNode})},e}(r.PureComponent),c=a.bind(null,"html");a.bind(null,"svg")},"4TB2":function(t,e,n){"use strict";const r=n("gabW"),i=n("4c6g"),o=n("uh0p"),a=n("Pnm8"),s=(t,e={})=>{let n=[];if(Array.isArray(t))for(let r of t){let t=s.create(r,e);Array.isArray(t)?n.push(...t):n.push(t)}else n=[].concat(s.create(t,e));return e&&!0===e.expand&&!0===e.nodupes&&(n=[...new Set(n)]),n};s.parse=(t,e={})=>a(t,e),s.stringify=(t,e={})=>r("string"===typeof t?s.parse(t,e):t,e),s.compile=(t,e={})=>("string"===typeof t&&(t=s.parse(t,e)),i(t,e)),s.expand=(t,e={})=>{"string"===typeof t&&(t=s.parse(t,e));let n=o(t,e);return!0===e.noempty&&(n=n.filter(Boolean)),!0===e.nodupes&&(n=[...new Set(n)]),n},s.create=(t,e={})=>""===t||t.length<3?[t]:!0!==e.expand?s.compile(t,e):s.expand(t,e),t.exports=s},"4c6g":function(t,e,n){"use strict";const r=n("1EQW"),i=n("xiUG");t.exports=(t,e={})=>{let n=(t,o={})=>{let a=i.isInvalidBrace(o),s=!0===t.invalid&&!0===e.escapeInvalid,u=!0===a||!0===s,c=!0===e.escapeInvalid?"\\":"",l="";if(!0===t.isOpen)return c+t.value;if(!0===t.isClose)return c+t.value;if("open"===t.type)return u?c+t.value:"(";if("close"===t.type)return u?c+t.value:")";if("comma"===t.type)return"comma"===t.prev.type?"":u?t.value:"|";if(t.value)return t.value;if(t.nodes&&t.ranges>0){let n=i.reduce(t.nodes),o=r(...n,{...e,wrap:!1,toRegex:!0});if(0!==o.length)return n.length>1&&o.length>1?`(${o})`:o}if(t.nodes)for(let e of t.nodes)l+=n(e,t);return l};return n(t)}},"4vL7":function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return l}));var r=n("Ff2n"),i=n("rePB");function o(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(i.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e){return s(s({},e),{},Object(i.a)({},t.key,t))}function c(t,e){e[t];return Object(r.a)(e,[t].map(o))}function l(t,e,n){if(!e[t])return e;var r=n(e[t]);return r?s(s({},e),{},Object(i.a)({},t,s(s({},e[t]),r))):e}},"5R+2":function(t,e){t.exports=function(t,e,n){for(var r=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*r*n/e.length),o="";;)for(var a=t(i),s=i;s--;)if((o+=e[a[s]&r]||"").length===+n)return o}},6547:function(t,e,n){"use strict";t.exports=function(t){return"number"===typeof t?t-t===0:"string"===typeof t&&""!==t.trim()&&(Number.isFinite?Number.isFinite(+t):isFinite(+t))}},"69Zz":function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return r}))},"7tlc":function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}})),u=r[n];n<o;u=r[++n])v(u)||!x(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(n,r){if("undefined"!==typeof t&&!0===t.noDeprecation)return n;if("undefined"===typeof t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function s(t,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,t,r.depth)}function u(t,e){var n=s.styles[e];return n?"\x1b["+s.colors[n][0]+"m"+t+"\x1b["+s.colors[n][1]+"m":t}function c(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&_(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return b(i)||(i=l(t,i,r)),i}var o=function(t,e){if(g(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(y(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(v(e))return t.stylize("null","null")}(t,n);if(o)return o;var a=Object.keys(n),s=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),k(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(_(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(m(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(k(n))return f(n)}var c,x="",O=!1,S=["{","}"];(p(n)&&(O=!0,S=["[","]"]),_(n))&&(x=" [Function"+(n.name?": "+n.name:"")+"]");return m(n)&&(x=" "+RegExp.prototype.toString.call(n)),w(n)&&(x=" "+Date.prototype.toUTCString.call(n)),k(n)&&(x=" "+f(n)),0!==a.length||O&&0!=n.length?r<0?m(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=O?function(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)j(e,String(a))?o.push(h(t,e,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))})),o}(t,n,r,s,a):a.map((function(e){return h(t,n,r,s,e,O)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,x,S)):S[0]+x+S[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),j(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(u.value)<0?(s=v(n)?l(t,u.value,null):l(t,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),g(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t){return Array.isArray(t)}function d(t){return"boolean"===typeof t}function v(t){return null===t}function y(t){return"number"===typeof t}function b(t){return"string"===typeof t}function g(t){return void 0===t}function m(t){return x(t)&&"[object RegExp]"===O(t)}function x(t){return"object"===typeof t&&null!==t}function w(t){return x(t)&&"[object Date]"===O(t)}function k(t){return x(t)&&("[object Error]"===O(t)||t instanceof Error)}function _(t){return"function"===typeof t}function O(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(g(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;a[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else a[n]=function(){};return a[n]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=d,e.isNull=v,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=b,e.isSymbol=function(t){return"symbol"===typeof t},e.isUndefined=g,e.isRegExp=m,e.isObject=x,e.isDate=w,e.isError=k,e.isFunction=_,e.isPrimitive=function(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t},e.isBuffer=n("j/1Z");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var t=new Date,e=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":");return[t.getDate(),E[t.getMonth()],e].join(" ")}function j(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",P(),e.format.apply(e,arguments))},e.inherits=n("FfBw"),e._extend=function(t,e){if(!e||!x(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var A="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');if(A&&t[A]){var e;if("function"!==typeof(e=t[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(a){n(a)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),A&&Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=A,e.callbackify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,n).then((function(e){t.nextTick(a,null,e)}),(function(e){t.nextTick(C,e,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n("8oxB"))},"8oxB":function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"96ag":function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"i",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return f})),n.d(e,"h",(function(){return h}));var r=n("Womt"),i=new r.MeshStandardMaterial({color:11175558,opacity:.2,transparent:!0,side:r.DoubleSide});function o(t){return"Mesh"===t.type}var a=1e-4;function s(t,e){return t.children.find((function(t){return t.name===e}))||null}function u(t){return(new r.Box3).setFromObject(t)}function c(t){return t.position.set(0,0,0),t.geometry.rotateX(Math.PI/2),t.geometry.translate(0,0,-t.geometry.boundingBox.min.z),t}var l=new r.Group,f=new r.Mesh,h=new r.Scene},BN7R:function(t,e,n){"use strict";t.exports=function(t,e){var n=t.length;if(e)for(var r=0;r<n;++r)e[r]=0;else e=new Uint8Array(n);t:for(r=0;r<n;++r){for(var i=t[r],o=i.length,a=0;a<o;++a)if(e[i[a]])continue t;e[r]=1}return e}},Bpvx:function(t,e,n){"use strict";var r=n("Qfp6"),i=n("Pfkr"),o=n("3RSX"),a=n("n8Jw")||0;function s(){return i(a)}t.exports=s,t.exports.generate=s,t.exports.seed=function(e){return r.seed(e),t.exports},t.exports.worker=function(e){return a=e,t.exports},t.exports.characters=function(t){return void 0!==t&&r.characters(t),r.shuffled()},t.exports.isValid=o},CN2p:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r=n("1OyB"),i=n("vuIU"),o=n("KKU8"),a=n("LqIL"),s=n("16hD"),u=n("rePB"),c=n("FLoe");function l(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h=function(){function t(){Object(r.a)(this,t),Object(u.a)(this,"subscription",void 0),Object(u.a)(this,"internal",void 0),Object(u.a)(this,"cbToSub",void 0),Object(u.a)(this,"once",void 0),this.internal=new c.a,this.subscription=this.internal.subscribe(),this.cbToSub=new Map,this.once=new Set}return Object(i.a)(t,[{key:"hasListener",get:function(){return this.cbToSub.size>0}}]),Object(i.a)(t,[{key:"registerCallback",value:function(t,e){this.cbToSub.set(t,this.internal.subscribe(t)),e&&this.once.add(t)}},{key:"unregisterCallback",value:function(t){var e;null===(e=this.cbToSub.get(t))||void 0===e||e.unsubscribe(),this.cbToSub.delete(t),this.once.delete(t)}},{key:"write",value:function(t){this.internal.next(t);var e,n=l(this.once);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.cbToSub.get(r).unsubscribe()}}catch(i){n.e(i)}finally{n.f()}this.once.clear()}}]),t}(),p=n("N7p8"),d=function(){function t(){Object(r.a)(this,t)}return Object(i.a)(t,[{key:"createFsFile",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new s.a(t,new s.c(e,n,r))}},{key:"getFile",value:function(t){return this.getFs()[t]||null}},{key:"getFs",value:function(){return a.a.getState().fs}},{key:"getNextFd",value:function(t,e){return void 0===e?Object(o.a)(Object.keys(t).map(Number)):e}},{key:"makeDevice",value:function(t){return this.createFsFile(t,new h,new h)}},{key:"makeTty",value:function(t){return this.createFsFile(t,new h,new h,!0)}},{key:"makeVarSetter",value:function(t,e,n){var r=new h;return r.registerCallback((function(e){p.c.assignVar(t,{varName:n,value:e})}),!1),this.createFsFile(e,new h,r)}},{key:"makeWire",value:function(t){var e=new h;return this.createFsFile(t,e,e)}},{key:"saveFile",value:function(t){this.getFs()[t.key]=t}},{key:"unlinkFile",value:function(t){delete this.getFs()[t]}},{key:"validatePath",value:function(t){var e=t.split("/");return 3===e.length&&!e[0]&&v.includes(e[1])&&e[2]&&!/\s/.test(e[2])}}]),t}(),v=["root","dev","tmp"],y=new d},CR0S:function(t,e,n){"use strict";var r,i="object"===typeof window&&(window.crypto||window.msCrypto);r=i&&i.getRandomValues?function(t){return i.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],n=0;n<t;n++)e.push(Math.floor(256*Math.random()));return e},t.exports=r},DSFK:function(t,e,n){"use strict";function r(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return r}))},Dhq2:function(t,e,n){"use strict";function r(t){return"function"===typeof t}n.d(e,"a",(function(){return r}))},Ds9z:function(t,e,n){"use strict";var r=n("zqV6"),i=1<<28;t.exports=function(t,e,n){for(var o=new Array(t),a=r.mallocInt32(t),s=r.mallocInt32(t),u=0;u<t;++u)a[u]=-1,o[u]=[],s[u]=i;var c=new Array(e),l=r.mallocInt32(e);for(u=0;u<e;++u)l[u]=-1,c[u]=[];var f=n.length;for(u=0;u<f;++u){var h=n[u];o[h[0]].push(h[1]),c[h[1]].push(h[0])}var p=i;function d(t){if(t<0)return!0;for(var e=o[t],n=0,r=e.length;n<r;++n){var u=e[n],c=l[u],f=p;if(c>=0&&(f=s[c]),f===s[t]+1&&d(c))return a[t]=u,l[u]=t,!0}return s[t]=i,!1}var v=r.mallocInt32(t),y=0;for(;;){var b=0;for(u=0;u<t;++u)a[u]<0?(s[u]=0,v[b++]=u):s[u]=i;var g=0;for(p=i;g<b;){var m=v[g++],x=s[m];if(x<p)for(var w=o[m],k=0,_=w.length;k<_;++k){var O=w[k],S=l[O];S<0?p===i&&(p=x+1):s[S]===i&&(s[S]=x+1,v[b++]=S)}}if(p===i)break;for(u=0;u<t;++u)a[u]<0&&d(u)&&(y+=1)}b=0;var E=new Array(y);for(u=0;u<t;++u)a[u]<0||(E[b++]=[u,a[u]]);return r.free(v),r.free(l),r.free(s),r.free(a),E}},EJlW:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r}));var r,i={arrayAsgn:function(t,e){return{key:"array-asgn",pairs:t,associative:e}},expanded:function(t){return{key:"expanded",values:t instanceof Array?t:[t],value:t instanceof Array?t.join(" "):t}},unimplemented:function(){return{key:"unimplemented"}}};!function(t){t.SIGHUP="SIGHUP",t.SIGINT="SIGINT",t.SIGQUIT="SIGQUIT",t.SIGILL="SIGILL",t.SIGTRAP="SIGTRAP",t.SIGART="SIGART",t.SIGEMT="SIGEMT",t.SIGFPE="SIGFPE",t.SIGKILL="SIGKILL",t.SIGBUS="SIGBUS",t.SIGSEGV="SIGSEGV",t.SIGSYS="SIGSYS",t.SIGPIPE="SIGPIPE",t.SIGALRM="SIGALRM",t.SIGTERM="SIGTERM",t.SIGURG="SIGURG",t.SIGSTOP="SIGSTOP",t.SIGTSTP="SIGTSTP",t.SIGCONT="SIGCONT",t.SIGCHLD="SIGCHLD",t.SIGTTIN="SIGTTIN",t.SIGTTOU="SIGTTOU",t.SIGIO="SIGIO",t.SIGXCPU="SIGXCPU",t.SIGXFSZ="SIGXFSZ",t.SIGVTALRM="SIGVTALRM",t.SIGPROF="SIGPROF",t.SIGWINCH="SIGWINCH",t.SIGINFO="SIGINFO",t.SIGUSR1="SIGUSR1",t.SIGUSR2="SIGUSR2"}(r||(r={}))},FLoe:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("mrSG"),i=n("jy4+"),o=n("jYKN"),a=n("ljPn"),s=n("gJF5"),u=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return Object(r.c)(e,t),e.prototype.lift=function(t){var e=new c(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new c(t,e)},e}(i.a),c=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return Object(r.c)(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):o.a.EMPTY},e}(u)},FMXL:function(t,e,n){"use strict";var r=n("rHF+");function i(t,e){return t-e}function o(t,e){var n=t.length,r=new Array(e-n),o=0,a=0;t.sort(i);for(var s=0;s<e;++s)t[o]===s?o+=1:r[a++]=s;return r}t.exports=function(t,e,n){var i=r(t,e,n);return[o(i[0],t),o(i[1],e)]}},FfBw:function(t,e){"function"===typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},H0Bg:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n("ODXe"),i=n("T5bk"),o=n("KQm4"),a=n("1OyB"),s=n("vuIU"),u=n("frP5"),c=n("3L5V"),l=n("VmRL"),f=n.n(l),h=n("UYus"),p=n("u5V+"),d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(a.a)(this,t),this.outline=e,this.holes=n}return Object(s.a)(t,[{key:"cleanFinalReps",value:function(){for(var t=0,e=[this.outline].concat(Object(o.a)(this.holes));t<e.length;t++){var n=e[t],r=n.pop();r&&!r.equals(n[0])&&n.push(r)}return this}},{key:"clone",value:function(){return new t(this.outline.map((function(t){return t.clone()})),this.holes.map((function(t){return t.map((function(t){return t.clone()}))})))}},{key:"createInset",value:function(e){var n;if(0===e)return[this.clone()];var r=[{ring:this.outline,inset:t.insetRing(this.outline,e)}].concat(Object(o.a)(this.holes.map((function(n){return{ring:n,inset:t.insetRing(n,e)}})))).map((function(e){var n=e.ring,r=e.inset;return n.map((function(e,i){return new t([n[i].clone(),r[i],r[(i+1)%n.length],n[(i+1)%n.length].clone()])}))})),a=Object(i.a)(r),s=a[0],u=a.slice(1);return e>0?t.cutOut(s.concat.apply(s,Object(o.a)(u)),[this.clone()]):t.union((n=[this.clone()]).concat.apply(n,[s].concat(Object(o.a)(u))))}},{key:"createOutset",value:function(t){return this.createInset(-t)}},{key:"fastTriangulate",value:function(){var t=this.geoJson.coordinates,e=f.a.flatten(t),n=f()(e.vertices,e.holes,2),r=n.reduce((function(t,e,r){return r%3===2?t.concat([[n[r-2],n[r-1],e]]):t}),[]);return{vs:this.allPoints,tris:r}}},{key:"qualityTriangulate",value:function(){try{var t=this.outline.map((function(t,e){return{x:t.x,y:t.y,id:e}})),e=t.length,n=this.holes.map((function(t){return t.map((function(t){return{x:t.x,y:t.y,id:e++}}))})),i=new u.SweepContext(t).addHoles(n).triangulate().getTriangles().map((function(t){return[t.getPoint(0),t.getPoint(1),t.getPoint(2)]})).map((function(t){var e=Object(r.a)(t,3),n=e[0],i=e[1],o=e[2];return[n.id,i.id,o.id]}));return{vs:this.allPoints,tris:i}}catch(o){return console.error("Quality triangulation failed, falling back to earcut"),console.error(o),this.fastTriangulate()}}},{key:"round",value:function(){return this.outline.forEach((function(t){return t.round()})),this.holes.forEach((function(t){return t.forEach((function(t){return t.round()}))})),this}},{key:"scale",value:function(t){return this.outline.forEach((function(e){return e.scale(t)})),this.holes.forEach((function(e){return e.forEach((function(e){return e.scale(t)}))})),this}},{key:"translate",value:function(t){return this.outline.forEach((function(e){return e.translate(t.x,t.y)})),this.holes.forEach((function(e){return e.forEach((function(e){return e.translate(t.x,t.y)}))})),this}},{key:"allPoints",get:function(){var t;return(t=this.outline).concat.apply(t,Object(o.a)(this.holes))}},{key:"edges",get:function(){return{outline:this.outline.map((function(t,e,n){return new h.a(t,n[(e+1)%n.length])})),holes:this.holes.map((function(t){return t.map((function(t,e,n){return new h.a(t,n[(e+1)%n.length])}))}))}}},{key:"geoJson",get:function(){return{type:"Polygon",coordinates:[this.outline.map((function(t){return[t.x,t.y]}))].concat(this.holes.map((function(t){return t.map((function(t){return[t.x,t.y]}))})))}}},{key:"json",get:function(){return{outline:this.outline.map((function(t){return{x:t.x,y:t.y}})),holes:this.holes.map((function(t){return t.map((function(t){return{x:t.x,y:t.y}}))}))}}},{key:"rect",get:function(){return p.a.fromPoints.apply(p.a,Object(o.a)(this.outline))}},{key:"tangents",get:function(){var t=[this.outline].concat(Object(o.a)(this.holes)).map((function(t){return t.concat(t[0]).reduce((function(t,e,n,r){return n>0?t.concat(e.clone().sub(r[n-1]).normalize()):[]}),[])})),e=Object(i.a)(t);return{outer:e[0],inner:e.slice(1)}}}],[{key:"cutOut",value:function(e,n){return c.difference.apply(c,[n.map((function(t){return t.geoJson.coordinates}))].concat(Object(o.a)(e.map((function(t){return t.geoJson.coordinates}))))).map((function(e){return t.from(e).cleanFinalReps()}))}},{key:"from",value:function(e){return e instanceof Array?new t(e[0].map((function(t){var e=Object(r.a)(t,2),n=e[0],i=e[1];return new h.b(n,i)})),e.slice(1).map((function(t){return t.map((function(t){var e=Object(r.a)(t,2),n=e[0],i=e[1];return new h.b(n,i)}))}))):new t(e.outline.map((function(t){return h.b.from(t)})),e.holes.map((function(t){return t.map((function(t){return h.b.from(t)}))})))}},{key:"fromRect",value:function(e){return new t(e.points)}},{key:"getLinesIntersection",value:function(t,e,n,r){var i=e.x,o=e.y,a=t.x,s=t.y,u=r.x,c=r.y,l=n.x,f=n.y;return Math.abs(-o*u+i*c)<1e-4?null:(u*(f-s)-c*(l-a))/(o*u-c*i)}},{key:"insetRing",value:function(e,n){var r=new t(e).tangents.outer,i=e.map((function(t,i){return[t.clone().translate(n*-r[i].y,n*r[i].x),e[(i+1)%e.length].clone().translate(n*-r[i].y,n*r[i].x)]}));return i.map((function(e,n){var o=(n+1)%i.length,a=i[o],s=t.getLinesIntersection(e[1],r[n],a[0],r[o]);return s?e[1].translate(s*r[n].x,s*r[n].y):h.b.average([e[1],a[0]])}))}},{key:"pointInTriangle",value:function(e,n,r,i){var o=t.sign(e,n,r),a=t.sign(e,r,i),s=t.sign(e,i,n);return!((o<0||a<0||s<0)&&(o>0||a>0||s>0))}},{key:"sign",value:function(t,e,n){return(t.x-n.x)*(e.y-n.y)-(e.x-n.x)*(t.y-n.y)}},{key:"union",value:function(e){return c.union.apply(c,[[]].concat(Object(o.a)(e.map((function(t){return t.geoJson.coordinates}))))).map((function(e){return t.from(e).cleanFinalReps()}))}}]),t}()},H7XF:function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),a=r[0],s=r[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[l++]=255&e);1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(t,a,a+16383>s?s:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},H8bs:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return b}));var r=n("JX7q"),i=n("foSv");function o(t,e,n){return(o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(i.a)(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}var a=n("Ji7U"),s=n("md7G"),u=n("1OyB"),c=n("vuIU"),l=n("rePB"),f=n("Womt"),h=n("o7Ra");function p(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(i.a)(t);if(e){var o=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var d,v=function(){function t(e){Object(u.a)(this,t),this.group=e,Object(l.a)(this,"mass",1),Object(l.a)(this,"maxSpeed",.035),Object(l.a)(this,"velocity",void 0),Object(l.a)(this,"box",new f.Box3),Object(l.a)(this,"velocitySamples",[]),Object(l.a)(this,"numSamplesForSmoothing",15),Object(l.a)(this,"lookStrategy",d.travel),Object(l.a)(this,"lookQuaternion",new f.Quaternion),this.velocity=Object.defineProperty(new f.Vector3,"angle",{get:function(){return Math.atan2(this.y,this.x)},set:function(t){this.x=Math.cos(t)*this.length(),this.y=Math.sin(t)*this.length()}})}return Object(c.a)(t,[{key:"look",value:function(){switch(this.lookStrategy){case d.travel:this.lookWhereGoing(!0);case d.controlled:case d.static:return}}},{key:"lookTowards",value:function(t){this.group.quaternion.slerp(this.lookQuaternion,t)}},{key:"lookWhereGoing",value:function(t){var e=this.position.clone().add(this.velocity).setZ(this.position.z);if(t){this.velocitySamples.length==this.numSamplesForSmoothing&&this.velocitySamples.shift(),this.velocitySamples.push(this.velocity.clone().setZ(0)),e.set(0,0,0);for(var n=0;n<this.velocitySamples.length;n++)e.add(this.velocitySamples[n]);e.divideScalar(this.velocitySamples.length),e=this.position.clone().add(e).setZ(0)}this.group.rotation.z=Math.atan2(e.y-this.position.y,e.x-this.position.x)}},{key:"setBounds",value:function(t){this.box.copy(t)}},{key:"setLookTarget",value:function(t){var e=Math.atan2(t.y-this.position.y,t.x-this.position.x);return this.lookQuaternion.setFromEuler(new f.Euler(0,0,e)),h.a.ensureDeltaRad(e-this.group.rotation.z)}},{key:"update",value:function(){this.velocity.clampLength(0,this.maxSpeed),this.velocity.setZ(0),this.position.add(this.velocity)}},{key:"position",get:function(){return this.group.position}},{key:"positionXY",get:function(){return{x:this.group.position.x,y:this.group.position.y}}},{key:"backward",get:function(){return this.forward.clone().negate()}},{key:"depth",get:function(){return this.box.max.y-this.box.min.y}},{key:"forward",get:function(){return new f.Vector3(-1,0,0).applyQuaternion(this.group.quaternion).negate()}},{key:"height",get:function(){return this.box.max.z-this.box.min.z}},{key:"left",get:function(){return this.forward.clone().applyAxisAngle(new f.Vector3(0,0,1),.5*Math.PI)}},{key:"right",get:function(){return this.left.clone().negate()}},{key:"width",get:function(){return this.box.max.x-this.box.min.x}}]),t}();!function(t){t[t.controlled=0]="controlled",t[t.static=1]="static",t[t.travel=2]="travel"}(d||(d={}));var y=function(t){Object(a.a)(n,t);var e=p(n);function n(){var t;Object(u.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o)),Object(l.a)(Object(r.a)(t),"maxForce",.1),Object(l.a)(Object(r.a)(t),"arrivalThreshold",.1),Object(l.a)(Object(r.a)(t),"pathIndex",0),Object(l.a)(Object(r.a)(t),"steeringForce",new f.Vector3(0,0,0)),t}return Object(c.a)(n,[{key:"seek",value:function(t){var e=t.clone().sub(this.position);e.normalize().setLength(this.maxSpeed).sub(this.velocity),this.steeringForce.add(e)}},{key:"arrive",value:function(t){var e=t.clone().sub(this.position);e.normalize();var n=this.position.distanceTo(t);n>this.arrivalThreshold?e.setLength(this.maxSpeed):e.setLength(this.maxSpeed*n/this.arrivalThreshold),e.sub(this.velocity),this.steeringForce.add(e)}},{key:"followPath",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t[this.pathIndex];if(!r)return!0;if(this.position.distanceTo(r)<n)if(this.pathIndex<t.length-1)this.pathIndex++;else{if(!e)return!0;this.pathIndex=0}this.pathIndex>=t.length-1&&!e?this.arrive(r):this.seek(r)}},{key:"update",value:function(){this.steeringForce.clampLength(0,this.maxForce),this.steeringForce.divideScalar(this.mass),this.velocity.add(this.steeringForce),this.steeringForce.set(0,0,0),o(Object(i.a)(n.prototype),"update",this).call(this)}}]),n}(v),b=new y(new f.Group)},"HaE+":function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)}))}}n.d(e,"a",(function(){return i}))},IDFI:function(t,e,n){"use strict";t.exports=function(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return e}},JX7q:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},Ji7U:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("s4An");function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(r.a)(t,e)}},JjsD:function(t,e,n){"use strict";var r=n("FMXL"),i=n("Q5OD");n("hK8l");function o(t,e,n,r){this.point=t,this.path=e,this.index=n,this.concave=r,this.next=null,this.prev=null,this.visited=!1}function a(t,e,n){var r=t.point[1^n],i=e.point[1^n];r<i?(this[0]=r,this[1]=i):(this[0]=i,this[1]=r),this.start=t,this.end=e,this.direction=n,this.number=-1}function s(t,e,n,r){var i=t.point[1^r],o=e.point[1^r];return!!n.queryPoint(t.point[r],(function(t){var e=t.start.point[1^r];return i<e&&e<o}))}function u(t,e,n,r){for(var i=[],o=0;o<t.length;++o)t[o].concave&&i.push(t[o]);i.sort((function(t,e){var r=t.point[n]-e.point[n];return r||t.point[1^n]-e.point[1^n]}));var u=[];for(o=1;o<i.length;++o){var c=i[o-1],l=i[o];if(c.point[n]===l.point[n]){if(c.path===l.path){var f=e[c.path].length,h=(c.index-l.index+f)%f;if(1===h||h===f-1)continue}s(c,l,r,n)||u.push(new a(c,l,n))}}return u}function c(t){var e=t.start,n=t.end,r=e.prev,i=e.next,o=n.prev,a=n.next;e.concave=!1,n.concave=!1;var s=r.point[t.direction]===e.point[t.direction],u=o.point[t.direction]===n.point[t.direction];s&&u?(e.prev=o,o.next=e,n.prev=r,r.next=n):s&&!u?(e.prev=n,n.next=e,r.next=a,a.prev=r):!s&&u?(e.next=n,n.prev=e,i.prev=o,o.next=i):s||u||(e.next=a,a.prev=e,n.next=i,i.prev=n)}t.exports=function(t,e){if(!Array.isArray(t))throw new Error("rectangle-decomposition: Must specify list of loops");e=!!e;for(var n=[],s=new Array(t.length),l=0;l<t.length;++l){var f=t[l];if(!Array.isArray(f))throw new Error("rectangle-decomposition: Loop must be array type");var h=f.length,p=f[h-3],d=f[h-2],v=f[h-1];s[l]=[];for(var y=0;y<h;++y){if(p=d,d=v,v=f[y],!Array.isArray(v)||2!==v.length)throw new Error("rectangle-decomposition: Must specify list of loops");var b=!1;if(p[0]===d[0]){if(v[0]===d[0])continue;var g=p[1]<d[1],m=d[0]<v[0];b=g===m}else{if(v[1]===d[1])continue;g=p[0]<d[0],m=d[1]<v[1];b=g!==m}e&&(b=!b);var x=new o(d,l,(y+h-1)%h,b);s[l].push(x),n.push(x)}}var w=[],k=[];for(l=0;l<s.length;++l){var _=s[l];for(y=0;y<_.length;++y){var O=_[y],S=_[(y+1)%_.length];O.point[0]===S.point[0]?w.push(new a(O,S,0)):k.push(new a(O,S,1)),e?(O.prev=S,S.next=O):(O.next=S,S.prev=O)}}var E=i(w),P=i(k),j=u(n,s,0,P),A=u(n,s,1,E),C=function(t,e){for(var n=function(t,e){for(var n=i(t),r=[],o=0;o<e.length;++o){var a=e[o];a.start.point[0];n.queryPoint(a.start.point[1],(function(t){var e=t.start.point[0];a[0]<=e&&e<=a[1]&&r.push([t,a])}))}return r}(t,e),o=0;o<t.length;++o)t[o].number=o;for(o=0;o<e.length;++o)e[o].number=o;var a=n.map((function(t){return[t[0].number,t[1].number]})),s=r(t.length,e.length,a),u=new Array(s[0].length+s[1].length),c=0;for(o=0;o<s[0].length;++o)u[c++]=t[s[0][o]];for(o=0;o<s[1].length;++o)u[c++]=e[s[1][o]];return u}(j,A);for(l=0;l<C.length;++l)c(C[l]);return function(t){for(var e=[],n=[],r=0;r<t.length;++r){(c=t[r]).next.point[1]===c.point[1]&&(c.next.point[0]<c.point[0]?e.push(new a(c,c.next,1)):n.push(new a(c,c.next,1)))}var s=i(e),u=i(n);for(r=0;r<t.length;++r){var c;if((c=t[r]).concave){var l,f=c.point[1];l=c.prev.point[0]===c.point[0]?c.prev.point[1]<f:c.next.point[1]<f;var h=null,p=1/0*(l=l?1:-1);l<0?u.queryPoint(c.point[0],(function(t){var e=t.start.point[1];e<f&&e>p&&(p=e,h=t)})):s.queryPoint(c.point[0],(function(t){var e=t.start.point[1];e>f&&e<p&&(p=e,h=t)}));var d,v=new o([c.point[0],p],0,0,!1),y=new o([c.point[0],p],0,0,!1);c.concave=!1,v.prev=h.start,h.start.next=v,y.next=h.end,h.end.prev=y,(d=l<0?u:s).remove(h),d.insert(new a(h.start,v,1)),d.insert(new a(y,h.end,1)),t.push(v,y),c.prev.point[0]===c.point[0]?(v.next=c,y.prev=c.prev):(v.next=c.next,y.prev=c),v.next.prev=v,y.prev.next=y}}}(n),function(t){for(var e=t.length,n=0;n<e;++n)t[n].visited=!1;var r=[];for(n=0;n<e;++n){var i=t[n];if(!i.visited){for(var o=[1/0,1/0],a=[-1/0,-1/0];!i.visited;){for(var s=0;s<2;++s)o[s]=Math.min(i.point[s],o[s]),a[s]=Math.max(i.point[s],a[s]);i.visited=!0,i=i.next}r.push([o,a])}}return r}(n)}},KKU8:function(t,e,n){"use strict";n.d(e,"c",(function(){return u})),n.d(e,"g",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"i",(function(){return f})),n.d(e,"e",(function(){return h})),n.d(e,"a",(function(){return p})),n.d(e,"d",(function(){return d})),n.d(e,"h",(function(){return v})),n.d(e,"j",(function(){return y})),n.d(e,"b",(function(){return b}));var r=n("rePB"),i=(n("KQm4"),n("bpgr")),o=n.n(i);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t){return t[t.length-1]}function c(t,e){var n=t.indexOf(e);return-1!==n&&t.splice(n,1),t}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(e){return setTimeout((function(){return e()}),t)}))}function f(t){return"testNever: ".concat((e=t,JSON.stringify(e,null,"\t"))," not implemented.");var e}function h(t,e){var n,r={};return(n=t,Object.keys(n)).forEach((function(n){return r[n]=e(t[n])})),r}function p(t){if(t.length){var e=t.concat(NaN);return e.findIndex((function(t,n){return!e.includes(n)}))}return 0}function d(t){return t.reduce((function(t,e){return s(s({},t),{},Object(r.a)({},e.key,e))}),{})}function v(t){return function(t){try{return JSON.stringify(t)}catch(e){}}(t)||o()(t)}function y(t){try{return JSON.parse(t)}catch(e){return null}}function b(t){return t instanceof Array||t&&"object"===typeof t}},KQm4:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("25BE");function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||Object(r.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}},LqIL:function(t,e,n){"use strict";var r=n("Ff2n"),i=n("rePB"),o=n("yDnf"),a=n("c6hP"),s=n("o0o1"),u=n.n(s),c=n("HaE+"),l=n("1OyB"),f=n("vuIU"),h=n("KKU8"),p=n("EJlW"),d=n("R1th"),v=n("Wg50"),y=n("Lr/o"),b={tryParseBuffer:function(t){return{key:"failed",error:"not ready"}}};Promise.all([n.e(6),n.e(17)]).then(n.bind(null,"4xFv")).then((function(t){return b=t.parseService}));var g=function(){function t(e,n,r){Object(l.a)(this,t),this.sessionKey=e,this.canonicalPath=n,this.io=r,Object(i.a)(this,"xterm",void 0),Object(i.a)(this,"inputs",[]),Object(i.a)(this,"input",null),Object(i.a)(this,"buffer",[]),Object(i.a)(this,"history",[]),Object(i.a)(this,"maxLines",500),Object(i.a)(this,"session",void 0),Object(i.a)(this,"oneTimeReaders",[])}return Object(f.a)(t,[{key:"initialise",value:function(t){this.xterm=t,this.io.read(this.onMessage.bind(this)),this.prompt("$"),this.session=E.getState().session[this.sessionKey],y.a.initialise()}},{key:"prompt",value:function(t){this.io.write({key:"send-xterm-prompt",prompt:"".concat(t," ")})}},{key:"getHistoryLine",value:function(t){var e=this.history.length-1;return{line:this.history[e-t]||"",nextIndex:t<0?0:t>e?e:t}}},{key:"onMessage",value:function(t){var e=this;switch(t.key){case"req-history-line":var n=this.getHistoryLine(t.historyIndex),r=n.line,i=n.nextIndex;this.io.write({key:"send-history-line",line:r,nextIndex:i});break;case"send-line":this.oneTimeReaders.length?(this.oneTimeReaders.shift()(t.line),this.io.write({key:"tty-received-line"})):(this.inputs.push({line:t.line,resolve:function(){return e.io.write({key:"tty-received-line"})}}),this.tryParse());break;case"send-sig":if(t.signal===p.a.SIGINT)d.a.getProcessesInGroup(this.session.sid).forEach((function(t){var e=t.pid;d.a.cleanup(e)})),this.buffer.length=0,this.oneTimeReaders.length=0,this.prompt("$");break;default:throw Object(h.i)(t)}}},{key:"readOnceFromTty",value:function(t){var e;this.oneTimeReaders.push(t),null===(e=this.input)||void 0===e||e.resolve(),this.input=null}},{key:"storeSrcLine",value:function(t){if(t)for(this.history.push(t);this.history.length>this.maxLines;)this.history.shift()}},{key:"tryParse",value:function(){var t=Object(c.a)(u.a.mark((function t(){var e,n,r,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.input=this.inputs.pop()||null,!this.input){t.next=34;break}t.prev=2,this.buffer.push(this.input.line),e=b.tryParseBuffer(this.buffer.slice()),t.t0=e.key,t.next="failed"===t.t0?8:"complete"===t.t0?15:"incomplete"===t.t0?22:24;break;case 8:return n="mvdan-sh: ".concat(e.error.replace(/^src\.sh:/,"")),console.error(n),d.a.warn(this.session.sid,n),d.a.setExitCode(this.session.sid,1),this.buffer.length=0,this.prompt("$"),t.abrupt("break",24);case 15:return this.buffer.length=0,r=v.a.src(e.parsed),this.storeSrcLine(r),t.next=20,d.a.runInShell(e.parsed,this.sessionKey);case 20:return this.prompt("$"),t.abrupt("break",24);case 22:return this.prompt(">"),t.abrupt("break",24);case 24:t.next=29;break;case 26:t.prev=26,t.t1=t.catch(2),console.error("error propagated to TtyShell",t.t1);case 29:return t.prev=29,d.a.clearCleanups(this.session.sid),null===(i=this.input)||void 0===i||i.resolve(),this.input=null,t.finish(29);case 34:case"end":return t.stop()}}),t,this,[[2,26,29,34]])})));return function(){return t.apply(this,arguments)}}()}]),t}(),m=n("16hD"),x=n("4vL7"),w=n("CN2p");function k(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){Object(i.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var S=Object(o.a)(Object(a.devtools)((function(t,e){var n=w.a.makeDevice("/dev/null");return{nextTtyId:1,session:{},toSessionKey:{},nextProcId:1,proc:{},fs:Object(i.a)({},n.key,n),ofd:Object(x.a)(new m.b("/dev/null",n),{}),procGrp:{},api:{createSession:function(n){var r=e(),o=r.toSessionKey,a=r.nextTtyId;if(!o[n]){var s="tty-".concat(a),u="root@".concat(s),c="/dev/".concat(s),l=w.a.makeTty(c),f=new g(u,c,l),h=w.a.makeDevice("/dev/world-".concat(a));t((function(t){var e,r=t.toSessionKey,o=t.nextProcId,s=t.nextTtyId,p=t.session,d=t.fs,v=t.ofd;return{toSessionKey:O(O({},r),{},Object(i.a)({},n,u)),session:Object(x.a)({key:u,sid:o,ttyId:a,ttyShell:f,fgStack:[o],worldDevice:h},p),nextProcId:o+1,nextTtyId:s+1,fs:O(O({},d),{},(e={},Object(i.a)(e,l.key,l),Object(i.a)(e,h.key,h),e)),ofd:Object(x.a)(new m.b(c,l),v)}})),d.a.createLeadingProcess(u)}},removeSession:function(e){t((function(t){var n,i=t.session,o=t.toSessionKey,a=o[e],s=Object(r.a)(o,[e].map(k)),u=t.fs;return{session:Object(x.b)(a,i),toSessionKey:O({},s),fs:Object(x.b)(null===(n=i[a])||void 0===n?void 0:n.ttyShell.canonicalPath,u)}}))},set:t}}}),"shell"));Object.assign(S,{api:S.getState().api});var E=e.a=S;d.a.initialise()},"Lr/o":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("o0o1"),i=n.n(r),o=n("HaE+"),a=n("1OyB"),s=n("vuIU"),u=n("rePB"),c=new(function(){function t(){var e=this;Object(a.a)(this,t),Object(u.a)(this,"commandBuffer",void 0),Object(u.a)(this,"currentCommand",void 0),Object(u.a)(this,"defaultVoice",void 0),Object(u.a)(this,"synth",void 0),Object(u.a)(this,"voices",void 0),Object(u.a)(this,"runCommands",Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.synth.speaking){t.next=4;break}return t.abrupt("return");case 4:if(e.currentCommand=e.commandBuffer.shift()||null){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,e.speak(e.currentCommand);case 8:e.currentCommand.resolve(),e.currentCommand=null,e.queueCommands();case 11:case"end":return t.stop()}}),t)})))),this.commandBuffer=[],this.currentCommand=null,this.voices=[]}return Object(s.a)(t,[{key:"initialise",value:function(){var t=this;this.synth=window.speechSynthesis,setTimeout((function(){t.voices=t.synth.getVoices(),t.defaultVoice=t.voices.find((function(t){return t.default}))||t.voices[0]}),500)}},{key:"addVoiceCommand",value:function(t,e,n){var r=this,i={text:t,voice:n,resolve:e};return this.queueCommands(i),function(){return r.cancelVoiceCommand(i)}}},{key:"cancelVoiceCommand",value:function(t){this.commandBuffer=this.commandBuffer.filter((function(e){return e!==t})),this.currentCommand===t&&this.stopSpeaking()}},{key:"getAllVoices",value:function(){return this.voices.map((function(t){return t.name}))}},{key:"queueCommands",value:function(){var t;(t=this.commandBuffer).push.apply(t,arguments),!this.synth.speaking&&this.commandBuffer.length&&window.setTimeout(this.runCommands,10)}},{key:"speak",value:function(){var t=Object(o.a)(i.a.mark((function t(e){var n,r,o,a=this;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.text,r=e.voice,(o=new SpeechSynthesisUtterance(n)).rate=.8,o.voice=this.voices.find((function(t){return t.name===r}))||this.defaultVoice,t.next=6,new Promise((function(t,e){o.onend=function(){return setTimeout(t,100)},o.onerror=function(e){console.error(e),console.error("utterance '".concat(n,"' by '").concat(r,"' failed")),t()},a.synth.speak(o)}));case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"stopSpeaking",value:function(){this.synth.cancel()}}]),t}())},M4H5:function(t,e,n){"use strict";n.d(e,"b",(function(){return E})),n.d(e,"c",(function(){return P}));var r=n("o0o1"),i=n.n(r),o=n("HaE+"),a=n("yDnf"),s=n("c6hP"),u=n("4ACg"),c=n("mrSG"),l=n("FLoe"),f=n("jYKN"),h=n("ljPn"),p=n("gJF5"),d=n("uzmL"),v=function(t){function e(e,n,r){void 0===e&&(e=1/0),void 0===n&&(n=1/0),void 0===r&&(r=d.a);var i=t.call(this)||this;return i.timestampProvider=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===1/0?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return Object(c.c)(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push({time:this._getNow(),value:e}),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=r.length;if(this.closed)throw new h.a;if(this.isStopped||this.hasError?e=f.a.EMPTY:(this.observers.push(t),e=new p.a(this,t)),n)for(var o=0;o<i&&!t.closed;o++)t.next(r[o]);else for(o=0;o<i&&!t.closed;o++)t.next(r[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){var t=this.timestampProvider;return t?t.now():d.a.now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(l.a),y=n("UYus"),b=n("96ag"),g=n("LqIL"),m=n("4vL7");function x(t,e,n){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(i.a.mark((function t(e,n,r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){n.addEventListener("message",(function i(o){o.data.key===e&&r(o.data)&&(n.removeEventListener("message",i),t(o.data))}))})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var k=n("H8bs"),_=n("o7Ra"),O=0,S=Object(a.a)(Object(s.devtools)((function(t,e){return{env:{},navWorker:null,envPortal:{},director:{},decorator:{},api:{createActor:function(e,n,r){t((function(t){var i=t.director;return{director:Object(m.c)(e,i,(function(t){var e=t.actor;return{actor:Object(m.a)({key:n,id:"default-bot",mesh:b.g,steerable:k.c,lastSpawn:_.a.toVector3(r),cancelGoto:function(){},cancelLook:function(){}},e)}}))}}))},createEnv:function(n){var r=n.envKey,i=n.highWalls,o=g.a.getState(),a=o.toSessionKey,s=o.session[a[r]].worldDevice;t((function(t){var e=t.env,n=t.director,o=t.decorator;return{env:Object(m.a)({key:r,highWalls:i,worldDevice:s,updateShadows$:new v(1),scene:b.h,camControls:{}},e),director:Object(m.a)({key:r,actor:{},mouse:{position:new y.b}},n),decorator:Object(m.a)({key:r,indicators:b.f},o)}})),e().navWorker.postMessage({key:"create-env",envKey:r})},ensureEnvPortal:function(n){!e().envPortal[n]&&t((function(t){var e=t.envPortal;return{envPortal:Object(m.a)({key:n,portalNode:u.c()},e)}}))},getActorMeta:function(t,n){return e().director[t].actor[n]||null},removeActor:function(e,n){t((function(t){var r=t.director;return{director:Object(m.c)(e,r,(function(t){var e=t.actor;return{actor:Object(m.b)(n,e)}}))}}))},removeEnvPortal:function(e){t((function(t){var n=t.envPortal;return{envPortal:Object(m.b)(e,n)}}))},removeEnv:function(n){t((function(t){var e=t.env,r=t.director,i=t.decorator;return{env:Object(m.b)(n,e),director:Object(m.b)(n,r),decorator:Object(m.b)(n,i)}})),e().navWorker.postMessage({key:"remove-env",envKey:n})},removeNavWorkerRoom:function(t){var n=t.envKey,r=t.roomType,i=t.roomUid;e().navWorker.postMessage({key:"remove-room-nav",envKey:n,roomType:r,roomUid:i})},requestNavPath:function(){var t=Object(o.a)(i.a.mark((function t(n,r,o){var a,s,u,c,l,f;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=["".concat(O++),e().navWorker],s=a[0],(u=a[1]).postMessage({key:"request-navpath",envKey:n,msgUid:s,src:r,dst:o}),t.next=4,x("navpath-response",u,(function(t){var e=t.msgUid;return s===e}));case 4:return c=t.sent,l=c.navPath,f=c.error,t.abrupt("return",{navPath:l,error:f});case 8:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),roomUpdated:function(t){e().env[t].updateShadows$.next({key:"room-updated"})},setHighWalls:function(e,n){t((function(t){var r=t.env;return{env:Object(m.c)(e,r,(function(){return{highWalls:n}}))}}))},storeCamControls:function(e,n){t((function(t){var r=t.env;return{env:Object(m.c)(e,r,(function(){return{camControls:n}}))}}))},storeMouse:function(t,n){var r=n.point;e().director[t].mouse.position.copy(r)},storeScene:function(e,n){t((function(t){var r=t.env,i=t.decorator;return{env:Object(m.c)(e,r,(function(){return{scene:n}})),decorator:Object(m.c)(e,i,(function(){return{indicators:b.c(n,"indicators")}}))}}))},updateNavWorkerRoom:function(t){var n=t.envKey,r=t.roomType,i=t.roomUid,o=t.navRects;e().navWorker.postMessage({key:"update-room-nav",envKey:n,roomType:r,roomUid:i,navRects:o.map((function(t){return t.json}))})}}}}),"env"));function E(t){return t.api}function P(t){return t.navWorker}Object.assign(S,{api:S.getState().api});e.a=S},M4Zq:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n("o0o1"),i=n.n(r),o=n("HaE+"),a=n("1OyB"),s=n("vuIU"),u=n("rePB"),c=n("Womt"),l=n("R1th"),f=n("M4H5"),h=n("KKU8"),p=n("N7p8"),d=n("H8bs"),v=new(function(){function t(){Object(a.a)(this,t),Object(u.a)(this,"animCancels",{}),Object(u.a)(this,"forbiddenNames",{camera:!0})}return Object(s.a)(t,[{key:"isLegalName",value:function(t){return p.a.test(t)&&!(t in this.forbiddenNames)}},{key:"spawn",value:function(t,e,n){var r=f.a.getState().director[t].actor[e];r?(r.steerable.position.set(n.x,n.y,0),r.cancelGoto()):f.a.api.createActor(t,e,n)}},{key:"faceTowardsPoint",value:function(){var t=Object(o.a)(i.a.mark((function t(e){var n,r,o,a,s,u,h,p,v,y,b,g,m;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.envKey,r=e.pid,o=e.actorName,a=e.cb,s=f.a.getState().director[n],u=s.actor[o],(h="".concat(o,"@").concat(n,":look"))in this.animCancels&&u.cancelLook(),t.t0=e.mode,t.next="once"===t.t0?8:"watch-other-actor"===t.t0?14:"watch-mouse"===t.t0?17:20;break;case 8:if(v=u.steerable.setLookTarget(new c.Vector3(e.point.x,e.point.y)),!(Math.abs(v)<.01)){t.next=11;break}return t.abrupt("return",a(null));case 11:return y=0,b=Math.abs(v)/Math.PI*50,p=function(){return u.steerable.lookTowards(y/b),y++>b},t.abrupt("break",20);case 14:return g=f.a.getState().director[n].actor[e.otherName].steerable,p=function(){return u.steerable.setLookTarget(g.position),u.steerable.lookTowards(.1),!1},t.abrupt("break",20);case 17:return m=f.a.getState().director[n].mouse.position,p=function(){return u.steerable.setLookTarget(m),u.steerable.lookTowards(.1),!1},t.abrupt("break",20);case 20:return u.steerable.lookStrategy=d.a.controlled,t.prev=21,t.next=24,Promise.race([this.animateUntil(p,h),new Promise((function(t,e){l.a.addCleanup(r,e),u.cancelLook=e}))]);case 24:a(null),t.next=31;break;case 27:t.prev=27,t.t1=t.catch(21),a("".concat("once"===e.mode?"look":"watch"," was cancelled")),this.cancelAnimation(h);case 31:return t.prev=31,u.cancelLook=function(){},u.steerable.lookStrategy=d.a.travel,t.finish(31);case 35:case"end":return t.stop()}}),t,this,[[21,27,31,35]])})));return function(e){return t.apply(this,arguments)}}()},{key:"followPath",value:function(){var t=Object(o.a)(i.a.mark((function t(e,n,r,o,a){var s,u,p,d,v,y;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=f.a.getState().director[e],u=s.actor[r]){t.next=6;break}return t.abrupt("return",a('unknown actor "'.concat(r,'": cannot follow path')));case 6:if(!(o.length<=1)){t.next=8;break}return t.abrupt("return",a(null));case 8:if(p=o.map((function(t){return new c.Vector3(t.x,t.y)})),d=u.steerable,!((v="".concat(r,"@").concat(e,":goto"))in this.animCancels)){t.next=15;break}return u.cancelGoto(),t.next=15,Object(h.f)(100);case 15:return y=function(){if(d.followPath(p,!1,.1))return!0;d.look(),d.update()},t.prev=16,t.next=19,Promise.race([this.animateUntil(y,v),new Promise((function(t,e){l.a.addCleanup(n,e),u.cancelGoto=e}))]);case 19:a(null),t.next=26;break;case 22:t.prev=22,t.t0=t.catch(16),a("goto was cancelled"),this.cancelAnimation(v);case 26:return t.prev=26,u.cancelGoto=function(){},d.pathIndex=0,t.finish(26);case 30:case"end":return t.stop()}}),t,this,[[16,22,26,30]])})));return function(e,n,r,i,o){return t.apply(this,arguments)}}()},{key:"animateUntil",value:function(){var t=Object(o.a)(i.a.mark((function t(e,n){var r,o=this;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=0,t.prev=1,t.next=4,new Promise((function(t,i){o.animCancels[n]=i;!function n(){return!e()&&(r=requestAnimationFrame(n))||t()}()}));case 4:return t.prev=4,cancelAnimationFrame(r),delete this.animCancels[n],t.finish(4);case 8:case"end":return t.stop()}}),t,this,[[1,,4,8]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"cancelAnimation",value:function(t){var e,n;null===(e=(n=this.animCancels)[t])||void 0===e||e.call(n),delete this.animCancels[t]}}]),t}())},N7p8:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return b}));var r=n("KQm4"),i=n("rePB"),o=n("1OyB"),a=n("vuIU"),s=n("KKU8"),u=n("LqIL"),c=n("T5Oz"),l=n("R1th"),f=n("bpgr"),h=n.n(f);function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){Object(i.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v=/^[a-z_][a-z0-9_]*/i,y="__ITER_DELAY__",b=new(function(){function t(){Object(o.a)(this,t)}return Object(a.a)(t,[{key:"addFunction",value:function(t,e,n){if("shell"===n.type){var r=this.getProcess(t).sessionKey,i=this.getSession(r).sid;Object.assign(n.node.meta,{pid:t,sessionKey:r,sid:i})}this.getProcess(t).toFunc[e]=d({key:e,exported:!1,readonly:!1,src:null},n)}},{key:"assignVar",value:function(t,e){if(!e.varName||!v.test(e.varName)&&!e.internal)throw new c.a("`".concat(e.varName,"' not a valid identifier"),1);var n=this.getProcess(t).nestedVars,r=n.findIndex((function(t){return"__subshell__"in t})),i=e.local?0:-1===r?n.length-1:r,o=n.slice(0,i+1).findIndex((function(t){return e.varName in t}));if(-1!==o){var a=n[o][e.varName];if(a.readonly&&!e.force)throw new c.a("".concat(a.varName,": readonly variable"),1);if("positional"===a.key)throw new c.a("".concat(a.varName,": positional variable"),1);if("unset"!==a.key){var u=d({},a);if(e.shell)if(e.integer&&this.castAsIntegerBased(u),void 0!==e.index)this.assignVarItem(u,e.index,e.value,e.integer);else if(void 0===e.value);else if(e.append&&Object(s.b)(a.value)){if(Object(s.b)(u.value))throw new c.a("".concat(u.varName,"[0]: cannot assign list to array member"),1);u.value[0]+=e.value}else this.assignVarDefault(u,e.value,e.integer),e.append&&(u.value=a.value+u.value);else u.value=e.value;this.updateNestedVar(t,e.varName,o,u)}}else{var l=this.createVar(e);this.updateNestedVar(t,e.varName,i,l)}}},{key:"assignVarDefault",value:function(t,e,n){switch(t.key){case"plain":Object(s.b)(t.value)?Object(s.b)(e)?t.value=e:t.value[0]=n?parseInt(e)||0:e:t.value=n?parseInt(e)||0:e;break;case"unset":t.value=null;break;case"positional":throw new c.a("Cannot assign default ".concat(e," to var ").concat(t.varName,": ").concat(t.key),1);default:throw Object(s.i)(t)}}},{key:"assignVarItem",value:function(t,e,n,r){if(t.value instanceof Array)t.value[parseInt(e)||0]=r?parseInt(n)||0:n;else{if(!t.value||"object"!==typeof t.value)throw new c.a("cannot assign kv-pair (".concat(e,", ").concat(n,") to var ").concat(t.varName,": ").concat(t.key),1);t.value[e]=r?parseInt(n)||0:n}}},{key:"createVar",value:function(t){var e={key:"plain",varName:t.varName,exported:!!t.exported,readonly:!!t.readonly};if(t.shell){if(void 0!==t.index){if(t.value instanceof Array)throw new c.a("".concat(t.varName,"[").concat(t.index,"]: cannot assign list to array member"),1);return d(d({},e),{},{value:Object.assign(t.associative?{}:[],Object(i.a)({},t.index,t.integer?parseInt(t.value):t.value))})}var n=t.integer&&(t.value instanceof Array&&t.value.map(Number)||t.value&&"object"===typeof t.value&&Object(s.e)(t.value,Number))||t.value;return d(d({},e),{},{value:n})}return d(d({},e),{},{value:t.value})}},{key:"createVarProxy",value:function(t){return new Proxy({},{get:function(e,n){return b.lookupVar(t,n)},set:function(e,n,r){return b.assignVar(t,{varName:n,value:r}),!0},ownKeys:function(){var e=l.a.getProcess(t).nestedVars;return Array.from(e.reduce((function(t,e){return Object.keys(e).forEach((function(e){return t.add(e)})),t}),new Set))},getOwnPropertyDescriptor:function(){return{enumerable:!0,configurable:!0}}})}},{key:"expandVar",value:function(t,e){var n=this.lookupVar(t,e);return"string"===typeof n?n:JSON.stringify(n)}},{key:"findVarNames",value:function(t,e){var n=new Set;return this.getProcess(t).nestedVars.forEach((function(t){Object.keys(t).filter((function(t){return t.startsWith(e)})).forEach((function(t){return n.add(t)}))})),Array.from(n)}},{key:"getFunction",value:function(t,e){return this.getProcess(t).toFunc[e]||null}},{key:"getPositionals",value:function(t){var e=this.getProcess(t).nestedVars.find((function(t){return 0 in t}));if(e){for(var n=-1,r=[];++n in e;)r.push(n);return r.map((function(t){return e[t].value}))}throw Error("positional variables not found in process ".concat(t))}},{key:"getProcess",value:function(t){return u.a.getState().proc[t]}},{key:"getSession",value:function(t){return u.a.getState().session[t]}},{key:"toStringOrJson",value:function(t){return"string"===typeof t?t:h()(t)||""}},{key:"getVarKeys",value:function(t){return t&&"object"===typeof t?Object.keys(t):[]}},{key:"getVarValues",value:function(t,e){return null==e?[]:Array.isArray(e)?"@"===t||"*"===t?e.filter((function(t){return void 0!==t})).map(this.toStringOrJson):[this.toStringOrJson(e[t?parseInt(t):0])]:"object"===typeof e?"@"===t||"*"===t?Object.values(e).map(this.toStringOrJson):null===t?[this.toStringOrJson(e)]:[this.toStringOrJson(e[t||0])]:[this.toStringOrJson(e)]}},{key:"lookupVar",value:function(t,e){var n=this.getProcess(t).nestedVars.find((function(t){return e in t}));return n?n[e].value:void 0}},{key:"popPositionalsScope",value:function(t){var e=this.getProcess(t),n=e.nestedVars.findIndex((function(t){return 0 in t}));e.nestedVars=e.nestedVars.slice(n+1)}},{key:"popVarScope",value:function(t){this.getProcess(t).nestedVars.shift()}},{key:"pushPositionalsScope",value:function(t,e){var n=this.getProcess(t).nestedVars,r={};e.forEach((function(t,e){return r[e+1]={key:"positional",index:e+1,varName:String(e+1),value:t,exported:!1,readonly:!0}})),Object.assign(r,{0:Object(s.c)(n)[0]}),n.unshift(r)}},{key:"pushVarScope",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.getProcess(t).nestedVars.unshift(e?{__subshell__:null}:{})}},{key:"castAsIntegerBased",value:function(t){return t.value instanceof Array?t.value=t.value.map((function(t){return parseInt(t,10)||0})):t.value&&"object"===typeof t.value?Object.keys(t.value).forEach((function(e){return t.value[e]=parseInt(t.value[e])||0})):t.value=parseInt(t.value)||0,t}},{key:"updateNestedVar",value:function(t,e,n,o){var a=this.getProcess(t);a.nestedVars=[].concat(Object(r.a)(a.nestedVars.slice(0,n)),[d(d({},a.nestedVars[n]),{},Object(i.a)({},e,o))],Object(r.a)(a.nestedVars.slice(n+1)))}}]),t}())},NGv4:function(t){t.exports=JSON.parse('{"version":"1.5.0"}')},NjKU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("cMP6"),i=n("69Zz"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},ODXe:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("DSFK");var i=n("PYwp");function o(t,e){return Object(r.a)(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||Object(i.a)()}},OMbN:function(t,e,n){"use strict";var r=n("34/Y"),i=function(t,e){this.x=+t||0,this.y=+e||0,this._p2t_edge_list=null};i.prototype.toString=function(){return r.toStringBase(this)},i.prototype.toJSON=function(){return{x:this.x,y:this.y}},i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.set_zero=function(){return this.x=0,this.y=0,this},i.prototype.set=function(t,e){return this.x=+t||0,this.y=+e||0,this},i.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},i.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},i.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},i.prototype.mul=function(t){return this.x*=t,this.y*=t,this},i.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},i.prototype.normalize=function(){var t=this.length();return this.x/=t,this.y/=t,t},i.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},i.negate=function(t){return new i(-t.x,-t.y)},i.add=function(t,e){return new i(t.x+e.x,t.y+e.y)},i.sub=function(t,e){return new i(t.x-e.x,t.y-e.y)},i.mul=function(t,e){return new i(t*e.x,t*e.y)},i.cross=function(t,e){return"number"===typeof t?"number"===typeof e?t*e:new i(-t*e.y,t*e.x):"number"===typeof e?new i(e*t.y,-e*t.x):t.x*e.y-t.y*e.x},i.toString=r.toString,i.compare=r.compare,i.cmp=r.compare,i.equals=r.equals,i.dot=function(t,e){return t.x*e.x+t.y*e.y},t.exports=i},PYwp:function(t,e,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.d(e,"a",(function(){return r}))},Pfkr:function(t,e,n){"use strict";var r,i,o=n("vZIR"),a=(n("Qfp6"),1567752802062),s=7;t.exports=function(t){var e="",n=Math.floor(.001*(Date.now()-a));return n===i?r++:(r=0,i=n),e+=o(s),e+=o(t),r>0&&(e+=o(r)),e+=o(n)}},Pnm8:function(t,e,n){"use strict";const r=n("gabW"),{MAX_LENGTH:i,CHAR_BACKSLASH:o,CHAR_BACKTICK:a,CHAR_COMMA:s,CHAR_DOT:u,CHAR_LEFT_PARENTHESES:c,CHAR_RIGHT_PARENTHESES:l,CHAR_LEFT_CURLY_BRACE:f,CHAR_RIGHT_CURLY_BRACE:h,CHAR_LEFT_SQUARE_BRACKET:p,CHAR_RIGHT_SQUARE_BRACKET:d,CHAR_DOUBLE_QUOTE:v,CHAR_SINGLE_QUOTE:y,CHAR_NO_BREAK_SPACE:b,CHAR_ZERO_WIDTH_NOBREAK_SPACE:g}=n("nv9e");t.exports=(t,e={})=>{if("string"!==typeof t)throw new TypeError("Expected a string");let n=e||{},m="number"===typeof n.maxLength?Math.min(i,n.maxLength):i;if(t.length>m)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${m})`);let x,w={type:"root",input:t,nodes:[]},k=[w],_=w,O=w,S=0,E=t.length,P=0,j=0;const A=()=>t[P++],C=t=>{if("text"===t.type&&"dot"===O.type&&(O.type="text"),!O||"text"!==O.type||"text"!==t.type)return _.nodes.push(t),t.parent=_,t.prev=O,O=t,t;O.value+=t.value};for(C({type:"bos"});P<E;)if(_=k[k.length-1],x=A(),x!==g&&x!==b)if(x!==o)if(x!==d)if(x!==p)if(x!==c)if(x!==l)if(x!==v&&x!==y&&x!==a)if(x!==f)if(x!==h)if(x===s&&j>0){if(_.ranges>0){_.ranges=0;let t=_.nodes.shift();_.nodes=[t,{type:"text",value:r(_)}]}C({type:"comma",value:x}),_.commas++}else if(x===u&&j>0&&0===_.commas){let t=_.nodes;if(0===j||0===t.length){C({type:"text",value:x});continue}if("dot"===O.type){if(_.range=[],O.value+=x,O.type="range",3!==_.nodes.length&&5!==_.nodes.length){_.invalid=!0,_.ranges=0,O.type="text";continue}_.ranges++,_.args=[];continue}if("range"===O.type){t.pop();let e=t[t.length-1];e.value+=O.value+x,O=e,_.ranges--;continue}C({type:"dot",value:x})}else C({type:"text",value:x});else{if("brace"!==_.type){C({type:"text",value:x});continue}let t="close";_=k.pop(),_.close=!0,C({type:t,value:x}),j--,_=k[k.length-1]}else{j++;let t=O.value&&"$"===O.value.slice(-1)||!0===_.dollar;_=C({type:"brace",open:!0,close:!1,dollar:t,depth:j,commas:0,ranges:0,nodes:[]}),k.push(_),C({type:"open",value:x})}else{let t,n=x;for(!0!==e.keepQuotes&&(x="");P<E&&(t=A());)if(t!==o){if(t===n){!0===e.keepQuotes&&(x+=t);break}x+=t}else x+=t+A();C({type:"text",value:x})}else{if("paren"!==_.type){C({type:"text",value:x});continue}_=k.pop(),C({type:"text",value:x}),_=k[k.length-1]}else _=C({type:"paren",nodes:[]}),k.push(_),C({type:"text",value:x});else{S++;let t;for(;P<E&&(t=A());)if(x+=t,t!==p)if(t!==o){if(t===d&&(S--,0===S))break}else x+=A();else S++;C({type:"text",value:x})}else C({type:"text",value:"\\"+x});else C({type:"text",value:(e.keepEscaping?x:"")+A()});do{if(_=k.pop(),"root"!==_.type){_.nodes.forEach(t=>{t.nodes||("open"===t.type&&(t.isOpen=!0),"close"===t.type&&(t.isClose=!0),t.nodes||(t.type="text"),t.invalid=!0)});let t=k[k.length-1],e=t.nodes.indexOf(_);t.nodes.splice(e,1,..._.nodes)}}while(k.length>0);return C({type:"eos"}),w}},Q5OD:function(t,e,n){"use strict";var r=n("zHcz"),i=0,o=1;function a(t,e,n,r,i){this.mid=t,this.left=e,this.right=n,this.leftPoints=r,this.rightPoints=i,this.count=(e?e.count:0)+(n?n.count:0)+r.length}t.exports=function(t){if(!t||0===t.length)return new m(null);return new m(g(t))};var s=a.prototype;function u(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function c(t,e){var n=g(e);t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function l(t,e){var n=t.intervals([]);n.push(e),c(t,n)}function f(t,e){var n=t.intervals([]),r=n.indexOf(e);return r<0?i:(n.splice(r,1),c(t,n),o)}function h(t,e,n){for(var r=0;r<t.length&&t[r][0]<=e;++r){var i=n(t[r]);if(i)return i}}function p(t,e,n){for(var r=t.length-1;r>=0&&t[r][1]>=e;--r){var i=n(t[r]);if(i)return i}}function d(t,e){for(var n=0;n<t.length;++n){var r=e(t[n]);if(r)return r}}function v(t,e){return t-e}function y(t,e){var n=t[0]-e[0];return n||t[1]-e[1]}function b(t,e){var n=t[1]-e[1];return n||t[0]-e[0]}function g(t){if(0===t.length)return null;for(var e=[],n=0;n<t.length;++n)e.push(t[n][0],t[n][1]);e.sort(v);var r=e[e.length>>1],i=[],o=[],s=[];for(n=0;n<t.length;++n){var u=t[n];u[1]<r?i.push(u):r<u[0]?o.push(u):s.push(u)}var c=s,l=s.slice();return c.sort(y),l.sort(b),new a(r,g(i),g(o),c,l)}function m(t){this.root=t}s.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t},s.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?l(this,t):this.left.insert(t):this.left=g([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?l(this,t):this.right.insert(t):this.right=g([t]);else{var n=r.ge(this.leftPoints,t,y),i=r.ge(this.rightPoints,t,b);this.leftPoints.splice(n,0,t),this.rightPoints.splice(i,0,t)}},s.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(e-1)?f(this,t):2===(c=this.left.remove(t))?(this.left=null,this.count-=1,o):(c===o&&(this.count-=1),c):i;if(t[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(e-1)?f(this,t):2===(c=this.right.remove(t))?(this.right=null,this.count-=1,o):(c===o&&(this.count-=1),c):i;if(1===this.count)return this.leftPoints[0]===t?2:i;if(1===this.leftPoints.length&&this.leftPoints[0]===t){if(this.left&&this.right){for(var n=this,a=this.left;a.right;)n=a,a=a.right;if(n===this)a.right=this.right;else{var s=this.left,c=this.right;n.count-=a.count,n.right=a.left,a.left=s,a.right=c}u(this,a),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?u(this,this.left):u(this,this.right);return o}for(s=r.ge(this.leftPoints,t,y);s<this.leftPoints.length&&this.leftPoints[s][0]===t[0];++s)if(this.leftPoints[s]===t){this.count-=1,this.leftPoints.splice(s,1);for(c=r.ge(this.rightPoints,t,b);c<this.rightPoints.length&&this.rightPoints[c][1]===t[1];++c)if(this.rightPoints[c]===t)return this.rightPoints.splice(c,1),o}return i},s.queryPoint=function(t,e){if(t<this.mid){if(this.left)if(n=this.left.queryPoint(t,e))return n;return h(this.leftPoints,t,e)}if(t>this.mid){var n;if(this.right)if(n=this.right.queryPoint(t,e))return n;return p(this.rightPoints,t,e)}return d(this.leftPoints,e)},s.queryInterval=function(t,e,n){var r;if(t<this.mid&&this.left&&(r=this.left.queryInterval(t,e,n)))return r;if(e>this.mid&&this.right&&(r=this.right.queryInterval(t,e,n)))return r;return e<this.mid?h(this.leftPoints,e,n):t>this.mid?p(this.rightPoints,t,n):d(this.leftPoints,n)};var x=m.prototype;x.insert=function(t){this.root?this.root.insert(t):this.root=new a(t[0],null,null,[t],[t])},x.remove=function(t){if(this.root){var e=this.root.remove(t);return 2===e&&(this.root=null),e!==i}return!1},x.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)},x.queryInterval=function(t,e,n){if(t<=e&&this.root)return this.root.queryInterval(t,e,n)},Object.defineProperty(x,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(x,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},Qfp6:function(t,e,n){"use strict";var r,i,o,a=n("fqyn"),s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function u(){o=!1}function c(t){if(t){if(t!==r){if(t.length!==s.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter((function(t,e,n){return e!==n.lastIndexOf(t)}));if(e.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. These characters were not unique: "+e.join(", "));r=t,u()}}else r!==s&&(r=s,u())}function l(){return o||(o=function(){r||c(s);for(var t,e=r.split(""),n=[],i=a.nextValue();e.length>0;)i=a.nextValue(),t=Math.floor(i*e.length),n.push(e.splice(t,1)[0]);return n.join("")}())}t.exports={get:function(){return r||s},characters:function(t){return c(t),r},seed:function(t){a.seed(t),i!==t&&(u(),i=t)},lookup:function(t){return l()[t]},shuffled:l}},R1th:function(t,e,n){"use strict";n.d(e,"a",(function(){return k}));var r=n("T5bk"),i=n("o0o1"),o=n.n(i),a=n("HaE+"),s=n("1OyB"),u=n("vuIU"),c=n("rePB"),l=n("KKU8"),f=n("16hD"),h=n("LqIL"),p=n("4vL7"),d=n("T5Oz"),v=n("CN2p"),y=n("N7p8"),b=n("Wg50"),g=n("o2a1");function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){Object(c.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w=0,k=new(function(){function t(){Object(s.a)(this,t),Object(c.a)(this,"set",void 0),Object(c.a)(this,"mockParsed",void 0)}return Object(u.a)(t,[{key:"initialise",value:function(){this.set=h.a.api.set,this.mockParsed={}}},{key:"addCleanup",value:function(t,e){var n=this;return this.getProcess(t).cleanups.push(e),function(){return Object(l.g)(n.getProcess(t).cleanups,e)}}},{key:"cleanup",value:function(t){var e=this.getProcess(t).cleanups;e.reverse().forEach((function(t){return t()})),e.length=0}},{key:"clearCleanups",value:function(t){this.getProcess(t).cleanups.length=0}},{key:"createLeadingProcess",value:function(t){var e=this,n=this.getSession(t),r=n.sid,i=n.ttyShell,o={0:i.canonicalPath,1:i.canonicalPath,2:i.canonicalPath},a=this.getOfds();this.set((function(n){var i=n.proc;return{proc:Object(p.a)({key:"".concat(r),sessionKey:t,pid:r,ppid:r,pgid:r,parsed:e.mockParsed,subscription:null,fdToOpen:Object(l.e)(o,(function(t){return a[t]})),nestedRedirs:[x({},o)],nestedVars:[{USER:{key:"plain",varName:"USER",value:"root",exported:!0,readonly:!1},0:{key:"positional",varName:"0",index:0,value:"behave-yr",exported:!0,readonly:!1}}],toFunc:{},lastExitCode:null,lastBgPid:null,cleanups:[]},i)}})),this.createProcessGroup({key:"".concat(r),pgid:r,sessionKey:t,pids:[r]})}},{key:"closeFdInternal",value:function(t,e){var n=e[t];if(!n)throw new d.a("".concat(t,": cannot open non-existent file"),1);n.numLinks--,(n.numLinks<=0||n.file.key.startsWith("@"))&&delete this.getOfds()[n.key]}},{key:"closeFd",value:function(t,e){var n=this.getProcess(t);n.nestedRedirs[0][e]&&(this.closeFdInternal(e,n.fdToOpen),delete n.nestedRedirs[0][e]),delete n.fdToOpen[e]}},{key:"createProcessGroup",value:function(t){return this.getProcessGroups()[t.key]=t,t}},{key:"duplicateFd",value:function(t,e,n){var r=this.getProcess(t);r.nestedRedirs[0][n]&&this.closeFdInternal(n,r.fdToOpen);var i=r.fdToOpen[e];r.fdToOpen[n]=i,r.nestedRedirs[0][n]=i.key,this.getOfds()[i.key].numLinks++}},{key:"ensureFd",value:function(t,e){var n="string"===typeof e?parseInt(e):e;if(Number.isNaN(n)||!Number.isInteger(n)||n<0)throw new d.a("".concat(n,": bad file descriptor"),1);if(!(n in this.getProcess(t).fdToOpen))throw new d.a("".concat(n,": bad file descriptor"),1)}},{key:"execProcess",value:function(t,e){var n=this.getProcess(t),r=Object(g.a)(e);Object.assign(r.meta,{pid:n.pid}),n.parsed=r}},{key:"findAncestral",value:function(t,e){var n=this.getProcesses(),r=n[t];do{if(e(r))return r}while(r!==(r=n[r.ppid]));return null}},{key:"forkProcess",value:function(t){var e=this,n=this.getProcess(t),r=this.getNextPid(),i=x({},n.nestedVars.pop());return n.nestedVars.push(i),Object.values(i).forEach((function(t){var e=t.exported,n=t.varName,r=t.key;return!e&&"0"!==n&&delete i[r]})),this.set((function(o){var a=o.proc,s=o.procGrp;return a[r]={key:"".concat(r),sessionKey:n.sessionKey,pid:r,ppid:t,pgid:n.pgid,parsed:e.mockParsed,subscription:null,fdToOpen:x({},n.fdToOpen),nestedRedirs:[x({},Object(l.e)(n.fdToOpen,(function(t){return t.key})))],nestedVars:[i],toFunc:x({},n.toFunc),lastExitCode:null,lastBgPid:null,cleanups:[]},s[n.pgid].pids.push(r),{nextProcId:r+1}})),this.getProcess(r)}},{key:"getEnvKey",value:function(t){var e=this.getProcess(t).sessionKey,n=h.a.getState().toSessionKey;return Object.keys(n).find((function(t){return n[t]===e}))}},{key:"getOfds",value:function(){return h.a.getState().ofd}},{key:"getNextPid",value:function(){return h.a.getState().nextProcId}},{key:"getProcess",value:function(t){return this.getProcesses()[t]}},{key:"getProcessesInGroup",value:function(t){var e=this;return this.getProcessGroup(t).pids.map((function(t){return e.getProcess(t)}))}},{key:"getProcessGroup",value:function(t){return this.getProcessGroups()[t]}},{key:"getProcessGroups",value:function(){return h.a.getState().procGrp}},{key:"getProcesses",value:function(){return h.a.getState().proc}},{key:"getProcessesMeta",value:function(t){return Object.values(this.getProcesses()).filter((function(e){return e.sessionKey===t})).map((function(t){var e=t.pid,n=t.ppid,r=t.parsed;return{pid:e,ppid:n,command:b.a.src(r)}}))}},{key:"getSession",value:function(t){return h.a.getState().session[t]}},{key:"invokeFunction",value:function(){var t=Object(a.a)(o.a.mark((function t(e,n,r){var i,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y.c.pushPositionalsScope(e,r),t.prev=1,"shell"!==n.type){t.next=8;break}return i=this.getProcess(e),a=i.sessionKey,t.next=6,this.runInShell(n.node,a);case 6:t.next=12;break;case 8:return t.next=10,n.func()(y.c.createVarProxy(e));case 10:void 0!==(s=t.sent)&&this.getProcess(e).fdToOpen[1].write(s);case 12:return t.prev=12,y.c.popPositionalsScope(e),t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[1,,12,15]])})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"isForegroundProcess",value:function(t){var e=this.getProcess(t).sessionKey;return this.getSession(e).fgStack.includes(t)}},{key:"isLeadingProcess",value:function(t){var e=this.getProcess(t).sessionKey;return this.getSession(e).sid===t}},{key:"isInteractiveShell",value:function(t){var e=t.meta;return e.pid===e.sid}},{key:"isTty",value:function(t,e){return this.getProcess(t).fdToOpen[0].file.isATty()}},{key:"launchedInteractively",value:function(t){var e=this.getProcess(t).parsed;return this.isInteractiveShell(e)}},{key:"openFile",value:function(t,e){var n=e.path,r=e.fd,i=v.a.getFile(n);if(!i)if(n.startsWith("@")){var o=n.slice(1);if(!y.a.test(o))throw new d.a("".concat(n,": variable must be alphanumeric"),1);i=v.a.makeVarSetter(t,"".concat(n,"/").concat(t,"-").concat(w),o),v.a.saveFile(i)}else{if(!v.a.validatePath(n))throw new d.a("".concat(n,": only absolute paths /{dev,root,tmp}/foo are supported"),1);i=v.a.makeWire(n),v.a.saveFile(i)}var a=this.getProcess(t),s="opened-".concat(w++),u=new f.b(s,i);this.getOfds()[u.key]=u;var c=v.a.getNextFd(a.fdToOpen,r);return c in a.fdToOpen&&this.closeFd(t,c),this.setFd(t,c,u),u}},{key:"popRedirectScope",value:function(t){var e=this,n=this.getOfds(),i=this.getProcess(t),o=Object(r.a)(i.nestedRedirs),a=o[0],s=o.slice(1);Object.keys(a).forEach((function(t){return e.closeFdInternal(Number(t),Object(l.e)(a,(function(t){return n[t]})))})),i.nestedRedirs=s;var u=s.slice().reverse().reduce((function(t,e){return x(x({},t),e)}),{});i.fdToOpen=Object(l.e)(u,(function(t){return n[t]}))}},{key:"pushRedirectScope",value:function(t){this.getProcess(t).nestedRedirs.unshift({})}},{key:"readOnceFromTty",value:function(t,e){return this.getSession(t).ttyShell.readOnceFromTty(e)}},{key:"removeProcess",value:function(t){var e=this.getProcess(t).pgid;this.removeProcessFromGroup(t,e),delete this.getProcesses()[t],console.warn("terminated process ".concat(t))}},{key:"removeProcessFromGroup",value:function(t,e){var n=this.getProcessGroup(e);n.pids=n.pids.filter((function(e){return e!==t})),n.pids.length||delete this.getProcessGroups()[e]}},{key:"runInShell",value:function(t,e){var n=this,r=d.d.transpile(t),i=this.getSession(e).sid;return Object.assign(t.meta,{pid:i,sessionKey:e,sid:i}),new Promise((function(e,o){var a=n.getProcess(i);a.parsed=t,a.subscription=r.subscribe({next:function(t){return console.log("received",t)},complete:function(){console.log("".concat(t.meta.sessionKey,": shell completed")),a.subscription=null,e()},error:function(e){console.error("".concat(t.meta.sessionKey,": shell terminated"),e),a.subscription=null,o(e)}})}))}},{key:"setExitCode",value:function(t,e){this.getProcess(t).lastExitCode=e}},{key:"setFd",value:function(t,e,n){var r=this.getProcess(t);r.nestedRedirs[0][e]&&this.closeFdInternal(t,r.fdToOpen),r.fdToOpen[e]=n,r.nestedRedirs[0][e]=n.key,n.numLinks++}},{key:"setProcessGroup",value:function(t,e){var n=this.getProcess(t),r=n.pgid,i=n.sessionKey;e!==r&&(this.removeProcessFromGroup(t,r),(this.tryGetProcessGroup(e)||this.createProcessGroup({key:"".concat(e),sessionKey:i,pgid:e,pids:[]})).pids.push(t))}},{key:"setSessionForeground",value:function(t,e){this.getSession(t).fgStack.push(e)}},{key:"sleep",value:function(t,e){var n=this;return new Promise((function(r,i){var o=n.addCleanup(t,(function(){i(null),window.clearTimeout(a)})),a=setTimeout((function(){o(),r()}),e)}))}},{key:"spawnProcess",value:function(t,e,n){var r=this.forkProcess(t);if(this.execProcess(r.pid,e),n){var i=this.getSession(r.sessionKey).fgStack;i.length&&r.pgid===Object(l.c)(i)&&this.setProcessGroup(r.pid,r.pid),this.getProcess(t).lastBgPid=r.pid}return r}},{key:"tryGetProcessGroup",value:function(t){return this.getProcessGroups()[t]||null}},{key:"unlinkFile",value:function(t,e){var n=v.a.getFile(e);if(!n){if(e.endsWith("/"))throw new d.a("".concat(e,": is a directory"),1);throw new d.a("".concat(e,": no such file or directory"),1)}n.iNode.numLinks--,v.a.unlinkFile(n.key)}},{key:"warn",value:function(t,e){var n={key:"error",msg:e};this.getProcess(t).fdToOpen[2].write(n)}}]),t}())},RHh3:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("s4An");function i(t,e,n){return(i=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&Object(r.a)(o,n.prototype),o}).apply(null,arguments)}},RQNS:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("mrSG"),i=n("RwHD");function o(){}var a=n("Dhq2"),s=n("YLe4");function u(t,e,n){return function(r){return Object(s.a)(r,new c(t,e,n))}}var c=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.nextOrObserver,this.error,this.complete))},t}(),l=function(t){function e(e,n,r,i){var s=t.call(this,e)||this;return s._tapNext=o,s._tapError=o,s._tapComplete=o,s._tapError=r||o,s._tapComplete=i||o,Object(a.a)(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||o,s._tapError=n.error||o,s._tapComplete=n.complete||o),s}return Object(r.c)(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(i.a)},RwHD:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("mrSG"),i=n("Dhq2"),o=n("NjKU"),a=n("jYKN"),s=n("cMP6"),u=n("69Zz"),c=function(t){function e(n,r,i){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=o.a;break;case 1:if(!n){a.destination=o.a;break}if("object"===typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new l(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new l(a,n,r,i)}return a}return Object(r.c)(e,t),e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(a.a),l=function(t){function e(e,n,r,s){var u,c=t.call(this)||this;c._parentSubscriber=e;var l=c;return Object(i.a)(n)?u=n:n&&(u=n.next,r=n.error,s=n.complete,n!==o.a&&(l=Object.create(n),Object(a.b)(n)&&n.add(c.unsubscribe.bind(c)),l.unsubscribe=c.unsubscribe.bind(c))),c._context=l,c._next=u,c._error=r,c._complete=s,c}return Object(r.c)(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(c)},T5Oz:function(t,e,n){"use strict";n.d(e,"a",(function(){return Wt})),n.d(e,"b",(function(){return Gt})),n.d(e,"c",(function(){return Kt})),n.d(e,"d",(function(){return zt}));var r=n("JX7q"),i=n("Ji7U"),o=n("md7G"),a=n("foSv"),s=n("s4An");var u=n("RHh3");function c(t){var e="function"===typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Object(u.a)(t,arguments,Object(a.a)(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Object(s.a)(r,t)})(t)}var l=n("ODXe"),f=n("HaE+"),h=n("T5bk"),p=n("rePB"),d=n("KQm4"),v=n("o0o1"),y=n.n(v),b=n("1OyB"),g=n("vuIU");function m(t){var e;if("undefined"!==typeof Symbol){if(Symbol.asyncIterator&&null!=(e=t[Symbol.asyncIterator]))return e.call(t);if(Symbol.iterator&&null!=(e=t[Symbol.iterator]))return e.call(t)}throw new TypeError("Object is not async iterable")}function x(t,e){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(e){e(t[n](i))})),{done:!1,value:e(i)}}return"function"===typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return this}),n.next=function(t){return r?(r=!1,t):i("next",t)},"function"===typeof t.throw&&(n.throw=function(t){if(r)throw r=!1,t;return i("throw",t)}),"function"===typeof t.return&&(n.return=function(t){return r?(r=!1,t):i("return",t)}),n}function w(t){this.wrapped=t}function k(t){return new w(t)}function _(t){var e,n;function r(e,n){try{var o=t[e](n),a=o.value,s=a instanceof w;Promise.resolve(s?a.wrapped:a).then((function(t){s?r("return"===e?"return":"next",t):i(o.done?"return":"normal",t)}),(function(t){r("throw",t)}))}catch(u){i("throw",u)}}function i(t,i){switch(t){case"return":e.resolve({value:i,done:!0});break;case"throw":e.reject(i);break;default:e.resolve({value:i,done:!1})}(e=e.next)?r(e.key,e.arg):n=null}this._invoke=function(t,i){return new Promise((function(o,a){var s={key:t,arg:i,resolve:o,reject:a,next:null};n?n=n.next=s:(e=n=s,r(t,i))}))},"function"!==typeof t.return&&(this.return=void 0)}function O(t){return function(){return new _(t.apply(this,arguments))}}"function"===typeof Symbol&&Symbol.asyncIterator&&(_.prototype[Symbol.asyncIterator]=function(){return this}),_.prototype.next=function(t){return this._invoke("next",t)},_.prototype.throw=function(t){return this._invoke("throw",t)},_.prototype.return=function(t){return this._invoke("return",t)};var S=n("jy4+"),E=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},P=n("69Zz");var j="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",A=n("o1UC"),C=function(t){return t&&"number"===typeof t.length&&"function"!==typeof t};function I(t){return!!t&&"function"!==typeof t.subscribe&&"function"===typeof t.then}var T=n("fUVb"),R=n("mrSG");function N(t){return function(e){(function(t,e){var n,r,i,o;return Object(R.b)(this,void 0,void 0,(function(){var a,s;return Object(R.d)(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=Object(R.a)(t),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];a=r.value,e.next(a),u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),i={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}}var L=function(t){if(t&&"function"===typeof t[A.a])return r=t,function(t){var e=r[A.a]();if("function"!==typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(C(t))return E(t);if(I(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,P.a),t};if(t&&"function"===typeof t[j])return e=t,function(t){for(var n=e[j]();;){var r=void 0;try{r=n.next()}catch(i){return void t.error(i)}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"===typeof n.return&&t.add((function(){n.return&&n.return()})),t};if(Symbol&&Symbol.asyncIterator&&t&&"function"===typeof t[Symbol.asyncIterator])return N(t);var e,n,r,i=Object(T.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")},M=n("jYKN");function B(t,e){return new S.a((function(n){var r=new M.a,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function U(t,e){if(null!=t){if(function(t){return t&&"function"===typeof t[A.a]}(t))return function(t,e){return new S.a((function(n){var r=new M.a;return r.add(e.schedule((function(){var i=t[A.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(I(t))return function(t,e){return new S.a((function(n){var r=new M.a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(C(t))return B(t,e);if(function(t){return t&&"function"===typeof t[j]}(t)||"string"===typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new S.a((function(n){var r,i=new M.a;return i.add((function(){r&&"function"===typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[j](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e);if(Symbol&&Symbol.asyncIterator&&"function"===typeof t[Symbol.asyncIterator])return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new S.a((function(n){var r=new M.a;return r.add(e.schedule((function(){var i=t[Symbol.asyncIterator]();r.add(e.schedule((function(){var t=this;i.next().then((function(e){e.done?n.complete():(n.next(e.value),t.schedule())}))})))}))),r}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function F(t,e){return e?U(t,e):t instanceof S.a?t:new S.a(L(t))}var D=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();function V(t){return new Promise((function(e,n){var r,i=!1;t.subscribe({next:function(t){r=t,i=!0},error:n,complete:function(){i?e(r):n(new D)}})}))}function W(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[t.length-1];return(n=r)&&"function"===typeof n.schedule?(t.pop(),B(t,r)):function(t,e){return e?B(t,e):new S.a(E(t))}(t)}var G=n("RwHD"),K=n("YLe4");function H(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return Object(K.a)(r,new z(t,e,n))}}var z=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new $(t,this.accumulator,this.seed,this.hasSeed))},t}(),$=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._state=r,o._hasState=i,o.index=0,o}return Object(R.c)(e,t),e.prototype._next=function(t){var e=this.destination;if(this._hasState){var n=this.index++,r=void 0;try{r=this.accumulator(this._state,t,n)}catch(i){return void e.error(i)}this._state=r,e.next(r)}else this._state=t,this._hasState=!0,e.next(t)},e}(G.a),Y=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),q=new S.a((function(t){return t.complete()}));function X(t){if(isNaN(t))throw new TypeError("'count' is not a number");if(t<0)throw new Y;return function(e){return 0===t?q:Object(K.a)(e,new J(t))}}var J=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new Q(t,this.total))},t}(),Q=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return Object(R.c)(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(G.a);var Z=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new tt(t,this.defaultValue))},t}(),tt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return Object(R.c)(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(G.a),et=n("oniv");function nt(t,e){return arguments.length>=2?function(n){return Object(et.a)(H(t,e),X(1),(void 0===(r=e)&&(r=null),function(t){return Object(K.a)(t,new Z(r))}))(n);var r}:function(e){return Object(et.a)(H((function(e,n,r){return t(e,n,r+1)})),X(1))(e)}}function rt(t,e){return function(n){if("function"!==typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Object(K.a)(n,new it(t,e))}}var it=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new ot(t,this.project,this.thisArg))},t}(),ot=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return Object(R.c)(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(G.a),at=n("RQNS"),st=n("vU+U"),ut=n.n(st),ct=n("je4i"),lt=n.n(ct),ft=n("KKU8");function ht(t){return pt.apply(this,arguments)}function pt(){return(pt=Object(f.a)(y.a.mark((function t(e){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,n){e.subscribe({complete:t,error:function(t){n(t)}})}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var dt=n("EJlW"),vt=n("bSq8"),yt=n("4TB2"),bt=n.n(yt),gt={expand:!0,rangeLimit:1/0},mt=new(function(){function t(){Object(b.a)(this,t)}return Object(g.a)(t,[{key:"interpretEscapeSequences",value:function(t){var e=JSON.stringify(t).replace(/\\\\u([0-9a-f]{4})/g,"\\u$1").replace(/\\\\\\\\/g,"\\u005c").replace(/\\\\e/g,"\\u001b").replace(/\\\\x([0-9a-f]{2})/g,"\\u00$1").replace(/\\\\([bfnrt])/g,"\\$1").replace(/\\\\v/g,"\\u000b").replace(/\\\\a/g,"\\u0007").replace(/\\\\([0-7]{3})/g,(function(t,e){var n=parseInt(e,8);return n<256?"\\u00".concat(n.toString(16)):"?"}));return JSON.parse(e)}},{key:"literal",value:function(t){var e=t.Value,n=t.parent;if(!n)throw Error("Literal must have parent");var r=e.replace(/\\\n/,"");return"DblQuoted"===n.type?[r.replace(/\\(["\\$`])/g,"$1")]:"TestClause"===n.type?[r.replace(/\\(.|$)/g,"$1")]:"Redirect"===n.type?[r.replace(/\\(.|$)/g,"$1")]:bt()(r,gt)}},{key:"normalizeWhitespace",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t.trim())return[];if(e)return t.trim().replace(/[\s]+/g," ").split(" ");var n=t.replace(/[\s]+/g," ").split(" ");return n[0]||(n.shift(),n[0]=" "+n[0]),Object(ft.c)(n)||(n.pop(),n.push(n.pop()+" ")),n}},{key:"singleQuotes",value:function(t){var e=t.Dollar,n=t.Value;return[e?this.interpretEscapeSequences(n):n]}}]),t}()),xt=n("N7p8"),wt=n("R1th"),kt=n("o7Ra"),_t=n("M4H5"),Ot=n("Lr/o"),St=n("M4Zq"),Et=n("H8bs"),Pt=n("o2a1");function jt(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"===typeof t)return At(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return At(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function At(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ct=function(){function t(){Object(b.a)(this,t)}return Object(g.a)(t,[{key:"isBuiltinCommand",value:function(t){return!!It[t]}},{key:"runBuiltin",value:function(){var t=Object(f.a)(y.a.mark((function t(e,n,r){var i=this;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(){var t=Object(f.a)(y.a.mark((function t(o,a){var s,u;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=wt.a.getProcess(e.meta.pid),u=wt.a.addCleanup(s.pid,(function(){return a(null)})),e.exitCode=0,t.prev=3,!n.startsWith("@")){t.next=9;break}return t.next=7,i.runAt(e,n.slice(1),r);case 7:t.next=58;break;case 9:t.t0=n,t.next="break"===t.t0?12:"call"===t.t0?14:"click"===t.t0?17:"continue"===t.t0?20:"def"===t.t0?22:"delay"===t.t0?25:"echo"===t.t0?27:"false"===t.t0?30:"get"===t.t0?32:"kill"===t.t0?34:"nav"===t.t0?36:"ps"===t.t0?39:"read"===t.t0?42:"say"===t.t0?45:"sleep"===t.t0?48:"spawn"===t.t0?51:"true"===t.t0?54:"way"===t.t0?55:57;break;case 12:return i.break(e,r),t.abrupt("break",58);case 14:return t.next=16,i.call(s,r);case 16:return t.abrupt("break",58);case 17:return t.next=19,i.click(s,r);case 19:return t.abrupt("break",58);case 20:return i.continue(e,r),t.abrupt("break",58);case 22:return t.next=24,i.def(s,r);case 24:return t.abrupt("break",58);case 25:return i.delay(s,r),t.abrupt("break",58);case 27:return t.next=29,i.echo(s,r);case 29:return t.abrupt("break",58);case 30:return e.exitCode=1,t.abrupt("break",58);case 32:return i.get(s,r),t.abrupt("break",58);case 34:return i.kill(s,e,r),t.abrupt("break",58);case 36:return t.next=38,i.nav(s,r);case 38:return t.abrupt("break",58);case 39:return t.next=41,i.ps(s,r);case 41:return t.abrupt("break",58);case 42:return t.next=44,i.read(s,r);case 44:return t.abrupt("break",58);case 45:return t.next=47,i.say(s,r);case 47:return t.abrupt("break",58);case 48:return t.next=50,i.sleep(s,r);case 50:return t.abrupt("break",58);case 51:return t.next=53,i.spawn(s,r);case 53:case 54:return t.abrupt("break",58);case 55:return i.way(s,r),t.abrupt("break",58);case 57:throw Object(ft.i)(n);case 58:u(),o(),t.next=66;break;case 62:t.prev=62,t.t1=t.catch(3),t.t1&&(t.t1.message="".concat(n,": ").concat(t.t1.message)),a(t.t1);case 66:case"end":return t.stop()}}),t,null,[[3,62]])})));return function(e,n){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"runAt",value:function(){var t=Object(f.a)(y.a.mark((function t(e,n,r){var i,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=wt.a.getProcess(e.meta.pid),"camera"!==n){t.next=6;break}return t.next=4,this.cameraCommand(i,r);case 4:t.next=9;break;case 6:return o=this.getActorOrThrow(i.pid,n),t.next=9,this.actorCommand(i,o,r);case 9:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"cameraCommand",value:function(){var t=Object(f.a)(y.a.mark((function t(e,n){var r,i,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.pid,i=e.sessionKey,o=e.fdToOpen,t.t0=n[0],t.next=void 0===t.t0?4:"at"===t.t0?6:8;break;case 4:return wt.a.getSession(i).worldDevice.write({key:"set-camera-free"}),t.abrupt("break",9);case 6:return o[1].write(this.getCamPosition(r)),t.abrupt("break",9);case 8:throw new Wt("".concat(n[0],": unrecognised camera command"),1);case 9:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"actorCommand",value:function(){var t=Object(f.a)(y.a.mark((function t(e,n,r){var i,o,a,s,u,c,l,f,h,p,d,v;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=e.pid,o=e.sessionKey,a=e.fdToOpen,s=wt.a.getSession(o),u=s.worldDevice,t.t0=r[0],t.next=void 0===t.t0?5:"at"===t.t0?7:"look"===t.t0?9:"face"===t.t0?9:"go"===t.t0?13:"goto"===t.t0?13:"relax"===t.t0?30:"speed"===t.t0?33:"stop"===t.t0?38:"watch"===t.t0?40:49;break;case 5:return u.write({key:"set-camera-follow",actorName:n.key}),t.abrupt("break",50);case 7:return a[1].write(n.steerable.positionXY),t.abrupt("break",50);case 9:return l=null==r[1]?this.getMousePosition(i):(null===(c=this.getActor(i,r[1]))||void 0===c?void 0:c.steerable.positionXY)||this.parsePointArg(i,r[1]),t.next=12,this.runAndHandleError((function(){return new Promise((function(t){return u.write({key:"actor-face-point",pid:i,actorName:n.key,point:l,callback:t})}))}));case 12:return t.abrupt("break",50);case 13:if(2===r.length){t.next=15;break}throw new Wt("expected exactly one point/path/variable`",1);case 15:if(!((f=this.parsePointOrPathArg(i,r[1]))instanceof Array)){t.next=23;break}if(!f.length){t.next=21;break}return u.write({key:"spawn-actor",name:n.key,position:f[0]}),t.next=21,this.runAndHandleError((function(){return new Promise((function(t){return u.write({key:"actor-follow-path",pid:i,name:n.key,path:f,callback:t})}))}));case 21:t.next=29;break;case 23:return t.next=25,this.getNavPath(i,n.steerable.position,f);case 25:return h=t.sent,u.write({key:"show-navpath",name:"__TODO__",points:h}),t.next=29,this.runAndHandleError((function(){return new Promise((function(t){return u.write({key:"actor-follow-path",pid:i,name:n.key,path:h,callback:t})}))}));case 29:return t.abrupt("break",50);case 30:return n.cancelLook(),n.steerable.lookStrategy=Et.a.travel,t.abrupt("break",50);case 33:if(p=Number(r[1]),2===r.length&&Number.isFinite(p)&&!(p<0)){t.next=36;break}throw new Wt("".concat(p,": invalid speed"),1);case 36:return n.steerable.maxSpeed=p,t.abrupt("break",50);case 38:return n.cancelGoto(),t.abrupt("break",50);case 40:if(!r[1]){t.next=46;break}return d=this.getActorOrThrow(i,r[1]),v=d.key,t.next=44,this.runAndHandleError((function(){return new Promise((function(t){return u.write({key:"actor-watch-actor",pid:i,actorName:n.key,callback:t,otherName:v})}))}));case 44:t.next=48;break;case 46:return t.next=48,this.runAndHandleError((function(){return new Promise((function(t){return u.write({key:"actor-watch-mouse",pid:i,actorName:n.key,callback:t})}))}));case 48:return t.abrupt("break",50);case 49:throw new Wt("".concat(r[0],": unrecognised actor command"),1);case 50:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"break",value:function(t,e){var n=e.length?Number(e[0]):1;if(e.length>1||!Number.isInteger(n)||n<=0)throw new Wt("usage `break` or `break n` where n > 0",1);if(!Object(Pt.c)(t))throw new Wt("only meaningful in a `for', `while' or `until' loop",1);throw Gt(n)}},{key:"click",value:function(){var t=Object(f.a)(y.a.mark((function t(e,n){var r,i,o,a,s,u;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.sessionKey,i=e.pid,o=e.fdToOpen,a=wt.a.getSession(r),s=a.worldDevice,t.prev=2,t.next=5,new Promise((function(t,e){u=s.read((function(e){"nav-click"===e.key&&(n.length?(xt.c.assignVar(i,{varName:n.shift(),value:e}),!n.length&&t()):(o[1].write(e),t()))}),!1),wt.a.addCleanup(i,(function(){return e(null)}))}));case 5:return t.prev=5,u(),t.finish(5);case 8:case"end":return t.stop()}}),t,null,[[2,,5,8]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"continue",value:function(t,e){var n=e.length?Number(e[0]):1;if(e.length>1||!Number.isInteger(n)||n<=0)throw new Wt("usage `continue` or `continue n` where n > 0",1);if(!Object(Pt.c)(t))throw new Wt("only meaningful in a `for', `while' or `until' loop",1);throw Kt(n)}},{key:"def",value:function(){var t=Object(f.a)(y.a.mark((function t(e,n){var r,i,o,a,s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.pid,i=Object(h.a)(n),o=i[0],a=i[1],s=i.slice(2),o&&a&&!s.length){t.next=4;break}throw new Wt("usage `def my_func '(v) => v.foo = Math.random()`",1);case 4:xt.c.addFunction(r,o,{type:"js",func:Function("v","return ".concat(a))});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"call",value:function(){var t=Object(f.a)(y.a.mark((function t(e,n){var r,i,o,a,s,u;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.pid,i=Object(h.a)(n),o=i[0],a=i.slice(1),o){t.next=4;break}throw new Wt("usage `do '(scope, args) => ... ' [args]`",1);case 4:return s=Function("v","return ".concat(o)),t.next=7,s()(xt.c.createVarProxy(r),a);case 7:void 0!==(u=t.sent)&&wt.a.getProcess(r).fdToOpen[1].write(u);case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"delay",value:function(t,e){var n=t.pid,r=[.1,.2,.25,.3,.4,.5,1];if(1!==e.length||!r.includes(Number(e[0])))throw new Wt("usage `delay t where t in {".concat(r,"}`"),1);xt.c.assignVar(n,{varName:xt.b,value:Number(e[0]),internal:!0})}},{key:"echo",value:function(){var t=Object(f.a)(y.a.mark((function t(e,n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fdToOpen[1].write(n.join(" "));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"get",value:function(t,e){var n=t.pid,r=t.fdToOpen,i=Object(h.a)(e),o=i[0],a=i.slice(1);if(!o||a.length)throw new Wt("usage `get foo` or `get foo.bar[2]`",1);var s=Rt.get[o];if(!s){var u=o.split(/[\.\[]/,1)[0],c=o.slice(u.length);s=Rt.get[o]={varName:u,relJsPath:c,func:Function("__","return __".concat(c,";"))}}var l=xt.c.lookupVar(n,s.varName);if(void 0===l)throw new Wt("".concat(s.varName," not found"),1);try{var f=s.func(l);void 0!==f&&r[1].write(f)}catch(p){throw new Wt("path ".concat(o," not found"),1)}}},{key:"getActor",value:function(t,e){var n=wt.a.getEnvKey(t);return _t.a.api.getActorMeta(n,e)}},{key:"getActorOrThrow",value:function(t,e){var n=this.getActor(t,e);if(!n)throw new Wt('actor "'.concat(e,'" not found'),1);return n}},{key:"getCamPosition",value:function(t){var e=_t.a.getState().env[wt.a.getEnvKey(t)].camControls;return kt.a.projectXY(e.camera.position)}},{key:"getMousePosition",value:function(t){return _t.a.getState().director[wt.a.getEnvKey(t)].mouse.position}},{key:"getNavPath",value:function(){var t=Object(f.a)(y.a.mark((function t(e,n,r){var i,o,a,s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=wt.a.getEnvKey(e),t.next=3,_t.a.api.requestNavPath(i,{x:n.x,y:n.y},{x:r.x,y:r.y});case 3:if(o=t.sent,a=o.navPath,!(s=o.error)){t.next=8;break}throw new Wt("failed with error: ".concat(s),1);case 8:return t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"kill",value:function(){var t=Object(f.a)(y.a.mark((function t(e,n,r){var i,o,a,s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=e.pid,o=jt(r);try{for(o.s();!(a=o.n()).done;){s=a.value;try{wt.a.cleanup(Number(s))}catch(u){wt.a.warn(i,"kill: ".concat(s,": unknown pid")),n.exitCode=1}}}catch(c){o.e(c)}finally{o.f()}case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"nav",value:function(){var t=Object(f.a)(y.a.mark((function t(e,n){var r,i,o,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.pid,2===n.length){t.next=3;break}throw new Wt("usage `nav pnt_a pnt_b``",1);case 3:return i=this.parsePointArg(r,n[0]),o=this.parsePointArg(r,n[1]),t.next=7,this.getNavPath(r,i,o);case 7:a=t.sent,wt.a.getProcess(r).fdToOpen[1].write(a);case 9:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"parsePointArg",value:function(t,e){if(e.startsWith("{"))return kt.a.tryParsePoint(e);var n=xt.c.lookupVar(t,e);if(kt.a.isVectorJson(n))return n;throw new Wt("".concat(e,": expected point-valued variable"),1)}},{key:"parsePointOrPathArg",value:function(t,e){if(e.startsWith("{"))return kt.a.tryParsePoint(e);if(e.startsWith("["))return kt.a.tryParsePath(e);var n=xt.c.lookupVar(t,e);if(kt.a.isVectorJson(n))return n;if(kt.a.isVectorJsonPath(n))return n;throw new Wt("".concat(e,": expected point/path/variable"),1)}},{key:"ps",value:function(){var t=Object(f.a)(y.a.mark((function t(e,n){var r,i,o,a,s,u,c,l,f;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.sessionKey,i=e.fdToOpen,!n.length){t.next=3;break}throw new Wt("arguments are unsupported",1);case 3:i[1].write("PID".padEnd(7)+"PPID".padEnd(9)+"CMD"),o=wt.a.getProcessesMeta(r),a=jt(o);try{for(a.s();!(s=a.n()).done;)u=s.value,c=u.pid,l=u.ppid,f=u.command,i[1].write("".concat(c).padEnd(7)+"".concat(l).padEnd(9)+"".concat(f))}catch(h){a.e(h)}finally{a.f()}case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"read",value:function(){var t=Object(f.a)(y.a.mark((function t(e,n){var r,i,o,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.pid,i=e.sessionKey,o=e.fdToOpen,a=e.cleanups,!n.some((function(t){return!xt.a.test(t)}))){t.next=3;break}throw new Wt("usage `read [var_names]`",1);case 3:return t.next=5,new Promise((function(t,e){var s=function(e){if(n.length)if("string"===typeof e){var i=[e.trim().replace(/\s\s+/g," ").split(" "),n.pop()],o=i[0],a=i[1];n.forEach((function(t){return xt.c.assignVar(r,{varName:t,value:o.shift()||""})})),a&&xt.c.assignVar(r,{varName:a,value:o.join(" ")})}else xt.c.assignVar(r,{varName:n[0],value:e});t()};if(wt.a.isTty(r,0)){if(!wt.a.isForegroundProcess(r))throw new Wt("background process tried reading from tty",1);wt.a.readOnceFromTty(i,s)}else a.push(o[0].onWrite(s,!0));a.push((function(){return e(null)}))}));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"runAndHandleError",value:function(){var t=Object(f.a)(y.a.mark((function t(e){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:if(!(n=t.sent)){t.next=5;break}throw new Wt(n,1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"say",value:function(){var t=Object(f.a)(y.a.mark((function t(e,n){var r,i,o,a,s,u;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.fdToOpen,i=e.cleanups,o=Object(Pt.b)(n,{string:["voice","v"]}),a=o._,s=o.voice,u=o.v,!s&&"?"!==u){t.next=4;break}return t.abrupt("return",Ot.a.getAllVoices().forEach((function(t){return r[1].write(t)})));case 4:return t.next=6,new Promise(function(){var t=Object(f.a)(y.a.mark((function t(e,n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.push(Ot.a.addVoiceCommand(a.join(" "),e,s||u),(function(){return n(null)}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"sleep",value:function(){var t=Object(f.a)(y.a.mark((function t(e,n){var r,i,o,a,s,u;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.pid,i=n.length?0:1,a=jt(n),t.prev=3,a.s();case 5:if((s=a.n()).done){t.next=12;break}if(u=s.value,i+=o=Number(u),!Number.isNaN(o)){t.next=10;break}throw new Wt("invalid time interval \u2018".concat(u,"\u2019"),1);case 10:t.next=5;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),a.e(t.t0);case 17:return t.prev=17,a.f(),t.finish(17);case 20:return t.next=22,wt.a.sleep(r,1e3*i);case 22:case"end":return t.stop()}}),t,null,[[3,14,17,20]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"spawn",value:function(){var t=Object(f.a)(y.a.mark((function t(e,n){var r,i,o,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.pid,i=e.sessionKey,!(0===n.length||n.length>2)){t.next=5;break}throw new Wt("usage `spawn actor_name` or `spawn actor_name pnt_or_var",1);case 5:if(St.a.isLegalName(n[0])){t.next=7;break}throw new Wt("actor_name must be alphanumeric and not ".concat(St.a.forbiddenNames),1);case 7:o=null!=n[1]?this.parsePointArg(r,n[1]):this.getCamPosition(r),a=wt.a.getSession(i),a.worldDevice.write({key:"spawn-actor",name:n[0],position:o});case 10:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"way",value:function(t,e){var n=t.sessionKey,r=t.pid;if(e.length>1)throw new Wt("usage `way p`",1);var i=xt.c.lookupVar(r,e[0]);if(!kt.a.isVectorJsonPath(i))throw new Wt("usage `way [opts] p` where p is a path-valued var",1);wt.a.getSession(n).worldDevice.write({key:"show-navpath",name:"__TODO__",points:i})}}]),t}(),It={break:!0,call:!0,click:!0,continue:!0,def:!0,echo:!0,false:!0,get:!0,kill:!0,nav:!0,ps:!0,read:!0,say:!0,sleep:!0,spawn:!0,delay:!0,true:!0,way:!0},Tt=new Ct,Rt={get:{}},Nt=n("Wg50");function Lt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(a.a)(t);if(e){var i=Object(a.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}function Mt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mt(Object(n),!0).forEach((function(e){Object(p.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ut(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"===typeof t)return Ft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ft(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function Ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Dt=0,Vt=function(){function t(){Object(b.a)(this,t)}return Object(g.a)(t,[{key:"transpile",value:function(t){var e=this.File(t);return console.log("TRANSPILED",e),e}},{key:"ArithmCmd",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return F(O(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k($t.runArithmExpr(t.X));case 2:return t.exitCode=t.number&&Number.isInteger(t.number)?0:1,e.next=5,dt.b.expanded("".concat(t.number||0));case 5:case"end":return e.stop()}}),e)})))())}))},{key:"ArithmExp",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return this.ArithmCmd(t)}))},{key:"ArithmExpr",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=t.meta.pid;switch(t.type){case"BinaryArithm":return F(O(y.a.mark((function n(){var r,i,o,a,s,u,c,l,f,h;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("?"!==t.Op){n.next=9;break}return r=[t.X,t.Y],i=r[0],o=r[1],n.next=4,k($t.runArithmExpr(i));case 4:return a=t.number?o.X:o.Y,n.next=7,k($t.runArithmExpr(a));case 7:n.next=78;break;case 9:return s=[t.X,t.Y],u=s[0],c=s[1],n.next=12,k($t.runArithmExpr(u));case 12:return l=t.number,f=t.string,n.next=16,k($t.runArithmExpr(c));case 16:h=t.number,n.t0=t.Op,n.next="<"===n.t0?20:"<="===n.t0?22:">"===n.t0?24:">="===n.t0?26:"*"===n.t0?28:"**"===n.t0?30:"=="===n.t0?32:"+="===n.t0?34:"-="===n.t0?34:"*="===n.t0?34:"/="===n.t0?34:"%="===n.t0?34:"&="===n.t0?34:"|="===n.t0?34:"^="===n.t0?34:"<<="===n.t0?34:">>="===n.t0?34:"+"===n.t0?60:"-"===n.t0?62:"="===n.t0?64:"%"===n.t0?67:"^"===n.t0?69:","===n.t0?71:"/"===n.t0?73:75;break;case 20:return t.number=l<h?1:0,n.abrupt("break",76);case 22:return t.number=l<=h?1:0,n.abrupt("break",76);case 24:return t.number=l>h?1:0,n.abrupt("break",76);case 26:return t.number=l>=h?1:0,n.abrupt("break",76);case 28:return t.number=l*h,n.abrupt("break",76);case 30:return t.number=Math.pow(l,h),n.abrupt("break",76);case 32:return t.number=l===h?1:0,n.abrupt("break",76);case 34:n.t1=t.Op,n.next="+="===n.t1?37:"-="===n.t1?39:"*="===n.t1?41:"/="===n.t1?43:"%="===n.t1?45:"&="===n.t1?47:"|="===n.t1?49:"^="===n.t1?51:"<<="===n.t1?53:">>="===n.t1?55:57;break;case 37:return t.number=l+h,n.abrupt("break",58);case 39:return t.number=l-h,n.abrupt("break",58);case 41:return t.number=l*h,n.abrupt("break",58);case 43:return t.number=l/h,n.abrupt("break",58);case 45:return t.number=l%h,n.abrupt("break",58);case 47:return t.number=l&h,n.abrupt("break",58);case 49:return t.number=l|h,n.abrupt("break",58);case 51:return t.number=l^h,n.abrupt("break",58);case 53:return t.number=l<<h,n.abrupt("break",58);case 55:return t.number=l>>h,n.abrupt("break",58);case 57:throw Object(ft.i)(t.Op);case 58:return xt.c.assignVar(e,{shell:!0,integer:!0,varName:f,value:String(t.number)}),n.abrupt("break",76);case 60:return t.number=l+h,n.abrupt("break",76);case 62:return t.number=l-h,n.abrupt("break",76);case 64:return t.number=h,xt.c.assignVar(e,{shell:!0,integer:!0,varName:f,value:String(t.number)}),n.abrupt("break",76);case 67:return t.number=l%h,n.abrupt("break",76);case 69:return t.number=l^h,n.abrupt("break",76);case 71:return t.number=h,n.abrupt("break",76);case 73:return t.number=Math.floor(l/h),n.abrupt("break",76);case 75:throw new Wt("".concat(t.Op,": unrecognised binary arithmetic symbol"),2);case 76:t.string="".concat(t.number),t.exitCode=t.number?0:1;case 78:case"end":return n.stop()}}),n)})))());case"ParenArithm":return F(O(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(ht($t.ArithmExpr(t.X)));case 2:t.string=t.X.string,t.number=t.X.number;case 4:case"end":return e.stop()}}),e)})))());case"UnaryArithm":return F(O(y.a.mark((function n(){var r,i,o;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.X,n.next=3,k($t.runArithmExpr(r));case 3:i=t.number,o=t.string,n.t0=t.Op,n.next="!"===n.t0?8:"~"===n.t0?10:"-"===n.t0?12:"+"===n.t0?14:"++"===n.t0?16:"--"===n.t0?16:27;break;case 8:return t.number=i?0:1,n.abrupt("break",28);case 10:return t.number=~i,n.abrupt("break",28);case 12:return t.number=-i,n.abrupt("break",28);case 14:return t.number=i,n.abrupt("break",28);case 16:n.t1=t.Op,n.next="++"===n.t1?19:"--"===n.t1?21:23;break;case 19:return t.number=i+1,n.abrupt("break",24);case 21:return t.number=i-1,n.abrupt("break",24);case 23:throw Object(ft.i)(t.Op);case 24:return xt.c.assignVar(e,{shell:!0,integer:!0,varName:o,value:String(t.number)}),t.exitCode=t.Post?Number.isInteger(i)&&i?0:1:Number.isInteger(t.number)&&t.number?0:1,n.abrupt("break",28);case 27:throw new Wt("".concat(t.Op,": unsupported unary arithmetic symbol"),2);case 28:case"end":return n.stop()}}),n)})))());case"Word":return this.Expand(t);default:throw Object(ft.i)(t)}}))},{key:"ArrayExpr",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=t.Elems;return F(O(y.a.mark((function t(){var n,r,i,o,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=dt.b.arrayAsgn([],!1),r=!1,i=Ut(e),t.prev=3,a=y.a.mark((function t(){var e,i,a,s,u,c,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=o.value,a=i.Index,s=i.Value,!a){t.next=7;break}return t.next=4,k(V($t.ArithmExpr(a)));case 4:t.t0=t.sent.value,t.next=8;break;case 7:t.t0=null;case 8:return u=t.t0,t.next=11,k(V($t.Expand(s)));case 11:c=t.sent,l=c.values,(e=n.pairs).push.apply(e,Object(d.a)(l.map((function(t){return{key:u,value:t}})))),r=r||isNaN(Number(u));case 15:case"end":return t.stop()}}),t)})),i.s();case 6:if((o=i.n()).done){t.next=10;break}return t.delegateYield(a(),"t0",8);case 8:t.next=6;break;case 10:t.next=15;break;case 12:t.prev=12,t.t1=t.catch(3),i.e(t.t1);case 15:return t.prev=15,i.f(),t.finish(15);case 18:return n.associative=r,t.next=21,n;case 21:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})))())}))},{key:"Assign",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=t.Name,n=t.Value,r=t.Append,i=t.Array,o=t.Index,a=t.Naked,s=t.meta,u=t.declOpts,c=void 0===u?{}:u,l=s.pid,f=e.Value;return F(i?O(y.a.mark((function t(){var e,n,o,a,s,u,h,p,v,b,g,m,x,w;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(V($t.ArrayExpr(i)));case 2:if(e=t.sent,n=e.pairs,o=e.associative,a=c.associative||o){s={},u=Ut(n);try{for(u.s();!(h=u.n()).done;)p=h.value,v=p.key,b=p.value,v?s[v]=c.integer?parseInt(b)||0:b:wt.a.warn(l,"".concat(f,": ").concat(b,": must use subscript when assigning associative array"))}catch(y){u.e(y)}finally{u.f()}xt.c.assignVar(l,Bt(Bt({},c),{},{associative:a,varName:f,shell:!0,value:s}))}else g=[],m=0,n.map((function(t){var e=t.key,n=t.value;m=e?parseInt(e)||0:m,g[m]=c.integer?parseInt(n)||0:n,m++})),r&&(w=xt.c.lookupVar(l,f).map(c.integer?Number:String),Array.isArray(w)&&(x=g).unshift.apply(x,Object(d.a)(w))),xt.c.assignVar(l,Bt(Bt({},c),{},{varName:f,shell:!0,value:g}));case 7:case"end":return t.stop()}}),t)})))():o?O(y.a.mark((function t(){var e,r,i;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(V($t.ArithmExpr(o)));case 2:if(e=t.sent,r=e.value,!a){t.next=8;break}t.t0=void 0,t.next=16;break;case 8:if(!n){t.next=14;break}return t.next=11,k(V($t.Expand(n)));case 11:t.t1=t.sent.value,t.next=15;break;case 14:t.t1="";case 15:t.t0=t.t1;case 16:i=t.t0,xt.c.assignVar(l,Bt(Bt({},c),{},{varName:f,shell:!0,index:r,value:i}));case 18:case"end":return t.stop()}}),t)})))():O(y.a.mark((function t(){var e;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=4;break}t.t0=void 0,t.next=12;break;case 4:if(!n){t.next=10;break}return t.next=7,k(V($t.Expand(n).pipe(nt((function(t,e){var n=e.values;return t.concat(n)}),[]),rt((function(t){return t.join(" ")})))));case 7:t.t1=t.sent,t.next=11;break;case 10:t.t1="";case 11:t.t0=t.t1;case 12:e=t.t0,c.array?xt.c.assignVar(l,Bt(Bt({},c),{},{varName:f,shell:!0,value:null==e?[]:[e]})):c.associative?xt.c.assignVar(l,Bt(Bt({},c),{},{varName:f,shell:!0,value:null==e?{}:{0:e}})):xt.c.assignVar(l,Bt(Bt({},c),{},{varName:f,shell:!0,value:e,append:r}));case 14:case"end":return t.stop()}}),t)})))())}))},{key:"BinaryCmd",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=Nt.a.binaryCmds(t),n=[e[0].X].concat(e.map((function(t){return t.Y})));return F(O(y.a.mark((function e(){var r,i,o,a,s,u,c,l,f,h;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.Op,e.next="&&"===e.t0?3:"||"===e.t0?24:"|"===e.t0?45:52;break;case 3:r=Ut(n),e.prev=4,r.s();case 6:if((i=r.n()).done){e.next=15;break}return o=i.value,e.next=10,k(ht($t.Stmt(o)));case 10:if(t.exitCode=o.exitCode,!t.exitCode){e.next=13;break}return e.abrupt("break",15);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(4),r.e(e.t1);case 20:return e.prev=20,r.f(),e.finish(20);case 23:return e.abrupt("break",53);case 24:a=Ut(n),e.prev=25,a.s();case 27:if((s=a.n()).done){e.next=36;break}return u=s.value,e.next=31,k(ht($t.Stmt(u)));case 31:if(t.exitCode=u.exitCode,0!==t.exitCode){e.next=34;break}return e.abrupt("break",36);case 34:e.next=27;break;case 36:e.next=41;break;case 38:e.prev=38,e.t2=e.catch(25),a.e(e.t2);case 41:return e.prev=41,a.f(),e.finish(41);case 44:return e.abrupt("break",53);case 45:return c=!wt.a.isInteractiveShell(t),l=n.map((function(t){return Object(Pt.e)(t)})),f=l.map((function(e){return wt.a.spawnProcess(t.meta.pid,e,c)})),h=f.map((function(t){var e=t.parsed;return $t.transpile(e)})),e.next=51,k(Promise.all(h.map(ht)));case 51:return e.abrupt("break",53);case 52:throw new Wt("binary command ".concat(t.Op," unsupported"),2);case 53:wt.a.setExitCode(t.meta.pid,t.exitCode||0);case 54:case"end":return e.stop()}}),e,null,[[4,17,20,23],[25,38,41,44]])})))())}))},{key:"Block",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return this.stmts(t,t.Stmts)}))},{key:"CallExpr",value:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){return F(O(y.a.mark((function n(){var r,i,o,a,s,u;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.meta.pid,t.exitCode=0,n.next=4,k($t.performShellExpansion(t.Args));case 4:return i=n.sent,o=Object(h.a)(i),a=o[0],s=o.slice(1),n.prev=6,wt.a.pushRedirectScope(r),n.next=10,k($t.applyRedirects(t,e));case 10:if(!i.length){n.next=31;break}if(!Tt.isBuiltinCommand(a)&&!a.startsWith("@")){n.next=16;break}return n.next=14,k(Tt.runBuiltin(t,a,s));case 14:n.next=29;break;case 16:if(!(u=xt.c.getFunction(r,a))){n.next=28;break}return n.prev=17,xt.c.pushVarScope(r),n.next=21,k($t.assignVars(t,!0));case 21:return n.next=23,k(wt.a.invokeFunction(r,u,s));case 23:return n.prev=23,xt.c.popVarScope(r),n.finish(23);case 26:n.next=29;break;case 28:throw new Wt("".concat(a,": command not found"),127);case 29:n.next=33;break;case 31:return n.next=33,k($t.assignVars(t));case 33:n.next=38;break;case 35:n.prev=35,n.t0=n.catch(6),$t.handleShError(t,n.t0);case 38:return n.prev=38,wt.a.popRedirectScope(r),n.finish(38);case 41:case"end":return n.stop()}}),n,null,[[6,35,38,41],[17,,23,26]])})))())}))},{key:"CaseClause",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return F(O(y.a.mark((function e(){var n,r,i,o,a,s,u,c,l,f,h,p,d,v,b,g;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(V($t.Expand(t.Word)));case 2:n=e.sent,r=n.value,i=t.Items.map((function(e){var n=e.Patterns,r=e.Op,i=e.Stmts;return{globs:n.map((function(t){return $t.Expand(t)})),terminal:r,child:$t.stmts(t,i)}})),o=!1,a=Ut(i),e.prev=7,a.s();case 9:if((s=a.n()).done){e.next=39;break}u=s.value,c=u.globs,l=u.child,f=Ut(c),e.prev=12,f.s();case 14:if((h=f.n()).done){e.next=25;break}return p=h.value,e.next=18,k(V(p));case 18:if(d=e.sent,v=d.value,b=ut()(v,{extended:!0}),g=b.regex,!(o=g.test(r))){e.next=23;break}return e.abrupt("break",25);case 23:e.next=14;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(12),f.e(e.t0);case 30:return e.prev=30,f.f(),e.finish(30);case 33:if(!o){e.next=37;break}return e.next=36,k(ht(l));case 36:return e.abrupt("break",39);case 37:e.next=9;break;case 39:e.next=44;break;case 41:e.prev=41,e.t1=e.catch(7),a.e(e.t1);case 44:return e.prev=44,a.f(),e.finish(44);case 47:case"end":return e.stop()}}),e,null,[[7,41,44,47],[12,27,30,33]])})))())}))},{key:"Command",value:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){return"CallExpr"===t.type?this.CallExpr(t,e):F(O(y.a.mark((function n(){var r,i;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=null,n.t0=t.type,n.next="ArithmCmd"===n.t0?4:"BinaryCmd"===n.t0?6:"Block"===n.t0?8:"CaseClause"===n.t0?10:"DeclClause"===n.t0?12:"ForClause"===n.t0?14:"FuncDecl"===n.t0?16:"IfClause"===n.t0?18:"LetClause"===n.t0?20:"Subshell"===n.t0?22:"TestClause"===n.t0?24:"TimeClause"===n.t0?26:"WhileClause"===n.t0?28:30;break;case 4:return r=$t.ArithmCmd(t),n.abrupt("break",31);case 6:return r=$t.BinaryCmd(t),n.abrupt("break",31);case 8:return r=$t.Block(t),n.abrupt("break",31);case 10:return r=$t.CaseClause(t),n.abrupt("break",31);case 12:return r=$t.DeclClause(t),n.abrupt("break",31);case 14:return r=$t.ForClause(t),n.abrupt("break",31);case 16:return r=$t.FuncDecl(t),n.abrupt("break",31);case 18:return r=$t.IfClause(t),n.abrupt("break",31);case 20:return r=$t.LetClause(t),n.abrupt("break",31);case 22:return r=$t.Subshell(t),n.abrupt("break",31);case 24:return r=$t.TestClause(t),n.abrupt("break",31);case 26:return r=$t.TimeClause(t),n.abrupt("break",31);case 28:return r=$t.WhileClause(t),n.abrupt("break",31);case 30:return n.abrupt("return");case 31:return i=t.meta.pid,t.exitCode=0,n.prev=33,wt.a.pushRedirectScope(i),n.next=37,k($t.applyRedirects(t,e));case 37:return n.next=39,k(ht(r));case 39:n.next=44;break;case 41:n.prev=41,n.t1=n.catch(33),$t.handleShError(t,n.t1);case 44:return n.prev=44,wt.a.popRedirectScope(i),n.finish(44);case 47:case"end":return n.stop()}}),n,null,[[33,41,44,47]])})))())}))},{key:"DeclClause",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){switch(t.Variant.Value){case"declare":case"export":case"local":case"readonly":case"typeset":case"nameref":return W();default:throw Object(ft.i)(t.Variant.Value)}}))},{key:"Expand",value:function(t){return t.Parts.length>1?F(O(y.a.mark((function e(){var n,r,i,o,a,s,u,c,l,f,h,p,v,b;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ut(t.Parts),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=12;break}return i=r.value,e.next=7,k(V($t.ExpandPart(i)));case 7:o=e.sent,a=o.value,i.string=a;case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),n.e(e.t0);case 17:return e.prev=17,n.f(),e.finish(17);case 20:s=!1,u=[],c=Ut(t.Parts),e.prev=23,c.s();case 25:if((l=c.n()).done){e.next=41;break}if(f=l.value,h=f.type,p=f.string,v=p,"ParamExp"!==h&&"CmdSubst"!==h){e.next=38;break}if((b=mt.normalizeWhitespace(v,!1)).length){e.next=34;break}return e.abrupt("continue",39);case 34:!u.length||s||/^\s/.test(b[0])?u.push.apply(u,Object(d.a)(b.map((function(t){return t.trim()})))):(u.push(u.pop()+b[0].trim()),u.push.apply(u,Object(d.a)(b.slice(1).map((function(t){return t.trim()})))));case 35:s=/\s$/.test(Object(ft.c)(b)),e.next=39;break;case 38:!u.length||s?(u.push(v),s=!1):(u.push(u.pop()+v),s=!1);case 39:e.next=25;break;case 41:e.next=46;break;case 43:e.prev=43,e.t1=e.catch(23),c.e(e.t1);case 46:return e.prev=46,c.f(),e.finish(46);case 49:return t.string=u.join(" "),e.next=52,dt.b.expanded(u);case 52:case"end":return e.stop()}}),e,null,[[1,14,17,20],[23,43,46,49]])})))()):this.ExpandPart(t.Parts[0]).pipe(Object(at.a)((function(e){var n=e.value;return t.string=n})))}},{key:"ExpandPart",value:function(t){switch(t.type){case"ArithmExp":return this.ArithmExp(t);case"CmdSubst":return F(O(y.a.mark((function e(){var n,r,i,o,a,s,u,c,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.meta.pid,r=[],i=t.uid||(t.uid="".concat(Dt++)),wt.a.pushRedirectScope(n),xt.c.pushVarScope(n,!0),o=wt.a.openFile(n,{path:"/dev/.cs-".concat(n,"-").concat(i),fd:1}),a=o.file.read((function(t){return r.push(xt.c.toStringOrJson(t))})),e.prev=7,s=t.Stmts.map((function(t){return $t.Stmt(t)})),u=Ut(s),e.prev=10,u.s();case 12:if((c=u.n()).done){e.next=18;break}return l=c.value,e.next=16,k(ht(l));case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),u.e(e.t0);case 23:return e.prev=23,u.f(),e.finish(23);case 26:return e.prev=26,a(),xt.c.popVarScope(n),wt.a.popRedirectScope(n),e.finish(26);case 31:return e.next=33,dt.b.expanded(r.join("\n").replace(/\n*$/,""));case 33:case"end":return e.stop()}}),e,null,[[7,,26,31],[10,20,23,26]])})))());case"DblQuoted":return F(O(y.a.mark((function e(){var n,r,i,o,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=Ut(t.Parts),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=12;break}return o=i.value,e.next=8,k(V($t.ExpandPart(o)));case 8:a=e.sent,$t.isSpecialParamExp(o)?n.push.apply(n,["".concat(n.pop()||"").concat(a.values[0]||"")].concat(Object(d.a)(a.values.slice(1)))):n.push("".concat(n.pop()||"").concat(a.value||""));case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:return e.next=22,dt.b.expanded(n);case 22:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})))());case"ExtGlob":return W(dt.b.expanded([""]));case"Lit":return W(dt.b.expanded(mt.literal(t)));case"ParamExp":return this.ParamExp(t);case"SglQuoted":return W(dt.b.expanded(mt.singleQuotes(t)));default:throw Error("".concat(t.type," unimplemented"))}}},{key:"File",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return F(O(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(ht($t.stmts(t,t.Stmts)));case 3:e.next=10;break;case 5:if(e.prev=5,e.t0=e.catch(0),null!==e.t0){e.next=9;break}throw e.t0;case 9:$t.handleInternalError(t,e.t0);case 10:return e.prev=10,wt.a.isLeadingProcess(t.meta.pid)||wt.a.removeProcess(t.meta.pid),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,5,10,13]])})))())}))},{key:"ForClause",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=t.Loop;return"CStyleLoop"===e.type?F(O(y.a.mark((function n(){var r;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k(ht($t.ArithmExpr(e.Init)));case 2:t.lastIterated=void 0;case 3:return n.prev=4,n.next=7,k($t.throttleIterator(t));case 7:return n.next=9,k(ht($t.ArithmExpr(e.Cond)));case 9:if(0!==e.Cond.number){n.next=11;break}return n.abrupt("break",26);case 11:return n.next=13,k(ht($t.stmts(t,t.Do)));case 13:return n.next=15,k(ht($t.ArithmExpr(e.Post)));case 15:n.next=24;break;case 17:if(n.prev=17,n.t0=n.catch(4),"break"!==(r=$t.handleInterrupt(n.t0,t))){n.next=22;break}return n.abrupt("break",26);case 22:if("continue"!==r){n.next=24;break}return n.abrupt("continue",3);case 24:n.next=3;break;case 26:case"end":return n.stop()}}),n,null,[[4,17]])})))()):F(O(y.a.mark((function n(){var r,i,o,a,s,u,c,l,f;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.lastIterated=void 0,r=Ut(e.Items),n.prev=2,r.s();case 4:if((i=r.n()).done){n.next=42;break}return o=i.value,n.next=8,k(V($t.Expand(o)));case 8:a=n.sent,s=$t.isWordParamExp(o)||$t.isWordCommandSub(o)?mt.normalizeWhitespace(a.value):a.values,u=Ut(s),n.prev=11,u.s();case 13:if((c=u.n()).done){n.next=32;break}return l=c.value,n.prev=15,n.next=18,k($t.throttleIterator(t));case 18:return xt.c.assignVar(t.meta.pid,{varName:e.Name.Value,value:l}),n.next=21,k(ht($t.stmts(t,t.Do)));case 21:n.next=30;break;case 23:if(n.prev=23,n.t0=n.catch(15),"break"!==(f=$t.handleInterrupt(n.t0,t))){n.next=28;break}return n.abrupt("break",32);case 28:if("continue"!==f){n.next=30;break}return n.abrupt("continue",30);case 30:n.next=13;break;case 32:n.next=37;break;case 34:n.prev=34,n.t1=n.catch(11),u.e(n.t1);case 37:return n.prev=37,u.f(),n.finish(37);case 40:n.next=4;break;case 42:n.next=47;break;case 44:n.prev=44,n.t2=n.catch(2),r.e(n.t2);case 47:return n.prev=47,r.f(),n.finish(47);case 50:case"end":return n.stop()}}),n,null,[[2,44,47,50],[11,34,37,40],[15,23]])})))())}))},{key:"FuncDecl",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return F(O(y.a.mark((function e(){var n,r,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(n=xt.c.getFunction(t.meta.pid,t.Name.Value))||void 0===n?void 0:n.readonly)){e.next=3;break}throw new Wt("".concat(t.Name.Value,": readonly function"),1);case 3:r=Object(Pt.a)(t.Body),i=Object(Pt.e)(r),xt.c.addFunction(t.meta.pid,t.Name.Value,{type:"shell",node:i});case 6:case"end":return e.stop()}}),e)})))())}))},{key:"IfClause",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return F(O(y.a.mark((function e(){var n,r,i,o,a,s,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ut($t.collectIfClauses(t)),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=21;break}if(i=r.value,o=i.Cond,a=i.Then,!o.length){e.next=15;break}return e.next=8,k(ht($t.stmts(t,o)));case 8:if(0!==Object(ft.c)(o).exitCode){e.next=13;break}return e.next=11,k(ht($t.stmts(t,a)));case 11:return t.exitCode=(null===(s=Object(ft.c)(a))||void 0===s?void 0:s.exitCode)||0,e.abrupt("return");case 13:e.next=19;break;case 15:return e.next=17,k(ht($t.stmts(t,a)));case 17:return t.exitCode=(null===(u=Object(ft.c)(a))||void 0===u?void 0:u.exitCode)||0,e.abrupt("return");case 19:e.next=3;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(1),n.e(e.t0);case 26:return e.prev=26,n.f(),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[1,23,26,29]])})))())}))},{key:"LetClause",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return F(O(y.a.mark((function e(){var n,r,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ut(t.Exprs),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,k(ht($t.ArithmExpr(i)));case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))())}))},{key:"ParamExp",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=t.meta.pid,n=t.paramDef||this.transpileParam(t);return t.paramDef=n,n.parKey===vt.a.special?F(y.a.mark((function t(){var r,i,o,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n.param,t.next="@"===t.t0?3:"*"===t.t0?3:"#"===t.t0?3:"?"===t.t0?19:"-"===t.t0?19:"$"===t.t0?19:"!"===t.t0?19:"0"===t.t0?47:"_"===t.t0?50:53;break;case 3:r=xt.c.getPositionals(e),i=r.slice(1),t.t1=n.param,t.next="@"===t.t1?8:"*"===t.t1?11:"#"===t.t1?14:17;break;case 8:return t.next=10,dt.b.expanded(i);case 10:return t.abrupt("break",18);case 11:return t.next=13,dt.b.expanded(i.join(" "));case 13:return t.abrupt("break",18);case 14:return t.next=16,dt.b.expanded(String(i.length));case 16:return t.abrupt("break",18);case 17:throw Object(ft.i)(n.param);case 18:return t.abrupt("break",54);case 19:o=wt.a.getProcess(e),t.t2=n.param,t.next="?"===t.t2?23:"-"===t.t2?26:"$"===t.t2?29:"!"===t.t2?38:45;break;case 23:return t.next=25,dt.b.expanded(String(o.lastExitCode||0));case 25:return t.abrupt("break",46);case 26:return t.next=28,dt.b.expanded("");case 28:return t.abrupt("break",46);case 29:if(!wt.a.isInteractiveShell(o.parsed)){t.next=34;break}return t.next=32,dt.b.expanded("".concat(e));case 32:t.next=37;break;case 34:return a=wt.a.findAncestral(e,(function(t){var e=t.parsed;return wt.a.isInteractiveShell(e)})),t.next=37,dt.b.expanded(a.pid.toString());case 37:return t.abrupt("break",46);case 38:if(!o.lastBgPid||!wt.a.getProcess(o.lastBgPid)){t.next=42;break}return t.next=41,dt.b.expanded("".concat(o.lastBgPid));case 41:return t.abrupt("break",46);case 42:return t.next=44,dt.b.expanded("");case 44:return t.abrupt("break",46);case 45:throw Object(ft.i)(n.param);case 46:return t.abrupt("break",54);case 47:return t.next=49,dt.b.expanded(xt.c.getPositionals(e)[0]);case 49:return t.abrupt("break",54);case 50:return t.next=52,dt.b.expanded("behave-yr");case 52:return t.abrupt("break",54);case 53:throw Object(ft.i)(n.param);case 54:case"end":return t.stop()}}),t)}))()):F(O(y.a.mark((function r(){var i,o,a,s,u,c,l,f,h,p,d,v,b,g,w,_,O,S,E,P,j,A,C,I,T,R,N,L,M,B,U,F,D,W,G,K,H,z,$,Y,q;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n.index){r.next=6;break}return r.next=3,k(V(n.index));case 3:r.t0=r.sent.value,r.next=7;break;case 6:r.t0=null;case 7:i=r.t0,o=xt.c.lookupVar(e,n.param),a=xt.c.getVarValues(i,o),r.t1=n.parKey,r.next=r.t1===vt.a.case?13:r.t1===vt.a.default?26:r.t1===vt.a.keys?81:r.t1===vt.a.length?89:r.t1===vt.a.plain?98:r.t1===vt.a.pointer?111:r.t1===vt.a.position?121:r.t1===vt.a.remove?124:r.t1===vt.a.replace?134:r.t1===vt.a.substring?151:r.t1===vt.a.vars?190:200;break;case 13:if(s=n.all,u=n.to,c=n.pattern,l=/^.$/,!c){r.next=20;break}return r.next=18,k(V(c.pipe(nt((function(t,e){return t.concat(e.values)}),[]))));case 18:f=r.sent,l=ut()(f.join(" "),{extended:!0}).regex;case 20:return h="lower"===u?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()},p=a.join(""),d=s?p.split("").map((function(t){return l.test(t)?h(t):t})).join(""):(l.test(p[0])?h(p[0]):p[0])+p.slice(1),r.next=25,dt.b.expanded(d);case 25:return r.abrupt("break",201);case 26:v=n.alt,b=n.colon,g=n.symbol,w=b?!a.length||1===a.length&&""===a[0]:!a.length,r.t2=g,r.next="-"===r.t2?31:"="===r.t2?31:"?"===r.t2?49:"+"===r.t2?67:79;break;case 31:if(!w){r.next=46;break}if(r.t3=dt.b,!v){r.next=39;break}return r.next=36,k(V(v));case 36:r.t4=r.sent.value,r.next=40;break;case 39:r.t4="";case 40:return r.t5=r.t4,r.next=43,r.t3.expanded.call(r.t3,r.t5);case 43:"="===g&&xt.c.assignVar(e,{varName:n.param,shell:!0,value:a.join("")}),r.next=48;break;case 46:return r.next=48,dt.b.expanded(a.join(""));case 48:return r.abrupt("break",80);case 49:if(!w){r.next=64;break}if(t.exitCode=1,!v){r.next=60;break}return r.t7=wt.a,r.t8=e,r.next=56,k(V(v));case 56:r.t9=r.sent.value,r.t6=r.t7.warn.call(r.t7,r.t8,r.t9),r.next=61;break;case 60:r.t6=wt.a.warn(e,"".concat(n.param,": required but unset or null."));case 61:return r.abrupt("return",r.t6);case 64:return r.next=66,dt.b.expanded(a.join(""));case 66:return r.abrupt("break",80);case 67:if(r.t10=dt.b,!w&&v){r.next=72;break}r.t11="",r.next=75;break;case 72:return r.next=74,k(V(v));case 74:r.t11=r.sent.value;case 75:return r.t12=r.t11,r.next=78,r.t10.expanded.call(r.t10,r.t12);case 78:return r.abrupt("break",80);case 79:throw Object(ft.i)(g);case 80:return r.abrupt("break",201);case 81:if(_=xt.c.getVarKeys(o),!n.split){r.next=86;break}return r.delegateYield(x(m(_.map((function(t){return dt.b.expanded(t)}))),k),"t13",84);case 84:r.next=88;break;case 86:return r.next=88,dt.b.expanded(_.join(" "));case 88:return r.abrupt("break",201);case 89:if("word"!==n.of){r.next=95;break}return r.next=93,dt.b.expanded(String((a[0]||"").length));case 93:r.next=97;break;case 95:return r.next=97,dt.b.expanded(String(a.length));case 97:return r.abrupt("break",201);case 98:if("@"!==i){r.next=103;break}return r.next=101,dt.b.expanded(a);case 101:r.next=110;break;case 103:if("*"!==i){r.next=108;break}return r.next=106,dt.b.expanded(a.join(" "));case 106:r.next=110;break;case 108:return r.next=110,dt.b.expanded(a.join(""));case 110:return r.abrupt("break",201);case 111:if(!(O=a.join(""))){r.next=118;break}return S=xt.c.lookupVar(e,O),r.next=116,dt.b.expanded(xt.c.getVarValues(null,S).join(""));case 116:r.next=120;break;case 118:return r.next=120,dt.b.expanded("");case 120:return r.abrupt("break",201);case 121:return r.next=123,dt.b.expanded(a.join(""));case 123:return r.abrupt("break",201);case 124:if(!n.pattern){r.next=133;break}return r.next=127,k(V(n.pattern));case 127:return E=r.sent,P=E.value,j=ut()(P,{extended:!0}).regex.source.slice(1,-1),A=new RegExp(1===n.dir?n.greedy?"^".concat(j,".*"):"^".concat(j,".*?"):n.greedy?".*".concat(j,"$"):".*?".concat(j,"$")),r.next=133,dt.b.expanded(a.join("").replace(A,""));case 133:return r.abrupt("break",201);case 134:return C=n.all,I=n.orig,T=n.with,r.next=137,k(V(I));case 137:if(R=r.sent,N=R.value,!T){r.next=145;break}return r.next=142,k(V(T));case 142:r.t14=r.sent.value,r.next=146;break;case 145:r.t14="";case 146:return L=r.t14,M=new RegExp(N,C?"g":""),r.next=150,dt.b.expanded(a.join("").replace(M,L));case 150:return r.abrupt("break",201);case 151:return B=n.from,U=n.length,r.next=154,k(V(B));case 154:if(F=r.sent,D=F.value,W=parseInt(D)||0,!U){r.next=168;break}return r.t17=parseInt,r.next=161,k(V(B));case 161:if(r.t18=r.sent.value,r.t16=(0,r.t17)(r.t18),r.t16){r.next=165;break}r.t16=0;case 165:r.t15=r.t16,r.next=169;break;case 168:r.t15=a.join(" ").length;case 169:if(G=r.t15,"@"!==n.param&&"*"!==n.param){r.next=179;break}if(!(G<0)){r.next=173;break}throw new Wt("".concat(G,": substring expression < 0"),1);case 173:return K=xt.c.getPositionals(e),H=B?U?K.slice(W,W+G):K.slice(W):K.slice(1),r.next=177,dt.b.expanded("@"===n.param?H:[H.join(" ")]);case 177:r.next=189;break;case 179:if("@"!==i&&"*"!==i){r.next=187;break}if(!(G<0)){r.next=182;break}throw new Wt("".concat(G,": substring expression < 0"),1);case 182:return z=a.slice(W,W+G),r.next=185,dt.b.expanded("@"===n.param?z:[z.join(" ")]);case 185:r.next=189;break;case 187:return r.next=189,dt.b.expanded(G>=0?a.join("").substr(W,G):a.join("").slice(W,G));case 189:return r.abrupt("break",201);case 190:if($=n.split,!(Y=n.param).length){r.next=197;break}return q=xt.c.findVarNames(e,Y),r.next=195,dt.b.expanded($?q:q.join(" "));case 195:r.next=199;break;case 197:return r.next=199,dt.b.expanded("");case 199:return r.abrupt("break",201);case 200:throw Object(ft.i)(n);case 201:case"end":return r.stop()}}),r)})))())}))},{key:"Redirect",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=t.redirDef||this.transpileRedirect(t);return t.redirDef=e,F(O(y.a.mark((function n(){var r,i,o,a,s,u,c,l,f,h;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.meta.pid,n.next=3,k(V($t.Expand(t.Word)));case 3:switch(i=n.sent,o=i.value,e.subKey){case"<":case">":a=null==e.fd?"<"===e.subKey?0:1:e.fd,"dup"===e.mod?("-"===o?(wt.a.ensureFd(r,a),wt.a.closeFd(r,a)):(wt.a.ensureFd(r,o),wt.a.duplicateFd(r,parseInt(o),a)),t.exitCode=t.Word.exitCode||0):"move"===e.mod&&(wt.a.ensureFd(r,o),wt.a.duplicateFd(r,parseInt(o),a),wt.a.closeFd(r,parseInt(o)),t.exitCode=t.Word.exitCode||0)}s="fd"in e?e.fd:void 0,n.t0=e.subKey,n.next="<"===n.t0?10:">"===n.t0?12:"&>"===n.t0?14:"<<"===n.t0?17:"<<<"===n.t0?17:"<>"===n.t0?34:36;break;case 10:return wt.a.openFile(r,{fd:null==s?0:s,path:o}),n.abrupt("break",37);case 12:return wt.a.openFile(r,{fd:null==s?1:s,path:o}),n.abrupt("break",37);case 14:return wt.a.openFile(r,{fd:1,path:o}),wt.a.openFile(r,{fd:2,path:o}),n.abrupt("break",37);case 17:if(u=[],"<<"!==e.subKey){n.next=26;break}return n.next=21,k(V($t.Expand(t.Hdoc)));case 21:c=n.sent,l=c.value,u.push.apply(u,Object(d.a)(l.replace(/\n$/,"").split("\n"))),n.next=27;break;case 26:u.push(o);case 27:return f="/tmp/here-doc.".concat(lt.a.generate(),".").concat(r),h=wt.a.openFile(r,{fd:10,path:f}),u.map((function(t){return h.write(t)})),wt.a.closeFd(r,10),wt.a.openFile(r,{fd:e.fd||0,path:f}),wt.a.unlinkFile(r,f),n.abrupt("break",37);case 34:return wt.a.openFile(r,{fd:null==s?0:s,path:o}),n.abrupt("break",37);case 36:throw Object(ft.i)(e);case 37:case"end":return n.stop()}}),n)})))())}))},{key:"Stmt",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return F(O(y.a.mark((function e(){var n,r,i,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Cmd){e.next=4;break}$t.handleShError(t.Redirs[0],new Wt("pure redirects are unsupported",2)),e.next=16;break;case 4:if(!t.Background){e.next=12;break}n=Object.assign(Object(Pt.a)(t),{Background:!1}),r=Object(Pt.e)(n),i=wt.a.spawnProcess(n.meta.pid,r,!0),o=i.parsed,$t.transpile(o).subscribe(),t.exitCode=t.Negated?1:0,e.next=16;break;case 12:return e.next=14,k(ht($t.Command(t.Cmd,t.Redirs)));case 14:t.exitCode=t.Cmd.exitCode,t.Negated&&(t.exitCode=1-Number(!!t.Cmd.exitCode));case 16:case"end":return e.stop()}}),e)})))())}))},{key:"Subshell",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return F(O(y.a.mark((function e(){var n,r,i,o,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.meta.pid,wt.a.pushRedirectScope(n),xt.c.pushVarScope(n,!0),e.prev=3,r=t.Stmts.map((function(t){return $t.Stmt(t)})),i=Ut(r),e.prev=6,i.s();case 8:if((o=i.n()).done){e.next=14;break}return a=o.value,e.next=12,k(ht(a));case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:return e.prev=22,xt.c.popVarScope(n),wt.a.popRedirectScope(n),e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[3,,22,26],[6,16,19,22]])})))())}))},{key:"TestClause",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return this.TestExpr(t.X)}))},{key:"TestExpr",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){switch(t.type){case"BinaryTest":return F(O(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))());case"ParenTest":return this.TestExpr(t.X);case"UnaryTest":return F(O(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))());case"Word":return this.Expand(t);default:throw Object(ft.i)(t)}}))},{key:"TimeClause",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return F(O(y.a.mark((function e(){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Date.now(),!t.Stmt){e.next=4;break}return e.next=4,k(ht($t.Stmt(t.Stmt)));case 4:wt.a.getProcess(t.meta.pid).fdToOpen[1].write("real\t".concat(Date.now()-n,"ms"));case 5:case"end":return e.stop()}}),e)})))())}))},{key:"WhileClause",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return F(O(y.a.mark((function e(){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,t.lastIterated=Date.now(),e.next=5,k(ht($t.stmts(t,t.Cond)));case 5:if(!(t.Until?!t.exitCode:t.exitCode)){e.next=8;break}return wt.a.setExitCode(t.meta.pid,t.exitCode=0),e.abrupt("break",23);case 8:return e.next=10,k(ht($t.stmts(t,t.Do)));case 10:return e.next=12,k($t.throttleIterator(t));case 12:e.next=21;break;case 14:if(e.prev=14,e.t0=e.catch(1),"break"!==(n=$t.handleInterrupt(e.t0,t))){e.next=19;break}return e.abrupt("break",23);case 19:if("continue"!==n){e.next=21;break}return e.abrupt("continue",0);case 21:e.next=0;break;case 23:case"end":return e.stop()}}),e,null,[[1,14]])})))())}))},{key:"applyRedirects",value:function(){var t=Object(f.a)(y.a.mark((function t(e,n){var r,i,o,a,s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,r=Ut(n),t.prev=2,r.s();case 4:if((i=r.n()).done){t.next=11;break}return(o=i.value).exitCode=0,t.next=9,ht(this.Redirect(o));case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:t.next=25;break;case 21:throw t.prev=21,t.t1=t.catch(0),e.exitCode=null!==(a=null===(s=n.find((function(t){return t.exitCode})))||void 0===s?void 0:s.exitCode)&&void 0!==a?a:1,t.t1;case 25:case"end":return t.stop()}}),t,this,[[0,21],[2,13,16,19]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"assignVars",value:function(){var t=Object(f.a)(y.a.mark((function t(e){var n,r,i,o,a=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.length>1&&void 0!==a[1]&&a[1],t.prev=1,r=Ut(e.Assigns),t.prev=3,r.s();case 5:if((i=r.n()).done){t.next=13;break}return(o=i.value).declOpts=o.declOpts||{},o.declOpts.local=n,t.next=11,ht(this.Assign(o));case 11:t.next=5;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),r.e(t.t0);case 18:return t.prev=18,r.f(),t.finish(18);case 21:t.next=26;break;case 23:t.prev=23,t.t1=t.catch(1),this.handleShError(e,t.t1);case 26:case"end":return t.stop()}}),t,this,[[1,23],[3,15,18,21]])})));return function(e){return t.apply(this,arguments)}}()},{key:"collectIfClauses",value:function(t){return t.Else?[t].concat(Object(d.a)(this.collectIfClauses(t.Else))):[t]}},{key:"extractSpecialArithmExpr",value:function(t){if("Word"===(null===t||void 0===t?void 0:t.type)&&1===t.Parts.length&&"Lit"===t.Parts[0].type){var e=t.Parts[0].Value;if("@"===e)return"@";if("*"===e)return"*"}return null}},{key:"handleInternalError",value:function(t,e){console.error("".concat(t.meta.sessionKey,": pid ").concat(t.meta.pid,": internal error: ").concat(e.message)),console.error(e),wt.a.warn(t.meta.pid,e.message),t.exitCode=2,wt.a.setExitCode(t.meta.pid,t.exitCode)}},{key:"handleInterrupt",value:function(t,e){if(t instanceof Wt){var n,r;if(null===(n=t.extra)||void 0===n?void 0:n.break){if(t.extra.break>1&&Object(Pt.c)(e))throw Gt(t.extra.break-1);return"break"}if(null===(r=t.extra)||void 0===r?void 0:r.continue){if(t.extra.continue>1&&Object(Pt.c)(e))throw Kt(t.extra.continue-1);return"continue"}}throw t}},{key:"handleShError",value:function(t,e){if(null===e)throw null;if(e instanceof Wt){if(console.error("handleShError: ".concat(t.meta.sessionKey,": pid ").concat(t.meta.pid,": ").concat(e.message)),0===e.exitCode)throw e;wt.a.warn(t.meta.pid,e.message),t.exitCode=e.exitCode,wt.a.setExitCode(t.meta.pid,t.exitCode)}else this.handleInternalError(t,e)}},{key:"isWordParamExp",value:function(t){return"ParamExp"===t.Parts[0].type}},{key:"isWordCommandSub",value:function(t){return"CmdSubst"===t.Parts[0].type}},{key:"isSpecialParamExp",value:function(t){var e;return"ParamExp"===t.type&&(t.paramDef.parKey===vt.a.special||t.paramDef.parKey===vt.a.plain&&"@"===(null===(e=t.paramDef.index)||void 0===e?void 0:e.value))}},{key:"isWordPart",value:function(t){return!!Ht[t.type]}},{key:"performShellExpansion",value:function(){var t=Object(f.a)(y.a.mark((function t(e){var n,r,i,o,a,s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=Ut(e),t.prev=2,r.s();case 4:if((i=r.n()).done){t.next=17;break}return o=i.value,t.next=8,V(this.Expand(o));case 8:if(a=t.sent,s=1===o.Parts.length?o.Parts[0]:null,!o.exitCode){t.next=14;break}throw new Wt("failed to expand word",o.exitCode);case 14:"SglQuoted"===(null===s||void 0===s?void 0:s.type)?n.push(a.value):"ParamExp"===(null===s||void 0===s?void 0:s.type)||"CmdSubst"===(null===s||void 0===s?void 0:s.type)?n.push.apply(n,Object(d.a)(mt.normalizeWhitespace(a.value))):n.push.apply(n,Object(d.a)(a.values));case 15:t.next=4;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(2),r.e(t.t0);case 22:return t.prev=22,r.f(),t.finish(22);case 25:return t.abrupt("return",n);case 26:case"end":return t.stop()}}),t,this,[[2,19,22,25]])})));return function(e){return t.apply(this,arguments)}}()},{key:"runArithmExpr",value:function(){var t=Object(f.a)(y.a.mark((function t(e){var n,r,i;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isWordPart(e)){t.next=6;break}return t.next=3,V(this.ExpandPart(e));case 3:n=t.sent.value,t.next=9;break;case 6:return t.next=8,ht(this.ArithmExpr(e));case 8:n=e.string;case 9:r=parseInt(n),Number.isNaN(r)&&(i=xt.c.expandVar(e.meta.pid,n),r=parseInt(i)||0),e.parent.string=n,e.parent.number=r;case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"stmts",value:function(t,e){return F(O(y.a.mark((function n(){var r,i,o;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=Ut(e),n.prev=1,r.s();case 3:if((i=r.n()).done){n.next=10;break}return o=i.value,n.next=7,k(ht($t.Stmt(o)));case 7:t.exitCode=o.exitCode;case 8:n.next=3;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),r.e(n.t0);case 15:return n.prev=15,r.f(),n.finish(15);case 18:wt.a.setExitCode(t.meta.pid,t.exitCode||0);case 19:case"end":return n.stop()}}),n,null,[[1,12,15,18]])})))())}},{key:"throttleIterator",value:function(){var t=Object(f.a)(y.a.mark((function t(e){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.lastIterated){t.next=5;break}return n=1e3*(xt.c.lookupVar(e.meta.pid,xt.b)||.1),r=Math.max(0,n-(Date.now()-e.lastIterated)),t.next=5,wt.a.sleep(e.meta.pid,r);case 5:e.lastIterated=Date.now();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"transpileParam",value:function(t){var e=t.Excl,n=t.Exp,r=t.Index,i=t.Length,o=t.Names,a=t.Param,s=t.Repl,u=t.Short,c=t.Slice,l={param:a.Value,short:u,index:r?this.ArithmExpr(r):void 0};if(e){if(r){var f=this.extractSpecialArithmExpr(r);return Bt(Bt({},l),{},f?{parKey:vt.a.keys,split:"@"===f}:{parKey:vt.a.pointer})}return Bt(Bt({},l),{},o?{parKey:vt.a.vars,split:"@"===o}:{parKey:vt.a.pointer})}if(n){var h=n.Word?this.Expand(n.Word):null,p=h;switch(n.Op){case"^":return Bt(Bt({},l),{},{parKey:vt.a.case,pattern:h,to:"upper",all:!1});case"^^":return Bt(Bt({},l),{},{parKey:vt.a.case,pattern:h,to:"upper",all:!0});case",":return Bt(Bt({},l),{},{parKey:vt.a.case,pattern:h,to:"lower",all:!1});case",,":return Bt(Bt({},l),{},{parKey:vt.a.case,pattern:h,to:"lower",all:!0});case"%":return Bt(Bt({},l),{},{parKey:vt.a.remove,pattern:h,greedy:!1,dir:1});case"%%":return Bt(Bt({},l),{},{parKey:vt.a.remove,pattern:h,greedy:!0,dir:1});case"#":return Bt(Bt({},l),{},{parKey:vt.a.remove,pattern:h,greedy:!1,dir:-1});case"##":return Bt(Bt({},l),{},{parKey:vt.a.remove,pattern:h,greedy:!0,dir:-1});case"+":return Bt(Bt({},l),{},{parKey:vt.a.default,alt:p,symbol:"+",colon:!1});case":+":return Bt(Bt({},l),{},{parKey:vt.a.default,alt:p,symbol:"+",colon:!0});case"=":return Bt(Bt({},l),{},{parKey:vt.a.default,alt:p,symbol:"=",colon:!1});case":=":return Bt(Bt({},l),{},{parKey:vt.a.default,alt:p,symbol:"=",colon:!0});case"?":return Bt(Bt({},l),{},{parKey:vt.a.default,alt:p,symbol:"?",colon:!1});case":?":return Bt(Bt({},l),{},{parKey:vt.a.default,alt:p,symbol:"?",colon:!0});case"-":return Bt(Bt({},l),{},{parKey:vt.a.default,alt:p,symbol:"-",colon:!1});case":-":return Bt(Bt({},l),{},{parKey:vt.a.default,alt:p,symbol:"-",colon:!0});default:throw new Error("Unsupported operation '".concat(n.Op,"' in parameter expansion of '").concat(a.Value,"'."))}}else{if(i){var d=Boolean(this.extractSpecialArithmExpr(r));return Bt(Bt({},l),{},{parKey:vt.a.length,of:d?"values":"word"})}if(s)return Bt(Bt({},l),{},{parKey:vt.a.replace,all:s.All,orig:this.Expand(s.Orig),with:s.With?this.Expand(s.With):null});if(c)return Bt(Bt({},l),{},{parKey:vt.a.substring,from:this.ArithmExpr(c.Offset),length:c.Length?this.ArithmExpr(c.Length):null});if(r)return Bt(Bt({},l),{},{parKey:vt.a.plain});if(l.param===String(parseInt(l.param)))return Bt(Bt({},l),{},{parKey:vt.a.position});switch(l.param){case"@":case"*":case"#":case"?":case"-":case"$":case"!":case"0":case"_":return Bt(Bt({},l),{},{parKey:vt.a.special,param:l.param});default:return Bt(Bt({},l),{},{parKey:vt.a.plain})}}}},{key:"transpileRedirect",value:function(t){var e=t.N,n=t.Word,r=t.Hdoc,i=e?Number(e.Value):void 0;switch(t.Op){case"<":return{subKey:"<",mod:null,fd:i};case"<&":var o=Object(l.a)(n.Parts,1)[0];return"Lit"===(null===o||void 0===o?void 0:o.type)&&o.Value.endsWith("-")?{subKey:"<",mod:"move",fd:i}:{subKey:"<",mod:"dup",fd:i};case">":return{subKey:">",mod:null,fd:i};case">>":return{subKey:">",mod:"append",fd:i};case">&":var a=Object(l.a)(n.Parts,1)[0];return"Lit"===(null===a||void 0===a?void 0:a.type)&&a.Value.endsWith("-")?{subKey:">",mod:"move",fd:i}:{subKey:">",mod:"dup",fd:i};case"<<":return{subKey:"<<",fd:i,here:this.Expand(r)};case"<<<":return{subKey:"<<<",fd:i};case"<>":return{subKey:"<>",fd:i};default:throw new Error("Unsupported redirection symbol '".concat(t.Op,"'."))}}}]),t}(),Wt=function(t){Object(i.a)(n,t);var e=Lt(n);function n(t,i,o){var a;return Object(b.a)(this,n),(a=e.call(this,t)).exitCode=i,a.extra=o,Object.setPrototypeOf(Object(r.a)(a),n.prototype),a}return n}(c(Error)),Gt=function(t){return new Wt("__break__",0,{break:t})},Kt=function(t){return new Wt("__continue__",0,{continue:t})},Ht={Lit:!0,SglQuoted:!0,DblQuoted:!0,ParamExp:!0,CmdSubst:!0,ArithmExp:!0,ProcSubst:!0,ExtGlob:!0},zt=new Vt,$t=zt},T5bk:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DSFK"),i=n("25BE"),o=n("PYwp");function a(t){return Object(r.a)(t)||Object(i.a)(t)||Object(o.a)()}},TtOD:function(t,e,n){"use strict";var r=n("V3qg"),i=n("OMbN"),o=n("XDEQ"),a=n("dvQl"),s=n("lzXO"),u=s.Node,c=function(t,e){if(this.p=t,this.q=e,t.y>e.y)this.q=t,this.p=e;else if(t.y===e.y)if(t.x>e.x)this.q=t,this.p=e;else if(t.x===e.x)throw new r("poly2tri Invalid Edge constructor: repeated points!",[t]);this.q._p2t_edge_list||(this.q._p2t_edge_list=[]),this.q._p2t_edge_list.push(this)},l=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};l.prototype.clear=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};var f=function(){this.constrained_edge=null,this.right=!1},h=function(t,e){e=e||{},this.triangles_=[],this.map_=[],this.points_=e.cloneArrays?t.slice(0):t,this.edge_list=[],this.pmin_=this.pmax_=null,this.front_=null,this.head_=null,this.tail_=null,this.af_head_=null,this.af_middle_=null,this.af_tail_=null,this.basin=new l,this.edge_event=new f,this.initEdges(this.points_)};h.prototype.addHole=function(t){this.initEdges(t);var e,n=t.length;for(e=0;e<n;e++)this.points_.push(t[e]);return this},h.prototype.AddHole=h.prototype.addHole,h.prototype.addHoles=function(t){var e,n=t.length;for(e=0;e<n;e++)this.initEdges(t[e]);return this.points_=this.points_.concat.apply(this.points_,t),this},h.prototype.addPoint=function(t){return this.points_.push(t),this},h.prototype.AddPoint=h.prototype.addPoint,h.prototype.addPoints=function(t){return this.points_=this.points_.concat(t),this},h.prototype.triangulate=function(){return a.triangulate(this),this},h.prototype.getBoundingBox=function(){return{min:this.pmin_,max:this.pmax_}},h.prototype.getTriangles=function(){return this.triangles_},h.prototype.GetTriangles=h.prototype.getTriangles,h.prototype.front=function(){return this.front_},h.prototype.pointCount=function(){return this.points_.length},h.prototype.head=function(){return this.head_},h.prototype.setHead=function(t){this.head_=t},h.prototype.tail=function(){return this.tail_},h.prototype.setTail=function(t){this.tail_=t},h.prototype.getMap=function(){return this.map_},h.prototype.initTriangulation=function(){var t,e=this.points_[0].x,n=this.points_[0].x,r=this.points_[0].y,o=this.points_[0].y,a=this.points_.length;for(t=1;t<a;t++){var s=this.points_[t];s.x>e&&(e=s.x),s.x<n&&(n=s.x),s.y>r&&(r=s.y),s.y<o&&(o=s.y)}this.pmin_=new i(n,o),this.pmax_=new i(e,r);var u=.3*(e-n),c=.3*(r-o);this.head_=new i(e+u,o-c),this.tail_=new i(n-u,o-c),this.points_.sort(i.compare)},h.prototype.initEdges=function(t){var e,n=t.length;for(e=0;e<n;++e)this.edge_list.push(new c(t[e],t[(e+1)%n]))},h.prototype.getPoint=function(t){return this.points_[t]},h.prototype.addToMap=function(t){this.map_.push(t)},h.prototype.locateNode=function(t){return this.front_.locateNode(t.x)},h.prototype.createAdvancingFront=function(){var t,e,n,r=new o(this.points_[0],this.tail_,this.head_);this.map_.push(r),t=new u(r.getPoint(1),r),e=new u(r.getPoint(0),r),n=new u(r.getPoint(2)),this.front_=new s(t,n),t.next=e,e.next=n,e.prev=t,n.prev=e},h.prototype.removeNode=function(t){},h.prototype.mapTriangleToNodes=function(t){for(var e=0;e<3;++e)if(!t.getNeighbor(e)){var n=this.front_.locatePoint(t.pointCW(t.getPoint(e)));n&&(n.triangle=t)}},h.prototype.removeFromMap=function(t){var e,n=this.map_,r=n.length;for(e=0;e<r;e++)if(n[e]===t){n.splice(e,1);break}},h.prototype.meshClean=function(t){for(var e,n,r=[t];e=r.pop();)if(!e.isInterior())for(e.setInterior(!0),this.triangles_.push(e),n=0;n<3;n++)e.constrained_edge[n]||r.push(e.getNeighbor(n))},t.exports=h},UYus:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return u}));var r=n("RHh3"),i=n("KQm4"),o=n("1OyB"),a=n("vuIU"),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(o.a)(this,t),this.x=e,this.y=n}return Object(a.a)(t,[{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"distSquaredTo",value:function(t){return Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2)}},{key:"distTo",value:function(t){return Math.sqrt(this.distSquaredTo(t))}},{key:"equals",value:function(t){var e=t.x,n=t.y;return this.x===e&&this.y===n}},{key:"normalize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.length?this.scale(t/this.length):(console.error("Failed to normalize Vector '".concat(this,"' to length '").concat(t,"'")),this)}},{key:"precision",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this.x=Number(this.x.toFixed(t)),this.y=Number(this.y.toFixed(t)),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"scale",value:function(t){return this.x*=t,this.y*=t,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y)}},{key:"translate",value:function(t,e){return this.x+=t,this.y+=e,this}},{key:"angle",get:function(){return Math.atan2(this.y,this.x)}},{key:"coord",get:function(){return[this.x,this.y]}},{key:"length",get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}}],[{key:"average",value:function(e){return e.length?e.reduce((function(t,e){return t.translate(e.x,e.y)}),t.zero).scale(1/e.length):t.zero}},{key:"from",value:function(e){return"string"===typeof e?Object(r.a)(t,Object(i.a)(e.split(",").map(Number))):new t(e.x,e.y)}},{key:"zero",get:function(){return new t(0,0)}}]),t}(),u=function(){function t(e,n){Object(o.a)(this,t),this.src=e,this.dst=n}return Object(a.a)(t,[{key:"toString",value:function(){return"".concat(this.src," ").concat(this.dst)}},{key:"midpoint",get:function(){return new s(.5*(this.src.x+this.dst.x),.5*(this.src.y+this.dst.y))}}]),t}()},V3qg:function(t,e,n){"use strict";var r=n("34/Y"),i=function(t,e){this.name="PointError",this.points=e=e||[],this.message=t||"Invalid Points!";for(var n=0;n<e.length;n++)this.message+=" "+r.toString(e[n])};(i.prototype=new Error).constructor=i,t.exports=i},VH6B:function(t,e,n){(function(){"use strict";var r=this.THREE||n("Womt");if(!r)throw new Error("MeshLine requires three.js");function i(){r.BufferGeometry.call(this),this.type="MeshLine",this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this._points=[],this._geom=null,this.widthCallback=null,this.matrixWorld=new r.Matrix4,Object.defineProperties(this,{geometry:{enumerable:!0,get:function(){return this}},geom:{enumerable:!0,get:function(){return this._geom},set:function(t){this.setGeometry(t,this.widthCallback)}},points:{enumerable:!0,get:function(){return this._points},set:function(t){this.setPoints(t,this.widthCallback)}}})}function o(t,e){var n=new r.Matrix4,i=new r.Ray,o=new r.Sphere,a=new r.Vector3,s=this.geometry;if(o.copy(s.boundingSphere),o.applyMatrix4(this.matrixWorld),!1!==t.ray.intersectSphere(o,a)){n.getInverse(this.matrixWorld),i.copy(t.ray).applyMatrix4(n);var u=new r.Vector3,c=new r.Vector3,l=new r.Vector3,f=this instanceof r.LineSegments?2:1,h=s.index,p=s.attributes;if(null!==h)for(var d=h.array,v=p.position.array,y=p.width.array,b=0,g=d.length-1;b<g;b+=f){var m=d[b],x=d[b+1];u.fromArray(v,3*m),c.fromArray(v,3*x);var w=void 0!=y[Math.floor(b/3)]?y[Math.floor(b/3)]:1,k=t.params.Line.threshold+this.material.lineWidth*w/2,_=k*k;if(!(i.distanceSqToSegment(u,c,a,l)>_)){a.applyMatrix4(this.matrixWorld);var O=t.ray.origin.distanceTo(a);O<t.near||O>t.far||(e.push({distance:O,point:l.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this}),b=g)}}}}function a(t,e,n,r,i){var o;if(t=t.subarray||t.slice?t:t.buffer,n=n.subarray||n.slice?n:n.buffer,t=e?t.subarray?t.subarray(e,i&&e+i):t.slice(e,i&&e+i):t,n.set)n.set(t,r);else for(o=0;o<t.length;o++)n[o+r]=t[o];return n}function s(t){r.ShaderMaterial.call(this,{uniforms:Object.assign({},r.UniformsLib.fog,{lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new r.Color(16777215)},opacity:{value:1},resolution:{value:new r.Vector2(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new r.Vector2(1,1)}}),vertexShader:r.ShaderChunk.meshline_vert,fragmentShader:r.ShaderChunk.meshline_frag}),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get:function(){return this.uniforms.lineWidth.value},set:function(t){this.uniforms.lineWidth.value=t}},map:{enumerable:!0,get:function(){return this.uniforms.map.value},set:function(t){this.uniforms.map.value=t}},useMap:{enumerable:!0,get:function(){return this.uniforms.useMap.value},set:function(t){this.uniforms.useMap.value=t}},alphaMap:{enumerable:!0,get:function(){return this.uniforms.alphaMap.value},set:function(t){this.uniforms.alphaMap.value=t}},useAlphaMap:{enumerable:!0,get:function(){return this.uniforms.useAlphaMap.value},set:function(t){this.uniforms.useAlphaMap.value=t}},color:{enumerable:!0,get:function(){return this.uniforms.color.value},set:function(t){this.uniforms.color.value=t}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}},sizeAttenuation:{enumerable:!0,get:function(){return this.uniforms.sizeAttenuation.value},set:function(t){this.uniforms.sizeAttenuation.value=t}},dashArray:{enumerable:!0,get:function(){return this.uniforms.dashArray.value},set:function(t){this.uniforms.dashArray.value=t,this.useDash=0!==t?1:0}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(t){this.uniforms.dashOffset.value=t}},dashRatio:{enumerable:!0,get:function(){return this.uniforms.dashRatio.value},set:function(t){this.uniforms.dashRatio.value=t}},useDash:{enumerable:!0,get:function(){return this.uniforms.useDash.value},set:function(t){this.uniforms.useDash.value=t}},visibility:{enumerable:!0,get:function(){return this.uniforms.visibility.value},set:function(t){this.uniforms.visibility.value=t}},alphaTest:{enumerable:!0,get:function(){return this.uniforms.alphaTest.value},set:function(t){this.uniforms.alphaTest.value=t}},repeat:{enumerable:!0,get:function(){return this.uniforms.repeat.value},set:function(t){this.uniforms.repeat.value.copy(t)}}}),this.setValues(t)}i.prototype=Object.create(r.BufferGeometry.prototype),i.prototype.constructor=i,i.prototype.isMeshLine=!0,i.prototype.setMatrixWorld=function(t){this.matrixWorld=t},i.prototype.setGeometry=function(t,e){this._geometry=t,t instanceof r.Geometry?this.setPoints(t.vertices,e):t instanceof r.BufferGeometry?this.setPoints(t.getAttribute("position").array,e):this.setPoints(t,e)},i.prototype.setPoints=function(t,e){if(t instanceof Float32Array||t instanceof Array){if(this._points=t,this.widthCallback=e,this.positions=[],this.counters=[],t.length&&t[0]instanceof r.Vector3)for(var n=0;n<t.length;n++){var i=t[n],o=n/t.length;this.positions.push(i.x,i.y,i.z),this.positions.push(i.x,i.y,i.z),this.counters.push(o),this.counters.push(o)}else for(n=0;n<t.length;n+=3){o=n/t.length;this.positions.push(t[n],t[n+1],t[n+2]),this.positions.push(t[n],t[n+1],t[n+2]),this.counters.push(o),this.counters.push(o)}this.process()}else console.error("ERROR: The BufferArray of points is not instancied correctly.")},i.prototype.raycast=o,i.prototype.compareV3=function(t,e){var n=6*t,r=6*e;return this.positions[n]===this.positions[r]&&this.positions[n+1]===this.positions[r+1]&&this.positions[n+2]===this.positions[r+2]},i.prototype.copyV3=function(t){var e=6*t;return[this.positions[e],this.positions[e+1],this.positions[e+2]]},i.prototype.process=function(){var t,e,n=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],e=this.compareV3(0,n-1)?this.copyV3(n-2):this.copyV3(0),this.previous.push(e[0],e[1],e[2]),this.previous.push(e[0],e[1],e[2]);for(var i=0;i<n;i++){if(this.side.push(1),this.side.push(-1),t=this.widthCallback?this.widthCallback(i/(n-1)):1,this.width.push(t),this.width.push(t),this.uvs.push(i/(n-1),0),this.uvs.push(i/(n-1),1),i<n-1){e=this.copyV3(i),this.previous.push(e[0],e[1],e[2]),this.previous.push(e[0],e[1],e[2]);var o=2*i;this.indices_array.push(o,o+1,o+2),this.indices_array.push(o+2,o+1,o+3)}i>0&&(e=this.copyV3(i),this.next.push(e[0],e[1],e[2]),this.next.push(e[0],e[1],e[2]))}e=this.compareV3(n-1,0)?this.copyV3(1):this.copyV3(n-1),this.next.push(e[0],e[1],e[2]),this.next.push(e[0],e[1],e[2]),this._attributes&&this._attributes.position.count===this.positions.length?(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0):this._attributes={position:new r.BufferAttribute(new Float32Array(this.positions),3),previous:new r.BufferAttribute(new Float32Array(this.previous),3),next:new r.BufferAttribute(new Float32Array(this.next),3),side:new r.BufferAttribute(new Float32Array(this.side),1),width:new r.BufferAttribute(new Float32Array(this.width),1),uv:new r.BufferAttribute(new Float32Array(this.uvs),2),index:new r.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new r.BufferAttribute(new Float32Array(this.counters),1)},this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()},i.prototype.advance=function(t){var e=this._attributes.position.array,n=this._attributes.previous.array,r=this._attributes.next.array,i=e.length;a(e,0,n,0,i),a(e,6,e,0,i-6),e[i-6]=t.x,e[i-5]=t.y,e[i-4]=t.z,e[i-3]=t.x,e[i-2]=t.y,e[i-1]=t.z,a(e,6,r,0,i-6),r[i-6]=t.x,r[i-5]=t.y,r[i-4]=t.z,r[i-3]=t.x,r[i-2]=t.y,r[i-1]=t.z,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0},r.ShaderChunk.meshline_vert=["",r.ShaderChunk.logdepthbuf_pars_vertex,r.ShaderChunk.fog_pars_vertex,"","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute float counters;","","uniform vec2 resolution;","uniform float lineWidth;","uniform vec3 color;","uniform float opacity;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","\t vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","","    vColor = vec4( color, opacity );","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","    float w = lineWidth * width;","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;","    vec4 normal = vec4( -dir.y, dir.x, 0., 1. );","    normal.xy *= .5 * w;","    normal *= projectionMatrix;","    if( sizeAttenuation == 0. ) {","        normal.xy *= finalPosition.w;","        normal.xy /= ( vec4( resolution, 0., 1. ) * projectionMatrix ).xy;","    }","","    finalPosition.xy += normal.xy * side;","","    gl_Position = finalPosition;","",r.ShaderChunk.logdepthbuf_vertex,r.ShaderChunk.fog_vertex&&"    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",r.ShaderChunk.fog_vertex,"}"].join("\n"),r.ShaderChunk.meshline_frag=["",r.ShaderChunk.fog_pars_fragment,r.ShaderChunk.logdepthbuf_pars_fragment,"","uniform sampler2D map;","uniform sampler2D alphaMap;","uniform float useMap;","uniform float useAlphaMap;","uniform float useDash;","uniform float dashArray;","uniform float dashOffset;","uniform float dashRatio;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","void main() {","",r.ShaderChunk.logdepthbuf_fragment,"","    vec4 c = vColor;","    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;","    if( c.a < alphaTest ) discard;","    if( useDash == 1. ){","        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));","    }","    gl_FragColor = c;","    gl_FragColor.a *= step(vCounters, visibility);","",r.ShaderChunk.fog_fragment,"}"].join("\n"),s.prototype=Object.create(r.ShaderMaterial.prototype),s.prototype.constructor=s,s.prototype.isMeshLineMaterial=!0,s.prototype.copy=function(t){return r.ShaderMaterial.prototype.copy.call(this,t),this.lineWidth=t.lineWidth,this.map=t.map,this.useMap=t.useMap,this.alphaMap=t.alphaMap,this.useAlphaMap=t.useAlphaMap,this.color.copy(t.color),this.opacity=t.opacity,this.resolution.copy(t.resolution),this.sizeAttenuation=t.sizeAttenuation,this.dashArray.copy(t.dashArray),this.dashOffset.copy(t.dashOffset),this.dashRatio.copy(t.dashRatio),this.useDash=t.useDash,this.visibility=t.visibility,this.alphaTest=t.alphaTest,this.repeat.copy(t.repeat),this},t.exports&&(e=t.exports={MeshLine:i,MeshLineMaterial:s,MeshLineRaycast:o}),e.MeshLine=i,e.MeshLineMaterial=s,e.MeshLineRaycast=o}).call(this)},VmRL:function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r,s,u,c,l,p,d,y=e&&e.length,b=y?e[0]*n:t.length,g=i(t,0,b,n,!0),m=[];if(!g||g.next===g.prev)return m;if(y&&(g=function(t,e,n,r){var a,s,u,c,l,p=[];for(a=0,s=e.length;a<s;a++)u=e[a]*r,c=a<s-1?e[a+1]*r:t.length,(l=i(t,u,c,r,!1))===l.next&&(l.steiner=!0),p.push(v(l));for(p.sort(f),a=0;a<p.length;a++)h(p[a],n),n=o(n,n.next);return n}(t,e,g,n)),t.length>80*n){r=u=t[0],s=c=t[1];for(var x=n;x<b;x+=n)(l=t[x])<r&&(r=l),(p=t[x+1])<s&&(s=p),l>u&&(u=l),p>c&&(c=p);d=0!==(d=Math.max(u-r,c-s))?1/d:0}return a(g,m,n,r,s,d),m}function i(t,e,n,r,i){var o,a;if(i===j(t,e,n,r)>0)for(o=e;o<n;o+=r)a=S(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=S(o,t[o],t[o+1],a);return a&&m(a,a.next)&&(E(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!m(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(E(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function a(t,e,n,r,i,f,h){if(t){!h&&f&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=d(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ);e++);for(u=c;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(t,r,i,f);for(var p,v,y=t;t.prev!==t.next;)if(p=t.prev,v=t.next,f?u(t,r,i,f):s(t))e.push(p.i/n),e.push(t.i/n),e.push(v.i/n),E(t),t=v.next,y=v.next;else if((t=v)===y){h?1===h?a(t=c(o(t),e,n),e,n,r,i,f,2):2===h&&l(t,e,n,r,i,f):a(o(t),e,n,r,i,f,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(g(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(y(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&g(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,n,r){var i=t.prev,o=t,a=t.next;if(g(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=d(s,u,e,n,r),h=d(c,l,e,n,r),p=t.prevZ,v=t.nextZ;p&&p.z>=f&&v&&v.z<=h;){if(p!==t.prev&&p!==t.next&&y(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,v!==t.prev&&v!==t.next&&y(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;p&&p.z>=f;){if(p!==t.prev&&p!==t.next&&y(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;v&&v.z<=h;){if(v!==t.prev&&v!==t.next&&y(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function c(t,e,n){var r=t;do{var i=r.prev,a=r.next.next;!m(i,a)&&x(i,r,r.next,a)&&_(i,a)&&_(a,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(a.i/n),E(r),E(r.next),r=t=a),r=r.next}while(r!==t);return o(r)}function l(t,e,n,r,i,s){var u=t;do{for(var c=u.next.next;c!==u.prev;){if(u.i!==c.i&&b(u,c)){var l=O(u,c);return u=o(u,u.next),l=o(l,l.next),a(u,e,n,r,i,s),void a(l,e,n,r,i,s)}c=c.next}u=u.next}while(u!==t)}function f(t,e){return t.x-e.x}function h(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n;var u,c=n,l=n.x,f=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=l&&i!==r.x&&y(o<f?i:a,o,l,f,o<f?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),_(r,t)&&(u<h||u===h&&(r.x>n.x||r.x===n.x&&p(n,r)))&&(n=r,h=u)),r=r.next}while(r!==c);return n}(t,e)){var n=O(e,t);o(e,e.next),o(n,n.next)}}function p(t,e){return g(t.prev,t,e.prev)<0&&g(e.next,t,t.next)<0}function d(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function v(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function y(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&x(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(_(t,e)&&_(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(g(t.prev,t,e.prev)||g(t,e.prev,e))||m(t,e)&&g(t.prev,t,t.next)>0&&g(e.prev,e,e.next)>0)}function g(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function x(t,e,n,r){var i=k(g(t,e,n)),o=k(g(t,e,r)),a=k(g(n,r,t)),s=k(g(n,r,e));return i!==o&&a!==s||(!(0!==i||!w(t,n,e))||(!(0!==o||!w(t,r,e))||(!(0!==a||!w(n,t,r))||!(0!==s||!w(n,e,r)))))}function w(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function k(t){return t>0?1:t<0?-1:0}function _(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function O(t,e){var n=new P(t.i,t.x,t.y),r=new P(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function S(t,e,n,r){var i=new P(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function P(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function j(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=r,t.exports.default=r,r.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(j(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var c=e[s]*n,l=s<u-1?e[s+1]*n:t.length;a-=Math.abs(j(t,c,l,n))}var f=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,p=r[s+1]*n,d=r[s+2]*n;f+=Math.abs((t[h]-t[d])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[d+1]-t[h+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},Wg50:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("KQm4"),i=n("1OyB"),o=n("vuIU"),a=n("KKU8"),s=n("bSq8"),u=n("T5Oz"),c=new(function(){function t(){Object(i.a)(this,t)}return Object(o.a)(t,[{key:"binaryCmds",value:function(t){var e=t.X,n=t.Y,i=t.Op;return e.Cmd&&"BinaryCmd"===e.Cmd.type&&e.Cmd.Op===i?[].concat(Object(r.a)(this.binaryCmds(e.Cmd)),[t]):n.Cmd&&"BinaryCmd"===n.Cmd.type&&n.Cmd.Op===i?[t].concat(Object(r.a)(this.binaryCmds(n.Cmd))):[t]}},{key:"collectIfClauses",value:function(t){return t.Else?[t].concat(Object(r.a)(this.collectIfClauses(t.Else))):[t]}},{key:"isBackgroundNode",value:function(t){return"Stmt"===t.type&&t.Background}},{key:"seqSrc",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[];return t.forEach((function(t){return r.push(e.src(t),e.isBackgroundNode(t)?" ":"; ")})),(n?r:r.slice(0,-1)).join("")}},{key:"src",value:function(t){var e,n,r=this;if(!t)return"";switch(t.type){case"ArithmCmd":return"(( ".concat(this.src(t.X)," ))");case"BinaryCmd":var i=this.binaryCmds(t);return[i[0].X].concat(i.map((function(t){return t.Y}))).map((function(t){return r.src(t)})).join(" ".concat(t.Op," "));case"BinaryArithm":return"number"===typeof t.number?"".concat(t.number):[t.X,t.Y].map((function(t){return r.src(t)})).join("".concat(t.Op));case"UnaryArithm":return"number"===typeof t.number?"".concat(t.number):t.Post?"".concat(this.src(t.X)).concat(t.Op):"".concat(t.Op).concat(this.src(t.X));case"ParenArithm":return"number"===typeof t.number?"".concat(t.number):"(".concat(this.src(t.X),")");case"Word":return"string"===typeof t.string?t.string:t.Parts.map((function(t){return r.src(t)})).join("");case"ArrayExpr":var o=t.Elems.map((function(t){var e=t.Index,n=t.Value;return e?"[".concat(r.src(e),"]=").concat(r.src(n)):r.src(n)}));return"(".concat(o.join(" "),")");case"Assign":var c=t.Name.Value;return t.Array?"".concat(c,"=").concat(this.src(t.Array)):t.Index?"".concat(c,"[").concat(this.src(t.Index),"]").concat(t.Append?"+":"","=").concat(this.src(t.Value)):"".concat(c).concat(t.Append?"+":"","=").concat(this.src(t.Value||null));case"Block":var l=t.Stmts,f=this.isBackgroundNode(Object(a.c)(l))?"":";";return"{ ".concat(this.seqSrc(l)).concat(f," }");case"CallExpr":return[t.Assigns.map((function(t){return r.src(t)})).join(" "),t.Args.map((function(t){return r.src(t)})).join(" ")].filter(Boolean).join(" ");case"Stmt":return[t.Negated&&"!",this.src(t.Cmd),t.Redirs.map((function(t){return r.src(t)})).join(" "),t.Background&&"&"].filter(Boolean).join(" ");case"CaseClause":var h=t.Items.map((function(t){return{globs:t.Patterns,terminal:t.Op,child:t.Stmts}}));return["case",this.src(t.Word),"in",h.flatMap((function(t){var e=t.child,n=t.globs,i=t.terminal;return["".concat(n.map((function(t){return r.src(t)})).join(" | "),")"),r.seqSrc(e),i]})).join(" "),"esac"].filter(Boolean).join(" ");case"CoprocClause":return["coproc",null===(e=t.Name)||void 0===e?void 0:e.Value,this.src(t.Stmt)].filter(Boolean).join(" ");case"DeclClause":return[t.Variant,t.Opts.map((function(t){return r.src(t)})).join(" "),t.Assigns.map((function(t){return r.src(t)})).join(" "),t.others.map((function(t){return r.src(t)})).join(" ")].filter(Boolean).join(" ");case"ArithmExp":return"".concat("Stmt"===(null===(n=t.parent)||void 0===n?void 0:n.type)?"":"$","(( ").concat(this.src(t.X)," ))");case"CmdSubst":return"$(".concat(this.seqSrc(t.Stmts),")");case"DblQuoted":return'"'.concat(t.Parts.map((function(t){return r.src(t)})).join(""),'"');case"ExtGlob":return t.Pattern.Value.replace(/\n/g,"");case"Lit":t.parent;var p,d=t.Value.replace(/\\\n/g,"");return"DblQuoted"===(null===(p=t.parent)||void 0===p?void 0:p.type)?d.replace(/\n/g,"\"$$'\\n'\""):t.Value;case"ParamExp":if("string"===typeof t.string)return t.string;var v=t.paramDef||u.d.transpileParam(t),y="".concat(v.param).concat(t.Index?"[".concat(this.src(t.Index),"]"):"");switch(v.parKey){case s.a.case:return"${".concat(y).concat(("lower"===v.to?",":"^").repeat(v.all?2:1)).concat(v.pattern?this.src(v.pattern):"","}");case s.a.default:return"${".concat(y).concat(v.colon?":".concat(v.symbol).concat(this.src(v.alt)):"","}");case s.a.keys:return"${!".concat(y,"}");case s.a.length:return"${".concat(y,"}").concat("values"===v.of?"[@]":"");case s.a.plain:return"${".concat(y,"}");case s.a.pointer:return"${!".concat(y,"}");case s.a.position:return 1===y.length?"$".concat(y):"${".concat(y,"}");case s.a.remove:return"${".concat(y).concat((1===v.dir?"#":"%").repeat(v.greedy?2:1)).concat(this.src(v.pattern),"}");case s.a.replace:return"${".concat(y).concat(v.all?"//":"/").concat(this.src(v.orig),"/").concat(this.src(v.with),"}");case s.a.special:return"$".concat(v.param);case s.a.substring:var b=Number(this.src(v.from)),g=this.src(v.length);return"${".concat(y,":").concat(b<0?" ":"").concat(b).concat(g?":".concat(g):"","}");case s.a.vars:return"${!".concat(y).concat(v.split?"@":"*","}");default:throw Object(a.i)(v)}case"ProcSubst":var m="<("===t.Op?"<":">";return"".concat(m,"( ").concat(this.seqSrc(t.Stmts)," )");case"SglQuoted":var x=t.Value.replace(/\n/g,"'$$'\\n''");return"".concat(t.Dollar?"$":"","'").concat(x,"'");case"FuncDecl":return"".concat(t.Name.Value,"() ").concat(this.src(t.Body));case"IfClause":return u.d.collectIfClauses(t).map((function(t,e){var n=t.Cond,i=t.Then;return n.length?"".concat(e?"elif":"if"," ").concat(r.seqSrc(n),"; then ").concat(r.seqSrc(i),"; "):"else ".concat(r.seqSrc(i),"; ")})).concat("fi").join("");case"LetClause":return"let ".concat(t.Exprs.map((function(t){return r.src(t)})).join(" "));case"Redirect":var w=t.redirDef||u.d.transpileRedirect(t);switch(w.subKey){case"<":return"".concat(w.fd||"","<").concat(w.mod?"&":"").concat(this.src(t.Word)).concat("move"===w.mod?"-":"");case">":return"".concat(w.fd||"").concat("append"===w.mod?">>":w.mod?">&":">").concat(this.src(t.Word)).concat("move"===w.mod?"-":"");case"&>":return"".concat(w.append?"&>>":"&>").concat(this.src(t.Word));case"<<":var k=this.src(w.here);return k.endsWith("\n")&&(k=k.slice(0,-1)),"".concat(w.fd||"",'< <( echo "').concat(k.replace(/\n/g,"\"$$'\\n'\""),'" )');case"<<<":return"".concat(w.fd||"","<<<").concat(this.src(t.Word));case"<>":return"".concat(w.fd||"","<>").concat(this.src(t.Word));default:throw Object(a.i)(w)}case"File":return this.seqSrc(t.Stmts);case"Subshell":return"( ".concat(t.Stmts.map((function(t){return r.src(t)})).join("; ")," )");case"TestClause":return"[[ ".concat(this.src(t.X)," ]]");case"BinaryTest":return[t.X,t.Y].map((function(t){return r.src(t)})).join(" ".concat(t.Op," "));case"UnaryTest":return"".concat(t.Op," ").concat(this.src(t.X));case"ParenTest":return"(".concat(this.src(t.X),")");case"TimeClause":return"time ".concat(t.PosixFormat?"-p ":"").concat(this.src(t.Stmt));case"ForClause":var _=t.Do,O=t.Loop;return"CStyleLoop"===O.type?"for (( ".concat(this.src(O.Init),"; ").concat(this.src(O.Cond),"; ").concat(this.src(O.Post)," )); do ").concat(this.seqSrc(_,!0),"done"):"for ".concat(O.Name.Value," in ").concat(O.Items.map((function(t){return r.src(t)})).join(" "),"; do ").concat(this.seqSrc(_,!0),"done");case"WhileClause":return"".concat(t.Until?"until":"while"," ").concat(this.seqSrc(t.Cond,!0),"do ").concat(this.seqSrc(t.Do,!0),"done");case"CStyleLoop":case"Comment":case"WordIter":case"ArrayElem":case"CaseItem":return"";default:throw Object(a.i)(t)}}}]),t}())},XDEQ:function(t,e,n){"use strict";var r=function(t,e,n){this.points_=[t,e,n],this.neighbors_=[null,null,null],this.interior_=!1,this.constrained_edge=[!1,!1,!1],this.delaunay_edge=[!1,!1,!1]},i=n("34/Y").toString;r.prototype.toString=function(){return"["+i(this.points_[0])+i(this.points_[1])+i(this.points_[2])+"]"},r.prototype.getPoint=function(t){return this.points_[t]},r.prototype.GetPoint=r.prototype.getPoint,r.prototype.getPoints=function(){return this.points_},r.prototype.getNeighbor=function(t){return this.neighbors_[t]},r.prototype.containsPoint=function(t){var e=this.points_;return t===e[0]||t===e[1]||t===e[2]},r.prototype.containsEdge=function(t){return this.containsPoint(t.p)&&this.containsPoint(t.q)},r.prototype.containsPoints=function(t,e){return this.containsPoint(t)&&this.containsPoint(e)},r.prototype.isInterior=function(){return this.interior_},r.prototype.setInterior=function(t){return this.interior_=t,this},r.prototype.markNeighborPointers=function(t,e,n){var r=this.points_;if(t===r[2]&&e===r[1]||t===r[1]&&e===r[2])this.neighbors_[0]=n;else if(t===r[0]&&e===r[2]||t===r[2]&&e===r[0])this.neighbors_[1]=n;else{if(!(t===r[0]&&e===r[1]||t===r[1]&&e===r[0]))throw new Error("poly2tri Invalid Triangle.markNeighborPointers() call");this.neighbors_[2]=n}},r.prototype.markNeighbor=function(t){var e=this.points_;t.containsPoints(e[1],e[2])?(this.neighbors_[0]=t,t.markNeighborPointers(e[1],e[2],this)):t.containsPoints(e[0],e[2])?(this.neighbors_[1]=t,t.markNeighborPointers(e[0],e[2],this)):t.containsPoints(e[0],e[1])&&(this.neighbors_[2]=t,t.markNeighborPointers(e[0],e[1],this))},r.prototype.clearNeighbors=function(){this.neighbors_[0]=null,this.neighbors_[1]=null,this.neighbors_[2]=null},r.prototype.clearDelaunayEdges=function(){this.delaunay_edge[0]=!1,this.delaunay_edge[1]=!1,this.delaunay_edge[2]=!1},r.prototype.pointCW=function(t){var e=this.points_;return t===e[0]?e[2]:t===e[1]?e[0]:t===e[2]?e[1]:null},r.prototype.pointCCW=function(t){var e=this.points_;return t===e[0]?e[1]:t===e[1]?e[2]:t===e[2]?e[0]:null},r.prototype.neighborCW=function(t){return t===this.points_[0]?this.neighbors_[1]:t===this.points_[1]?this.neighbors_[2]:this.neighbors_[0]},r.prototype.neighborCCW=function(t){return t===this.points_[0]?this.neighbors_[2]:t===this.points_[1]?this.neighbors_[0]:this.neighbors_[1]},r.prototype.getConstrainedEdgeCW=function(t){return t===this.points_[0]?this.constrained_edge[1]:t===this.points_[1]?this.constrained_edge[2]:this.constrained_edge[0]},r.prototype.getConstrainedEdgeCCW=function(t){return t===this.points_[0]?this.constrained_edge[2]:t===this.points_[1]?this.constrained_edge[0]:this.constrained_edge[1]},r.prototype.getConstrainedEdgeAcross=function(t){return t===this.points_[0]?this.constrained_edge[0]:t===this.points_[1]?this.constrained_edge[1]:this.constrained_edge[2]},r.prototype.setConstrainedEdgeCW=function(t,e){t===this.points_[0]?this.constrained_edge[1]=e:t===this.points_[1]?this.constrained_edge[2]=e:this.constrained_edge[0]=e},r.prototype.setConstrainedEdgeCCW=function(t,e){t===this.points_[0]?this.constrained_edge[2]=e:t===this.points_[1]?this.constrained_edge[0]=e:this.constrained_edge[1]=e},r.prototype.getDelaunayEdgeCW=function(t){return t===this.points_[0]?this.delaunay_edge[1]:t===this.points_[1]?this.delaunay_edge[2]:this.delaunay_edge[0]},r.prototype.getDelaunayEdgeCCW=function(t){return t===this.points_[0]?this.delaunay_edge[2]:t===this.points_[1]?this.delaunay_edge[0]:this.delaunay_edge[1]},r.prototype.setDelaunayEdgeCW=function(t,e){t===this.points_[0]?this.delaunay_edge[1]=e:t===this.points_[1]?this.delaunay_edge[2]=e:this.delaunay_edge[0]=e},r.prototype.setDelaunayEdgeCCW=function(t,e){t===this.points_[0]?this.delaunay_edge[2]=e:t===this.points_[1]?this.delaunay_edge[0]=e:this.delaunay_edge[1]=e},r.prototype.neighborAcross=function(t){return t===this.points_[0]?this.neighbors_[0]:t===this.points_[1]?this.neighbors_[1]:this.neighbors_[2]},r.prototype.oppositePoint=function(t,e){var n=t.pointCW(e);return this.pointCW(n)},r.prototype.legalize=function(t,e){var n=this.points_;if(t===n[0])n[1]=n[0],n[0]=n[2],n[2]=e;else if(t===n[1])n[2]=n[1],n[1]=n[0],n[0]=e;else{if(t!==n[2])throw new Error("poly2tri Invalid Triangle.legalize() call");n[0]=n[2],n[2]=n[1],n[1]=e}},r.prototype.index=function(t){var e=this.points_;if(t===e[0])return 0;if(t===e[1])return 1;if(t===e[2])return 2;throw new Error("poly2tri Invalid Triangle.index() call")},r.prototype.edgeIndex=function(t,e){var n=this.points_;if(t===n[0]){if(e===n[1])return 2;if(e===n[2])return 1}else if(t===n[1]){if(e===n[2])return 0;if(e===n[0])return 2}else if(t===n[2]){if(e===n[0])return 1;if(e===n[1])return 0}return-1},r.prototype.markConstrainedEdgeByIndex=function(t){this.constrained_edge[t]=!0},r.prototype.markConstrainedEdgeByEdge=function(t){this.markConstrainedEdgeByPoints(t.p,t.q)},r.prototype.markConstrainedEdgeByPoints=function(t,e){var n=this.points_;e===n[0]&&t===n[1]||e===n[1]&&t===n[0]?this.constrained_edge[2]=!0:e===n[0]&&t===n[2]||e===n[2]&&t===n[0]?this.constrained_edge[1]=!0:(e===n[1]&&t===n[2]||e===n[2]&&t===n[1])&&(this.constrained_edge[0]=!0)},t.exports=r},YLe4:function(t,e,n){"use strict";function r(t,e){if(i(t))return t.lift(e);throw new TypeError("Unable to lift unknown Observable type")}function i(t){return t&&"function"===typeof t.lift}n.d(e,"a",(function(){return r}))},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},bSq8:function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.case="case",t.default="default",t.keys="keys",t.length="length",t.plain="plain",t.pointer="pointer",t.position="position",t.replace="replace",t.remove="remove",t.special="special",t.substring="substring",t.vars="vars"}(r||(r={}))},bpgr:function(t,e){var n=Object.prototype.hasOwnProperty;function r(t){return"[Throws: "+(t?t.message:"?")+"]"}function i(t){var e=[];return function t(i){if(null===i||"object"!==typeof i)return i;if(-1!==e.indexOf(i))return"[Circular]";if(e.push(i),"function"===typeof i.toJSON)try{var o=t(i.toJSON());return e.pop(),o}catch(u){return r(u)}if(Array.isArray(i)){var a=i.map(t);return e.pop(),a}var s=Object.keys(i).reduce((function(e,o){return e[o]=t(function(t,e){if(n.call(t,e))try{return t[e]}catch(u){return r(u)}return t[e]}(i,o)),e}),{});return e.pop(),s}(t)}t.exports=function(t,e,n){return JSON.stringify(i(t),e,n)},t.exports.ensureProperties=i},c6hP:function(t,e,n){"use strict";function r(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("pVnL"));e.devtools=function(t,e){return function(n,r,i){var o;try{o=window.__REDUX_DEVTOOLS_EXTENSION__||window.top.__REDUX_DEVTOOLS_EXTENSION__}catch(u){}if(!o)return i.devtools=null,t(n,r,i);var a=function(t,e,o){n(t,e),!1!==o&&i.devtools.send(i.devtools.prefix+(o||"action"),r())},s=t(a,r,i);return i.devtools||(i.devtools=o.connect({name:e}),i.devtools.prefix=e?e+" > ":"",i.devtools.subscribe((function(t){if("DISPATCH"===t.type&&t.state){var e="JUMP_TO_ACTION"===t.payload.type||"JUMP_TO_STATE"===t.payload.type;a(JSON.parse(t.state),!1,!s.dispatch&&!e&&"setState")}})),i.devtools.init(s)),s}},e.redux=function(t,e){return function(n,r,o){return o.dispatch=function(e){return n((function(n){return t(n,e)})),o.devtools&&o.devtools.send(o.devtools.prefix+e.type,r()),e},i.default({dispatch:o.dispatch},e)}}},cMP6:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},dT9L:function(t,e,n){t.exports={root:"_1J0F-IJXb4Q0eGsVWmYsMG"}},dvQl:function(t,e,n){"use strict";var r=n("zodg"),i=n("V3qg"),o=n("XDEQ"),a=n("lzXO").Node,s=n("pmXr"),u=s.EPSILON,c=s.Orientation,l=s.orient2d,f=s.inScanArea,h=s.isAngleObtuse;function p(t,e){var n=t.locateNode(e),i=function(t,e,n){var r=new o(e,n.point,n.next.point);r.markNeighbor(n.triangle),t.addToMap(r);var i=new a(e);i.next=n.next,i.prev=n,n.next.prev=i,n.next=i,g(t,r)||t.mapTriangleToNodes(r);return i}(t,e,n);return e.x<=n.point.x+u&&b(t,n),function(t,e){var n=e.next;for(;n.next&&!h(n.point,n.next.point,n.prev.point);)b(t,n),n=n.next;n=e.prev;for(;n.prev&&!h(n.point,n.next.point,n.prev.point);)b(t,n),n=n.prev;e.next&&e.next.next&&function(t){var e=t.point.x-t.next.next.point.x,n=t.point.y-t.next.next.point.y;return r(n>=0,"unordered y"),e>=0||Math.abs(e)<n}(e)&&function(t,e){l(e.point,e.next.point,e.next.next.point)===c.CCW?t.basin.left_node=e.next.next:t.basin.left_node=e.next;t.basin.bottom_node=t.basin.left_node;for(;t.basin.bottom_node.next&&t.basin.bottom_node.point.y>=t.basin.bottom_node.next.point.y;)t.basin.bottom_node=t.basin.bottom_node.next;if(t.basin.bottom_node===t.basin.left_node)return;t.basin.right_node=t.basin.bottom_node;for(;t.basin.right_node.next&&t.basin.right_node.point.y<t.basin.right_node.next.point.y;)t.basin.right_node=t.basin.right_node.next;if(t.basin.right_node===t.basin.bottom_node)return;t.basin.width=t.basin.right_node.point.x-t.basin.left_node.point.x,t.basin.left_highest=t.basin.left_node.point.y>t.basin.right_node.point.y,function t(e,n){if(function(t,e){var n;n=t.basin.left_highest?t.basin.left_node.point.y-e.point.y:t.basin.right_node.point.y-e.point.y;if(t.basin.width>n)return!0;return!1}(e,n))return;if(b(e,n),n.prev===e.basin.left_node&&n.next===e.basin.right_node)return;if(n.prev===e.basin.left_node){if(l(n.point,n.next.point,n.next.next.point)===c.CW)return;n=n.next}else if(n.next===e.basin.right_node){if(l(n.point,n.prev.point,n.prev.prev.point)===c.CCW)return;n=n.prev}else n=n.prev.point.y<n.next.point.y?n.prev:n.next;t(e,n)}(t,t.basin.bottom_node)}(t,e)}(t,i),i}function d(t,e,n){t.edge_event.constrained_edge=e,t.edge_event.right=e.p.x>e.q.x,y(n.triangle,e.p,e.q)||(!function(t,e,n){t.edge_event.right?function(t,e,n){for(;n.next.point.x<e.p.x;)l(e.q,n.next.point,e.p)===c.CCW?w(t,e,n):n=n.next}(t,e,n):function(t,e,n){for(;n.prev.point.x>e.p.x;)l(e.q,n.prev.point,e.p)===c.CW?_(t,e,n):n=n.prev}(t,e,n)}(t,e,n),v(t,e.p,e.q,n.triangle,e.q))}function v(t,e,n,r,o){if(!y(r,e,n)){var a=r.pointCCW(o),s=l(n,a,e);if(s===c.COLLINEAR)throw new i("poly2tri EdgeEvent: Collinear not supported!",[n,a,e]);var u=r.pointCW(o),f=l(n,u,e);if(f===c.COLLINEAR)throw new i("poly2tri EdgeEvent: Collinear not supported!",[n,u,e]);s===f?v(t,e,n,r=s===c.CW?r.neighborCCW(o):r.neighborCW(o),o):S(t,e,n,r,o)}}function y(t,e,n){var r=t.edgeIndex(e,n);if(-1!==r){t.markConstrainedEdgeByIndex(r);var i=t.getNeighbor(r);return i&&i.markConstrainedEdgeByPoints(e,n),!0}return!1}function b(t,e){var n=new o(e.prev.point,e.point,e.next.point);n.markNeighbor(e.prev.triangle),n.markNeighbor(e.triangle),t.addToMap(n),e.prev.next=e.next,e.next.prev=e.prev,g(t,n)||t.mapTriangleToNodes(n)}function g(t,e){for(var n=0;n<3;++n)if(!e.delaunay_edge[n]){var r=e.getNeighbor(n);if(r){var i=e.getPoint(n),o=r.oppositePoint(e,i),a=r.index(o);if(r.constrained_edge[a]||r.delaunay_edge[a]){e.constrained_edge[n]=r.constrained_edge[a];continue}if(m(i,e.pointCCW(i),e.pointCW(i),o)){e.delaunay_edge[n]=!0,r.delaunay_edge[a]=!0,x(e,i,r,o);var s=!g(t,e);return s&&t.mapTriangleToNodes(e),(s=!g(t,r))&&t.mapTriangleToNodes(r),e.delaunay_edge[n]=!1,r.delaunay_edge[a]=!1,!0}}}return!1}function m(t,e,n,r){var i=t.x-r.x,o=t.y-r.y,a=e.x-r.x,s=e.y-r.y,u=i*s-a*o;if(u<=0)return!1;var c=n.x-r.x,l=n.y-r.y,f=c*o-i*l;return!(f<=0)&&(i*i+o*o)*(a*l-c*s)+(a*a+s*s)*f+(c*c+l*l)*u>0}function x(t,e,n,r){var i,o,a,s,u,c,l,f,h,p,d,v;i=t.neighborCCW(e),o=t.neighborCW(e),a=n.neighborCCW(r),s=n.neighborCW(r),u=t.getConstrainedEdgeCCW(e),c=t.getConstrainedEdgeCW(e),l=n.getConstrainedEdgeCCW(r),f=n.getConstrainedEdgeCW(r),h=t.getDelaunayEdgeCCW(e),p=t.getDelaunayEdgeCW(e),d=n.getDelaunayEdgeCCW(r),v=n.getDelaunayEdgeCW(r),t.legalize(e,r),n.legalize(r,e),n.setDelaunayEdgeCCW(e,h),t.setDelaunayEdgeCW(e,p),t.setDelaunayEdgeCCW(r,d),n.setDelaunayEdgeCW(r,v),n.setConstrainedEdgeCCW(e,u),t.setConstrainedEdgeCW(e,c),t.setConstrainedEdgeCCW(r,l),n.setConstrainedEdgeCW(r,f),t.clearNeighbors(),n.clearNeighbors(),i&&n.markNeighbor(i),o&&t.markNeighbor(o),a&&t.markNeighbor(a),s&&n.markNeighbor(s),t.markNeighbor(n)}function w(t,e,n){n.point.x<e.p.x&&(l(n.point,n.next.point,n.next.next.point)===c.CCW?k(t,e,n):(!function t(e,n,r){l(r.next.point,r.next.next.point,r.next.next.next.point)===c.CCW?k(e,n,r.next):l(n.q,r.next.next.point,n.p)===c.CCW&&t(e,n,r.next)}(t,e,n),w(t,e,n)))}function k(t,e,n){b(t,n.next),n.next.point!==e.p&&l(e.q,n.next.point,e.p)===c.CCW&&l(n.point,n.next.point,n.next.next.point)===c.CCW&&k(t,e,n)}function _(t,e,n){n.point.x>e.p.x&&(l(n.point,n.prev.point,n.prev.prev.point)===c.CW?O(t,e,n):(!function t(e,n,r){l(r.prev.point,r.prev.prev.point,r.prev.prev.prev.point)===c.CW?O(e,n,r.prev):l(n.q,r.prev.prev.point,n.p)===c.CW&&t(e,n,r.prev)}(t,e,n),_(t,e,n)))}function O(t,e,n){b(t,n.prev),n.prev.point!==e.p&&l(e.q,n.prev.point,e.p)===c.CW&&l(n.point,n.prev.point,n.prev.prev.point)===c.CW&&O(t,e,n)}function S(t,e,n,o,a){var s=o.neighborAcross(a);r(s,"FLIP failed due to missing triangle!");var u=s.oppositePoint(o,a);if(o.getConstrainedEdgeAcross(a)){var h=o.index(a);throw new i("poly2tri Intersecting Constraints",[a,u,o.getPoint((h+1)%3),o.getPoint((h+2)%3)])}f(a,o.pointCCW(a),o.pointCW(a),u)?(x(o,a,s,u),t.mapTriangleToNodes(o),t.mapTriangleToNodes(s),a===n&&u===e?n===t.edge_event.constrained_edge.q&&e===t.edge_event.constrained_edge.p&&(o.markConstrainedEdgeByPoints(e,n),s.markConstrainedEdgeByPoints(e,n),g(t,o),g(t,s)):S(t,e,n,o=function(t,e,n,r,i,o){var a;if(e===c.CCW)return a=r.edgeIndex(i,o),r.delaunay_edge[a]=!0,g(t,r),r.clearDelaunayEdges(),n;return a=n.edgeIndex(i,o),n.delaunay_edge[a]=!0,g(t,n),n.clearDelaunayEdges(),r}(t,l(n,u,e),o,s,a,u),a)):(!function t(e,n,i,o,a,s){var u=a.neighborAcross(s);r(u,"FLIP failed due to missing triangle");var c=u.oppositePoint(a,s);if(f(i,o.pointCCW(i),o.pointCW(i),c))S(e,i,c,u,c);else{var l=E(n,i,u,c);t(e,n,i,o,u,l)}}(t,e,n,o,s,E(e,n,s,u)),v(t,e,n,o,a))}function E(t,e,n,r){var o=l(e,r,t);if(o===c.CW)return n.pointCCW(r);if(o===c.CCW)return n.pointCW(r);throw new i("poly2tri [Unsupported] nextFlipPoint: opposing point on constrained edge!",[e,r,t])}e.triangulate=function(t){t.initTriangulation(),t.createAdvancingFront(),function(t){var e,n=t.pointCount();for(e=1;e<n;++e)for(var r=t.getPoint(e),i=p(t,r),o=r._p2t_edge_list,a=0;o&&a<o.length;++a)d(t,o[a],i)}(t),function(t){var e=t.front().head().next.triangle,n=t.front().head().next.point;for(;!e.getConstrainedEdgeCW(n);)e=e.neighborCCW(n);t.meshClean(e)}(t)}},fUVb:function(t,e,n){"use strict";function r(t){return null!==t&&"object"===typeof t}n.d(e,"a",(function(){return r}))},foSv:function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return r}))},fqyn:function(t,e,n){"use strict";var r=1;t.exports={nextValue:function(){return(r=(9301*r+49297)%233280)/233280},seed:function(t){r=t}}},frP5:function(t,e,n){"use strict";(function(t){var r=t.poly2tri;e.noConflict=function(){return t.poly2tri=r,e},e.VERSION=n("NGv4").version,e.PointError=n("V3qg"),e.Point=n("OMbN"),e.Triangle=n("XDEQ"),e.SweepContext=n("TtOD");var i=n("dvQl");e.triangulate=i.triangulate,e.sweep={Triangulate:i.triangulate}}).call(this,n("yLpj"))},gJF5:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("mrSG"),i=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return Object(r.c)(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n("jYKN").a)},gabW:function(t,e,n){"use strict";const r=n("xiUG");t.exports=(t,e={})=>{let n=(t,i={})=>{let o=e.escapeInvalid&&r.isInvalidBrace(i),a=!0===t.invalid&&!0===e.escapeInvalid,s="";if(t.value)return(o||a)&&r.isOpenOrClose(t)?"\\"+t.value:t.value;if(t.value)return t.value;if(t.nodes)for(let e of t.nodes)s+=n(e);return s};return n(t)}},hK8l:function(t,e,n){"use strict";t.exports=function(t,e){switch("undefined"===typeof e&&(e=0),typeof t){case"number":if(t>0)return function(t,e){var n,r;for(n=new Array(t),r=0;r<t;++r)n[r]=e;return n}(0|t,e);break;case"object":if("number"===typeof t.length)return function t(e,n,r){var i=0|e[r];if(i<=0)return[];var o,a=new Array(i);if(r===e.length-1)for(o=0;o<i;++o)a[o]=n;else for(o=0;o<i;++o)a[o]=t(e,n,r+1);return a}(t,e,0)}return[]}},"j/1Z":function(t,e){t.exports=function(t){return t&&"object"===typeof t&&"function"===typeof t.copy&&"function"===typeof t.fill&&"function"===typeof t.readUInt8}},jYKN:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u}));var r=Array.isArray||function(t){return t&&"number"===typeof t.length},i=n("fUVb"),o=n("Dhq2"),a=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),s=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,s=this._ctorUnsubscribe,u=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var f=0;f<n.length;++f){n[f].remove(this)}if(Object(o.a)(u)){s&&(this._unsubscribe=void 0);try{u.call(this)}catch(d){e=d instanceof a?c(d.errors):[d]}}if(r(l)){f=-1;for(var h=l.length;++f<h;){var p=l[f];if(Object(i.a)(p))try{p.unsubscribe()}catch(d){e=e||[],d instanceof a?e=e.concat(c(d.errors)):e.push(d)}}}if(e)throw new a(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!==typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function u(t){return t instanceof s||t&&"closed"in t&&"function"===typeof t.remove&&"function"===typeof t.add&&"function"===typeof t.unsubscribe}function c(t){return t.reduce((function(t,e){return t.concat(e instanceof a?e.errors:e)}),[])}},je4i:function(t,e,n){"use strict";t.exports=n("Bpvx")},"jy4+":function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("RwHD");var i=n("mrSG"),o=n("NjKU"),a=n("jYKN");function s(t,e,n){if(t){if((i=t)instanceof r.a||u(i)&&Object(a.b)(i))return t;if(u(t))return new c(t)}var i;return t||e||n?new r.a(t,e,n):new r.a(o.a)}function u(t){return t&&"function"===typeof t.next&&"function"===typeof t.error&&"function"===typeof t.complete}var c=function(t){function e(e){var n=t.call(this)||this;return n.destination=e,n}return Object(i.c)(e,t),e}(r.a),l=n("o1UC"),f=n("oniv"),h=n("cMP6"),p=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=s(t,e,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||h.a.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),h.a.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){h.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,i=e.destination,o=e.isStopped;if(n||o)return!1;t=i&&i instanceof r.a?i:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=d(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[l.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(f.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=d(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function d(t){if(t||(t=h.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"kVK+":function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*v}},ljPn:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},lzXO:function(t,e,n){"use strict";var r=function(t,e){this.head_=t,this.tail_=e,this.search_node_=t};r.prototype.head=function(){return this.head_},r.prototype.setHead=function(t){this.head_=t},r.prototype.tail=function(){return this.tail_},r.prototype.setTail=function(t){this.tail_=t},r.prototype.search=function(){return this.search_node_},r.prototype.setSearch=function(t){this.search_node_=t},r.prototype.findSearchNode=function(){return this.search_node_},r.prototype.locateNode=function(t){var e=this.search_node_;if(t<e.value){for(;e=e.prev;)if(t>=e.value)return this.search_node_=e,e}else for(;e=e.next;)if(t<e.value)return this.search_node_=e.prev,e.prev;return null},r.prototype.locatePoint=function(t){var e=t.x,n=this.findSearchNode(e),r=n.point.x;if(e===r){if(t!==n.point)if(t===n.prev.point)n=n.prev;else{if(t!==n.next.point)throw new Error("poly2tri Invalid AdvancingFront.locatePoint() call");n=n.next}}else if(e<r)for(;(n=n.prev)&&t!==n.point;);else for(;(n=n.next)&&t!==n.point;);return n&&(this.search_node_=n),n},t.exports=r,t.exports.Node=function(t,e){this.point=t,this.triangle=e||null,this.next=null,this.prev=null,this.value=t.x}},mLhc:function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),a=new P(r||[]);return o._invoke=function(t,e,n){var r=l;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=c(t,e,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=u;var l="suspendedStart",f="suspendedYield",h="executing",p="completed",d={};function v(){}function y(){}function b(){}var g={};g[o]=function(){return this};var m=Object.getPrototypeOf,x=m&&m(m(j([])));x&&x!==n&&r.call(x,o)&&(g=x);var w=b.prototype=v.prototype=Object.create(g);function k(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function _(t){var e;this._invoke=function(n,i){function o(){return new Promise((function(e,o){!function e(n,i,o,a){var s=c(t[n],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"===typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,o,a)}),(function(t){e("throw",t,o,a)})):Promise.resolve(l).then((function(t){u.value=t,o(u)}),(function(t){return e("throw",t,o,a)}))}a(s.arg)}(n,i,e,o)}))}return e=e?e.then(o,o):o()}}function O(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=c(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,d;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function j(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:A}}function A(){return{value:e,done:!0}}return y.prototype=w.constructor=b,b.constructor=y,b[s]=y.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},k(_.prototype),_.prototype[a]=function(){return this},t.AsyncIterator=_,t.async=function(e,n,r,i){var o=new _(u(e,n,r,i));return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},k(w),w[s]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:j(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},md7G:function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"a",(function(){return o}));var i=n("JX7q");function o(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?Object(i.a)(t):e}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return u}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function s(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function u(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=s(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}},n8Jw:function(t,e,n){"use strict";t.exports=0},nv9e:function(t,e,n){"use strict";t.exports={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:"\xa0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},o0o1:function(t,e,n){t.exports=n("mLhc")},o1UC:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"===typeof Symbol&&Symbol.observable||"@@observable"},o2a1:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return p})),n.d(e,"e",(function(){return d}));var r=n("KQm4"),i=n("zT9C"),o=n.n(i),a=n("um9G"),s=n.n(a),u=n("KKU8");function c(t){return o()(t)}function l(t){var e,n,i;switch(t.type){case"ArithmCmd":case"ArithmExp":return[t.X];case"ArrayElem":return[].concat(Object(r.a)(t.Index?[t.Index]:[]),[t.Value]);case"ArrayExpr":return t.Elems;case"Assign":return[].concat(Object(r.a)(t.Array?[t.Array]:[]),Object(r.a)(t.Index?[t.Index]:[]),Object(r.a)(t.Value?[t.Value]:[]));case"BinaryArithm":case"BinaryCmd":case"BinaryTest":return[t.X,t.Y];case"Block":return t.Stmts;case"CStyleLoop":return[t.Cond,t.Init,t.Post];case"CallExpr":return[].concat(t.Args,t.Assigns);case"CaseClause":return[].concat(t.Items,t.Word);case"CaseItem":return[].concat(t.Patterns,t.Stmts);case"CmdSubst":return t.Stmts;case"Comment":return[];case"CoprocClause":return[t.Stmt];case"DblQuoted":return t.Parts;case"DeclClause":return[].concat(t.Assigns,t.Opts,t.Variant,t.others);case"ExtGlob":return[];case"File":return t.Stmts;case"ForClause":return[].concat(Object(r.a)(t.Do),[t.Loop]);case"FuncDecl":return[t.Body,t.Name];case"IfClause":return[].concat(Object(r.a)(t.Cond),Object(r.a)(t.Then),Object(r.a)(t.Else?[t.Else]:[]));case"LetClause":return t.Exprs;case"Lit":return[];case"ParamExp":return[].concat(Object(r.a)((null===(e=t.Exp)||void 0===e?void 0:e.Word)?[t.Exp.Word]:[]),Object(r.a)(t.Index?[t.Index]:[]),[t.Param],Object(r.a)(t.Repl?[t.Repl.Orig]:[]),Object(r.a)((null===(n=t.Repl)||void 0===n?void 0:n.With)?[t.Repl.With]:[]),Object(r.a)(t.Slice?[t.Slice.Offset]:[]),Object(r.a)((null===(i=t.Slice)||void 0===i?void 0:i.Length)?[t.Slice.Length]:[]));case"ParenArithm":case"ParenTest":return[t.X];case"ProcSubst":return t.Stmts;case"Redirect":return[].concat(Object(r.a)(t.Hdoc?[t.Hdoc]:[]),Object(r.a)(t.N?[t.N]:[]),[t.Word]);case"SglQuoted":return[];case"Stmt":return[].concat(Object(r.a)(t.Cmd?[t.Cmd]:[]),Object(r.a)(t.Redirs));case"Subshell":return t.Stmts;case"TestClause":return[t.X];case"TimeClause":return Object(r.a)(t.Stmt?[t.Stmt]:[]);case"UnaryArithm":case"UnaryTest":return[t.X];case"WhileClause":return t.Cond.concat(t.Do);case"Word":return t.Parts;case"WordIter":return t.Items;default:throw Object(u.i)(t)}}function f(t,e){return function(t){var e=t;return Object.keys(t).forEach((function(n){e.__optKeys=[],"_"!==n&&(Array.isArray(t[n])&&(e[n]=Object(u.c)(t[n])),e.__optKeys.push(n))})),e}(s()(t,e))}function h(t){return function(t,e){for(var n=t;(n=n.parent)&&!e(n););return n}(t,(function(t){var e=t.type;return"ForClause"===e||"WhileClause"===e}))}function p(t){return function t(e,n){n(e),l(e).forEach((function(e){return t(e,n)}))}(t,(function(t){l(t).forEach((function(e){return e.parent=t}))})),t}function d(t){return{type:"File",Stmts:[t],meta:t.meta}}},o7Ra:function(t,e,n){"use strict";n.d(e,"a",(function(){return A}));var r=n("T5bk"),i=n("KQm4"),o=n("ODXe"),a=n("1OyB"),s=n("vuIU"),u=n("rePB"),c=n("Womt"),l=n("VH6B"),f=n("3L5V"),h=n.n(f),p=n("JjsD"),d=n.n(p),v=n("Ds9z"),y=n.n(v),b=n("rHF+"),g=n.n(b),m=n("BN7R"),x=n.n(m),w=n("u5V+"),k=n("H0Bg"),_=n("UYus"),O=n("96ag"),S=n("KKU8");function E(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"===typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var j=2*Math.PI,A=new(function(){function t(){Object(a.a)(this,t),Object(u.a)(this,"whiteMaterial",new c.MeshBasicMaterial({color:"#ffffff"})),Object(u.a)(this,"whiteColor",new c.Color("#ffffff")),Object(u.a)(this,"lineMaterial",new l.MeshLineMaterial({color:this.whiteColor,lineWidth:.02}))}return Object(s.a)(t,[{key:"computeIntegerRectPartition",value:function(t){var e=t.outline,n=t.holes,r=[e].concat(n).map((function(t){return t.map((function(t){return[t.x,t.y]}))}));return d()(r).map((function(t){var e=Object(o.a)(t,2),n=Object(o.a)(e[0],2),r=n[0],i=n[1],a=Object(o.a)(e[1],2),s=a[0],u=a[1];return new w.a(r,i,s-r,u-i)}))}},{key:"computeRectPartition",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=100,n=t.clone().scale(e).round(),r=this.computeIntegerRectPartition(n).map((function(t){return t.scale(1/e).precision()}));return r}},{key:"computeTangents",value:function(t){return t.concat(t[0]).reduce((function(t,e,n,r){return n>0?t.concat(e.clone().translate(-r[n-1].x,-r[n-1].y).normalize()):[]}),[])}},{key:"createCube",value:function(t,e,n){var r=new c.Mesh(new c.BoxGeometry(e,e,e),n);return r.position.set(t.x,t.y,t.z),r}},{key:"createPolyLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=new l.MeshLine;return n.setPoints(t.map((function(t){return new c.Vector3(t.x,t.y,e)}))),new c.Mesh(n,this.lineMaterial)}},{key:"createGroup",value:function(t,e){var n=new c.Group;return t.forEach((function(t){return n.add(t)})),e&&(n.name=e),n}},{key:"createPath",value:function(t,e){var n=this,r=t.map((function(t){return n.createCube(new c.Vector3(t.x,t.y,.2),.05,n.whiteMaterial)})),o=this.createPolyLine(t,.2);return this.createGroup([].concat(Object(i.a)(r),[o]),e)}},{key:"cutOut",value:function(t,e){return h.a.difference.apply(h.a,[e.map((function(t){return t.geoJson.coordinates}))].concat(Object(i.a)(t.map((function(t){return t.geoJson.coordinates}))))).map((function(t){return k.a.from(t).cleanFinalReps()}))}},{key:"ensureDeltaRad",value:function(t){var e=(t%j+j)%j;return e>Math.PI?e-j:e}},{key:"joinTriangulations",value:function(t){var e,n=[],r=[],o=0,a=E(t);try{for(a.s();!(e=a.n()).done;){var s=e.value;n.push.apply(n,Object(i.a)(s.vs)),r.push.apply(r,Object(i.a)(s.tris.map((function(t){return t.map((function(t){return t+o}))})))),o+=s.vs.length}}catch(u){a.e(u)}finally{a.f()}return{vs:n,tris:r}}},{key:"getLinesIntersection",value:function(t,e,n,r){var i=e.x,o=e.y,a=t.x,s=t.y,u=r.x,c=r.y,l=n.x,f=n.y;return Math.abs(-o*u+i*c)<1e-4?null:(u*(f-s)-c*(l-a))/(o*u-c*i)}},{key:"getMaximalIndependentSet",value:function(t){return x()(t.n,t.m,t.edges)}},{key:"getMaximalMatching",value:function(t){return y()(t.n,t.m,t.edges)}},{key:"getMinimalVertexCover",value:function(t){return g()(t.n,t.m,t.edges)}},{key:"inset",value:function(t,e){var n,o=this;if(0===e)return[t.clone()];var a=[{ring:t.outline,inset:this.insetRing(t.outline,e)}].concat(Object(i.a)(t.holes.map((function(t){return{ring:t,inset:o.insetRing(t,e)}})))).map((function(t){var e=t.ring,n=t.inset;return e.map((function(t,r){return new k.a([e[r].clone(),n[r],n[(r+1)%e.length],e[(r+1)%e.length].clone()])}))})),s=Object(r.a)(a),u=s[0],c=s.slice(1);return e>0?this.cutOut(u.concat.apply(u,Object(i.a)(c)),[t.clone()]):this.union((n=[t.clone()]).concat.apply(n,[u].concat(Object(i.a)(c))))}},{key:"insetRing",value:function(t,e){var n=this,r=this.computeTangents(t),i=t.length,o=t.map((function(n,o){return[n.clone().translate(e*-r[o].y,e*r[o].x),t[(o+1)%i].clone().translate(e*-r[o].y,e*r[o].x)]}));return o.map((function(t,e){var a=(e+1)%i,s=o[a],u=n.getLinesIntersection(t[1],r[e],s[0],r[a]);return u?t[1].translate(u*r[e].x,u*r[e].y):_.b.average([t[1],s[0]])}))}},{key:"isVectorJson",value:function(t){return t&&"number"===typeof t.x&&"number"===typeof t.y}},{key:"isVectorJsonPath",value:function(t){var e=this;return t instanceof Array&&t.every((function(t){return e.isVectorJson(t)}))}},{key:"moveToXY",value:function(t,e){t.position.set(e.x,e.y,t.position.z)}},{key:"projectBox3XY",value:function(t){var e=t.min,n=t.max;return new w.a(Number(e.x.toFixed(2)),Number(e.y.toFixed(2)),Number((n.x-e.x).toFixed(2)),Number((n.y-e.y).toFixed(2)))}},{key:"navPolysToMesh",value:function(t){var e,n,r=t.map((function(t){return t.qualityTriangulate()})),o=this.joinTriangulations(r),a=new c.Geometry;return(e=a.vertices).push.apply(e,Object(i.a)(o.vs.map((function(t){return new c.Vector3(t.x,0,t.y)})))),(n=a.faces).push.apply(n,Object(i.a)(o.tris.map((function(t){return new c.Face3(t[2],t[1],t[0])})))),a.computeVertexNormals(),a.computeFaceNormals(),new c.Mesh((new c.BufferGeometry).fromGeometry(a),new c.MeshNormalMaterial({side:c.DoubleSide}))}},{key:"projectXY",value:function(t){return new _.b(t.x,t.y).precision()}},{key:"projectGeometryXY",value:function(t,e){var n=this,r=[],i=e.vertices.map((function(e){return t.localToWorld(e.clone())}));return e.faces.forEach((function(t){var e=[t.a,t.b,t.c].map((function(t){return i[t]}));e.every((function(t){return Math.abs(t.z)<O.a}))&&r.push(new k.a(e.map(n.projectXY)))})),this.union(r)}},{key:"outset",value:function(t,e){return this.inset(t,-e)}},{key:"randomBipartiteGraph",value:function(t,e,n){return{n:t,m:e,edges:Object(i.a)(Array(t)).reduce((function(t,r,o){return t.concat.apply(t,Object(i.a)(Object(i.a)(Array(e)).map((function(t,e){return Math.random()<n?[[o,e]]:[]}))))}),[])}}},{key:"rayAabbIntersect",value:function(t,e,n){var r=(n.x-t.x)/e.x,i=(n.e-t.x)/e.x,o=(n.y-t.y)/e.y,a=(n.s-t.y)/e.y,s=Math.max(Math.min(r,i),Math.min(o,a)),u=Math.min(Math.max(r,i),Math.max(o,a));return u<0?-1:s>u?-1:{x:t.x+e.x*u,y:t.y+e.y*u}}},{key:"rayLeaveAabbIntersect",value:function(t,e,n){var r=(n.x-t.x)/e.x,i=(n.e-t.x)/e.x,o=(n.y-t.y)/e.y,a=(n.s-t.y)/e.y,s=Math.min(Math.max(r,i),Math.max(o,a));return{x:t.x+e.x*s,y:t.y+e.y*s}}},{key:"removePathReps",value:function(t){var e;return t.reduce((function(t,n){return e&&n.x===e.x&&n.y===e.y||t.push(e=n),t}),[])}},{key:"toThreeGeometry",value:function(t){return(new c.Geometry).fromBufferGeometry(t)}},{key:"toVector3",value:function(t){return new c.Vector3(t.x,t.y)}},{key:"tryParsePoint",value:function(t){var e=Object(S.j)(t);if(this.isVectorJson(e))return e;throw Error("failed to parse ".concat(t))}},{key:"tryParsePath",value:function(t){var e=Object(S.j)(t);if(this.isVectorJsonPath(e))return e;throw Error("failed to parse ".concat(t))}},{key:"union",value:function(t){return h.a.union.apply(h.a,[[]].concat(Object(i.a)(t.map((function(t){return t.geoJson.coordinates}))))).map((function(t){return k.a.from(t).cleanFinalReps()}))}}]),t}())},oniv:function(t,e,n){"use strict";function r(t){return t}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return 0===t.length?r:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}))},pIo5:function(t,e,n){"use strict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1)&&!!t},e.log2=function(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},pVnL:function(t,e){function n(){return t.exports=n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n.apply(this,arguments)}t.exports=n},pmXr:function(t,e,n){"use strict";var r=1e-12;e.EPSILON=r;var i={CW:1,CCW:-1,COLLINEAR:0};e.Orientation=i,e.orient2d=function(t,e,n){var o=(t.x-n.x)*(e.y-n.y)-(t.y-n.y)*(e.x-n.x);return o>-r&&o<r?i.COLLINEAR:o>0?i.CCW:i.CW},e.inScanArea=function(t,e,n,i){return!((t.x-e.x)*(i.y-e.y)-(i.x-e.x)*(t.y-e.y)>=-r)&&!((t.x-n.x)*(i.y-n.y)-(i.x-n.x)*(t.y-n.y)<=r)},e.isAngleObtuse=function(t,e,n){var r=e.x-t.x,i=e.y-t.y;return r*(n.x-t.x)+i*(n.y-t.y)<0}},"rHF+":function(t,e,n){"use strict";var r=n("zqV6"),i=(n("IDFI"),n("Ds9z"));function o(t,e,n,r,i,o,a){if(!(i[e]||r[e]>=0))for(;e>=0;){i[e]=1;for(var s=n[e],u=-1,c=0,l=s.length;c<l;++c){var f=s[c];a[f]||(u=f)}if(u<0)break;a[u]=1,t.push(u),e=o[u]}}t.exports=function(t,e,n){for(var a=i(t,e,n),s=new Array(t),u=r.mallocInt32(t),c=r.mallocInt32(t),l=r.mallocInt32(t),f=0;f<t;++f)s[f]=[],u[f]=-1,c[f]=0,l[f]=0;var h=new Array(e),p=r.mallocInt32(e),d=r.mallocInt32(e);for(f=0;f<e;++f)h[f]=[],p[f]=-1,d[f]=0;f=0;for(var v=a.length;f<v;++f){var y=a[f][0],b=a[f][1];u[y]=b,p[b]=y}for(f=0,v=n.length;f<v;++f){var g=n[f];y=g[0],b=g[1];(u[y]!==b||c[y]++)&&(s[y].push(b),h[b].push(y))}var m=[],x=[];for(f=0;f<t;++f)o(x,f,s,u,l,p,d);for(f=0;f<e;++f)o(m,f,h,p,d,u,l);for(f=0;f<t;++f)!l[f]&&u[f]>=0&&(d[u[f]]=l[f]=1,m.push(f));return r.free(d),r.free(p),r.free(l),r.free(c),r.free(u),[m,x]}},s4An:function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",(function(){return r}))},tjlA:function(t,e,n){"use strict";(function(t){var r=n("H7XF"),i=n("kVK+"),o=n("49sm");function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,n,r):"string"===typeof e?function(t,e,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||(r=e.length)!==r?s(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(r)return V(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return j(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:g(t,e,n,r,i);if("number"===typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):g(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(t,o+h)!==c(e,h)){f=!1;break}if(f)return o}return-1}function m(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function x(t,e,n,r){return G(V(e,t.length-n),t,n,r)}function w(t,e,n,r){return G(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function k(t,e,n,r){return w(t,e,n,r)}function _(t,e,n,r){return G(W(e),t,n,r)}function O(t,e,n,r){return G(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,c=t[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128===(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],a=t[i+2],128===(192&o)&&128===(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(t){var e=t.length;if(e<=P)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=P));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"===typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):v.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=t.slice(e,n),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return k(this,t,e,n);case"base64":return _(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function j(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function C(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=D(t[o]);return i}function I(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function T(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function N(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function M(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,r,o){return o||M(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,o){return o||M(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||T(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||T(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||T(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||T(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||T(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||T(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||T(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||T(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||T(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||R(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||R(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:V(new u(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function D(t){return t<16?"0"+t.toString(16):t.toString(16)}function V(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function G(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n("yLpj"))},"u5V+":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("RHh3"),i=n("KQm4"),o=n("1OyB"),a=n("vuIU"),s=n("UYus"),u=function(){function t(e,n,r,i){Object(o.a)(this,t),this.x=e,this.y=n,this.width=r,this.height=i}return Object(a.a)(t,[{key:"clone",value:function(){return new t(this.x,this.y,this.width,this.height)}},{key:"contains",value:function(t){var e=t.x,n=t.y;return this.x<=e&&e<=this.x+this.width&&this.y<=n&&n<=this.y+this.height}},{key:"intersects",value:function(t){return 2*Math.abs(this.cx-t.cx)<this.width+t.width&&2*Math.abs(this.cy-t.cy)<=this.height+t.height||2*Math.abs(this.cx-t.cx)<=this.width+t.width&&2*Math.abs(this.cy-t.cy)<this.height+t.height}},{key:"outset",value:function(t){return this.x-=t,this.y-=t,this.width+=2*t,this.height+=2*t,this}},{key:"precision",value:function(){return this.x=Number(this.x.toFixed(2)),this.y=Number(this.y.toFixed(2)),this.width=Number(this.width.toFixed(2)),this.height=Number(this.height.toFixed(2)),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.width=Math.round(this.width),this.height=Math.round(this.height),this}},{key:"scale",value:function(t){return this.x*=t,this.y*=t,this.width*=t,this.height*=t,this}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y,",").concat(this.width,",").concat(this.height)}},{key:"translate",value:function(t,e){return this.x+=t,this.y+=e,this}},{key:"center",get:function(){return new s.b(this.x+this.width/2,this.y+this.height/2)}},{key:"cx",get:function(){return this.x+.5*this.width}},{key:"cy",get:function(){return this.y+.5*this.height}},{key:"e",get:function(){return this.x+this.width}},{key:"json",get:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},{key:"ne",get:function(){return new s.b(this.x+this.width,this.y)}},{key:"nw",get:function(){return new s.b(this.x,this.y)}},{key:"points",get:function(){return[new s.b(this.x,this.y),new s.b(this.x,this.y+this.height),new s.b(this.x+this.width,this.y+this.height),new s.b(this.x+this.width,this.y)]}},{key:"s",get:function(){return this.y+this.height}},{key:"se",get:function(){return new s.b(this.x+this.width,this.y+this.height)}},{key:"sw",get:function(){return new s.b(this.x,this.y+this.height)}}],[{key:"from",value:function(e){return new t(e.x,e.y,e.width,e.height)}},{key:"fromPoints",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length){var i=n[0].x,o=n[0].y,a=i,s=o;return n.forEach((function(t){i=Math.min(i,t.x),a=Math.max(a,t.x),o=Math.min(o,t.y),s=Math.max(s,t.y)})),new t(i,o,a-i,s-o)}return t.zero}},{key:"fromString",value:function(e){return Object(r.a)(t,Object(i.a)(e.split(",").map(Number)))}},{key:"union",value:function(e){return t.fromPoints.apply(t,Object(i.a)(e.flatMap((function(t){return[t.nw,t.se]}))))}},{key:"zero",get:function(){return new t(0,0,0,0)}}]),t}()},uh0p:function(t,e,n){"use strict";const r=n("1EQW"),i=n("gabW"),o=n("xiUG"),a=(t="",e="",n=!1)=>{let r=[];if(t=[].concat(t),!(e=[].concat(e)).length)return t;if(!t.length)return n?o.flatten(e).map(t=>`{${t}}`):e;for(let i of t)if(Array.isArray(i))for(let t of i)r.push(a(t,e,n));else for(let t of e)!0===n&&"string"===typeof t&&(t=`{${t}}`),r.push(Array.isArray(t)?a(i,t,n):i+t);return o.flatten(r)};t.exports=(t,e={})=>{let n=void 0===e.rangeLimit?1e3:e.rangeLimit,s=(t,u={})=>{t.queue=[];let c=u,l=u.queue;for(;"brace"!==c.type&&"root"!==c.type&&c.parent;)c=c.parent,l=c.queue;if(t.invalid||t.dollar)return void l.push(a(l.pop(),i(t,e)));if("brace"===t.type&&!0!==t.invalid&&2===t.nodes.length)return void l.push(a(l.pop(),["{}"]));if(t.nodes&&t.ranges>0){let s=o.reduce(t.nodes);if(o.exceedsLimit(...s,e.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let u=r(...s,e);return 0===u.length&&(u=i(t,e)),l.push(a(l.pop(),u)),void(t.nodes=[])}let f=o.encloseBrace(t),h=t.queue,p=t;for(;"brace"!==p.type&&"root"!==p.type&&p.parent;)p=p.parent,h=p.queue;for(let e=0;e<t.nodes.length;e++){let n=t.nodes[e];"comma"!==n.type||"brace"!==t.type?"close"!==n.type?n.value&&"open"!==n.type?h.push(a(h.pop(),n.value)):n.nodes&&s(n,t):l.push(a(l.pop(),h,f)):(1===e&&h.push(""),h.push(""))}return h};return o.flatten(s(t))}},um9G:function(t,e,n){"use strict";const r=[],i=/$|[!-@[-`{-~][\s\S]*/g,o=Array.isArray,a=function(t){if(""===t)return"";if("false"===t)return!1;const e=Number(t);return 0*e===0?e:t},s=function(t,e,n){let i,o,a,s,u,c,l={};if(void 0!==e)for(u=0,a=e.length;u<a;u++)if(i=e[u],o=t[i],l[i]=n,void 0===o)t[i]=r;else for(c=0,s=o.length;c<s;c++)l[o[c]]=n;return l},u=function(t,e,n,r,i){let a,s,u=r[e],c=void 0===u?-1:u.length;if(c>=0||void 0===i||i(e))for(s=t[e],void 0===s?t[e]=n:o(s)?s.push(n):t[e]=[s,n],a=0;a<c;a++)t[u[a]]=t[e]};t.exports=function(t,e){let n,c,l,f,h,p=(e=e||{}).unknown,d=function(t){let e,n,r,i,a,s,u,c={};for(e in t)for(a=t[e],n=c[e]=o(a)?a:[a],s=0,i=n.length;s<i;s++)for(r=c[n[s]]=[e],u=0;u<i;u++)s!==u&&r.push(n[u]);return c}(e.alias),v=s(d,e.string,""),y=function(t,e){let n,i,o,a,s,u={};for(n in e)if(o=e[n],i=t[n],u[n]=o,void 0===i)t[n]=r;else for(s=0,a=i.length;s<a;s++)u[i[s]]=o;return u}(d,e.default),b=s(d,e.boolean,!1),g=e.stopEarly,m=[],x={_:m},w=0,k=0,_=t.length;for(;w<_;w++)if(c=t[w],"-"!==c[0]||"-"===c)if(g)for(;w<_;)m.push(t[w++]);else m.push(c);else if("--"===c)for(;++w<_;)m.push(t[w]);else if("-"===c[1])l=c.indexOf("=",2),"n"===c[2]&&"o"===c[3]&&"-"===c[4]?(n=c.slice(5,l>=0?l:void 0),h=!1):l>=0?(n=c.slice(2,l),h=void 0!==b[n]||(void 0===v[n]?a(c.slice(l+1)):c.slice(l+1))):(n=c.slice(2),h=void 0!==b[n]||(_===w+1||"-"===t[w+1][0]?void 0===v[n]||"":void 0===v[n]?a(t[++w]):t[++w])),u(x,n,h,d,p);else for(i.lastIndex=2,f=i.exec(c),l=f.index,h=f[0],k=1;k<l;k++)u(x,n=c[k],k+1<l?void 0===v[n]||c.substring(k+1,k=l)+h:""===h?_===w+1||"-"===t[w+1][0]?void 0===v[n]||"":void 0!==b[n]||(void 0===v[n]?a(t[++w]):t[++w]):void 0!==b[n]||(void 0===v[n]?a(h):h),d,p);for(n in y)void 0===x[n]&&(x[n]=y[n]);for(n in b)void 0===x[n]&&(x[n]=!1);for(n in v)void 0===x[n]&&(x[n]="");return x}},uzmL:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={now:function(){return(r.delegate||Date).now()},delegate:void 0}},"vU+U":function(t,e,n){(function(e){const n="win32"===e.platform,r=n?"\\\\+":"\\/",i=n?"\\\\":"/",o="((?:[^/]*(?:/|$))*)",a="([^/]*)",s=`((?:[^${i}]*(?:${i}|$))*)`,u=`([^${i}]*)`;t.exports=function(t,{extended:e=!1,globstar:n=!1,strict:i=!1,filepath:c=!1,flags:l=""}={}){let f="",h="",p={regex:"",segments:[]},d=!1,v=!1;const y=[];function b(t,{split:e,last:n,only:i}={}){"path"!==i&&(f+=t),c&&"regex"!==i&&(p.regex+="\\/"===t?r:t,e?(n&&(h+=t),""!==h&&(l.includes("g")||(h=`^${h}$`),p.segments.push(new RegExp(h,l))),h=""):h+=t)}let g,m;for(let r=0;r<t.length;r++)if(g=t[r],m=t[r+1],["\\","$","^",".","="].includes(g))b(`\\${g}`);else if("/"!==g)if("("!==g)if(")"!==g)if("|"!==g)if("+"!==g)if("@"===g&&e&&"("===m)y.push(g);else if("!"!==g)if("?"!==g)if("["!==g)if("]"!==g)if("{"!==g)if("}"!==g)if(","!==g)if("*"!==g)b(g);else{if("("===m&&e){y.push(g);continue}let i=t[r-1],c=1;for(;"*"===t[r+1];)c++,r++;let l=t[r+1];if(n){c>1&&("/"===i||void 0===i)&&("/"===l||void 0===l)?(b(o,{only:"regex"}),b(s,{only:"path",last:!0,split:!0}),r++):(b(a,{only:"regex"}),b(u,{only:"path"}))}else b(".*")}else{if(d){b("|");continue}b(`\\${g}`)}else{if(e){d=!1,b(")");continue}b(`\\${g}`)}else{if(e){d=!0,b("(");continue}b(`\\${g}`)}else{if(e){v=!1,b(g);continue}b(`\\${g}`)}else{if(v&&":"===m){r++;let e="";for(;":"!==t[++r];)e+=t[r];"alnum"===e?b("(\\w|\\d)"):"space"===e?b("\\s"):"digit"===e&&b("\\d"),r++;continue}if(e){v=!0,b(g);continue}b(`\\${g}`)}else{if(e){"("===m?y.push(g):b(".");continue}b(`\\${g}`)}else{if(e){if(v){b("^");continue}if("("===m){y.push(g),b("(?!"),r++;continue}b(`\\${g}`);continue}b(`\\${g}`)}else{if("("===m&&e){y.push(g);continue}b(`\\${g}`)}else{if(y.length){b(g);continue}b(`\\${g}`)}else{if(y.length){b(g);let t=y.pop();b("@"===t?"{1}":"!"===t?"([^/]*)":t);continue}b(`\\${g}`)}else{if(y.length){b(g);continue}b(`\\${g}`)}else b(`\\${g}`,{split:!0}),"/"!==m||i||(f+="?");l.includes("g")||(f=`^${f}$`,h=`^${h}$`,c&&(p.regex=`^${p.regex}$`));const x={regex:new RegExp(f,l)};return c&&(p.segments.push(new RegExp(h,l)),p.regex=new RegExp(p.regex,l),p.globstar=new RegExp(l.includes("g")?s:`^${s}$`,l),x.path=p),x}}).call(this,n("8oxB"))},vZIR:function(t,e,n){"use strict";var r=n("Qfp6"),i=n("CR0S"),o=n("5R+2");t.exports=function(t){for(var e,n=0,a="";!e;)a+=o(i,r.get(),1),e=t<Math.pow(16,n+1),n++;return a}},vuIU:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return i}))},xiUG:function(t,e,n){"use strict";e.isInteger=t=>"number"===typeof t?Number.isInteger(t):"string"===typeof t&&""!==t.trim()&&Number.isInteger(Number(t)),e.find=(t,e)=>t.nodes.find(t=>t.type===e),e.exceedsLimit=(t,n,r=1,i)=>!1!==i&&(!(!e.isInteger(t)||!e.isInteger(n))&&(Number(n)-Number(t))/Number(r)>=i),e.escapeNode=(t,e=0,n)=>{let r=t.nodes[e];r&&(n&&r.type===n||"open"===r.type||"close"===r.type)&&!0!==r.escaped&&(r.value="\\"+r.value,r.escaped=!0)},e.encloseBrace=t=>"brace"===t.type&&(t.commas>>0+t.ranges>>0===0&&(t.invalid=!0,!0)),e.isInvalidBrace=t=>"brace"===t.type&&(!(!0!==t.invalid&&!t.dollar)||(t.commas>>0+t.ranges>>0===0?(t.invalid=!0,!0):(!0!==t.open||!0!==t.close)&&(t.invalid=!0,!0))),e.isOpenOrClose=t=>"open"===t.type||"close"===t.type||(!0===t.open||!0===t.close),e.reduce=t=>t.reduce((t,e)=>("text"===e.type&&t.push(e.value),"range"===e.type&&(e.type="text"),t),[]),e.flatten=(...t)=>{const e=[],n=t=>{for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?n(i,e):void 0!==i&&e.push(i)}return e};return n(t),e}},yDnf:function(t,e,n){"use strict";var r=n("q1tI");function i(t){let e;const n=new Set,r=(t,r)=>{const i="function"===typeof t?t(e):t;i!==e&&(e=r?i:Object.assign({},e,i),n.forEach(t=>t(e)))},i=()=>e,o={setState:r,getState:i,subscribe:(t,r,o)=>r||o?((t,r=i,o=Object.is)=>{let a=r(e);function s(){try{const n=r(e);o(a,n)||t(a=n)}catch(n){t(null,n)}}return n.add(s),()=>n.delete(s)})(t,r,o):(n.add(t),()=>n.delete(t)),destroy:()=>n.clear()};return e=t(r,i,o),o}const o="undefined"===typeof window?r.useEffect:r.useLayoutEffect;e.a=function(t){const e="function"===typeof t?i(t):t,n=(t=e.getState,n=Object.is)=>{const i=Object(r.useReducer)(t=>t+1,0)[1],a=Object(r.useRef)(),s=Object(r.useRef)(t),u=Object(r.useRef)(n),c=Object(r.useRef)(!1),l=e.getState();let f;void 0===a.current&&(a.current=t(l));let h=!1;(s.current!==t||u.current!==n||c.current)&&(f=t(l),h=!n(a.current,f)),o(()=>{h&&(a.current=f),s.current=t,u.current=n,c.current=!1});const p=Object(r.useRef)(l);return Object(r.useEffect)(()=>{const t=()=>{try{const t=s.current(e.getState());u.current(a.current,t)||(a.current=t,i())}catch(t){c.current=!0,i()}},n=e.subscribe(t);return e.getState()!==p.current&&t(),n},[]),h?f:a.current};return Object.assign(n,e),n[Symbol.iterator]=function*(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4"),yield n,yield e},n}},yLpj:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},zHcz:function(t,e,n){"use strict";function r(t,e,n,r,i,o){var a=["function ",t,"(a,l,h,",r.join(","),"){",o?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",i?".get(m)":"[m]"];return o?e.indexOf("c")<0?a.push(";if(x===y){return m}else if(x<=y){"):a.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):a.push(";if(",e,"){i=m;"),n?a.push("l=m+1}else{h=m-1}"):a.push("h=m-1}else{l=m+1}"),a.push("}"),o?a.push("return -1};"):a.push("return i};"),a.join("")}function i(t,e,n,i){return new Function([r("A","x"+t+"y",e,["y"],!1,i),r("B","x"+t+"y",e,["y"],!0,i),r("P","c(x,y)"+t+"0",e,["y","c"],!1,i),r("Q","c(x,y)"+t+"0",e,["y","c"],!0,i),"function dispatchBsearch",n,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",n].join(""))()}t.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},zT9C:function(t,e,n){(function(t,n){var r=200,i="__lodash_hash_undefined__",o=9007199254740991,a="[object Arguments]",s="[object Boolean]",u="[object Date]",c="[object Function]",l="[object GeneratorFunction]",f="[object Map]",h="[object Number]",p="[object Object]",d="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",g="[object ArrayBuffer]",m="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",k="[object Int8Array]",_="[object Int16Array]",O="[object Int32Array]",S="[object Uint8Array]",E="[object Uint8ClampedArray]",P="[object Uint16Array]",j="[object Uint32Array]",A=/\w*$/,C=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,T={};T[a]=T["[object Array]"]=T[g]=T[m]=T[s]=T[u]=T[x]=T[w]=T[k]=T[_]=T[O]=T[f]=T[h]=T[p]=T[d]=T[v]=T[y]=T[b]=T[S]=T[E]=T[P]=T[j]=!0,T["[object Error]"]=T[c]=T["[object WeakMap]"]=!1;var R="object"==typeof t&&t&&t.Object===Object&&t,N="object"==typeof self&&self&&self.Object===Object&&self,L=R||N||Function("return this")(),M=e&&!e.nodeType&&e,B=M&&"object"==typeof n&&n&&!n.nodeType&&n,U=B&&B.exports===M;function F(t,e){return t.set(e[0],e[1]),t}function D(t,e){return t.add(e),t}function V(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function W(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function G(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function K(t,e){return function(n){return t(e(n))}}function H(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var z=Array.prototype,$=Function.prototype,Y=Object.prototype,q=L["__core-js_shared__"],X=function(){var t=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),J=$.toString,Q=Y.hasOwnProperty,Z=Y.toString,tt=RegExp("^"+J.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=U?L.Buffer:void 0,nt=L.Symbol,rt=L.Uint8Array,it=K(Object.getPrototypeOf,Object),ot=Object.create,at=Y.propertyIsEnumerable,st=z.splice,ut=Object.getOwnPropertySymbols,ct=et?et.isBuffer:void 0,lt=K(Object.keys,Object),ft=Mt(L,"DataView"),ht=Mt(L,"Map"),pt=Mt(L,"Promise"),dt=Mt(L,"Set"),vt=Mt(L,"WeakMap"),yt=Mt(Object,"create"),bt=Vt(ft),gt=Vt(ht),mt=Vt(pt),xt=Vt(dt),wt=Vt(vt),kt=nt?nt.prototype:void 0,_t=kt?kt.valueOf:void 0;function Ot(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Pt(t){this.__data__=new St(t)}function jt(t,e){var n=Gt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Kt(t)}(t)&&Q.call(t,"callee")&&(!at.call(t,"callee")||Z.call(t)==a)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!Q.call(t,o)||i&&("length"==o||Ft(o,r))||n.push(o);return n}function At(t,e,n){var r=t[e];Q.call(t,e)&&Wt(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function Ct(t,e){for(var n=t.length;n--;)if(Wt(t[n][0],e))return n;return-1}function It(t,e,n,r,i,o,C){var I;if(r&&(I=o?r(t,i,o,C):r(t)),void 0!==I)return I;if(!$t(t))return t;var R=Gt(t);if(R){if(I=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&Q.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,I)}else{var N=Ut(t),L=N==c||N==l;if(Ht(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(N==p||N==a||L&&!o){if(W(t))return o?t:{};if(I=function(t){return"function"!=typeof t.constructor||Dt(t)?{}:(e=it(t),$t(e)?ot(e):{});var e}(L?{}:t),!e)return function(t,e){return Nt(t,Bt(t),e)}(t,function(t,e){return t&&Nt(e,Yt(e),t)}(I,t))}else{if(!T[N])return o?t:{};I=function(t,e,n,r){var i=t.constructor;switch(e){case g:return Rt(t);case s:case u:return new i(+t);case m:return function(t,e){var n=e?Rt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case x:case w:case k:case _:case O:case S:case E:case P:case j:return function(t,e){var n=e?Rt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case f:return function(t,e,n){return V(e?n(G(t),!0):G(t),F,new t.constructor)}(t,r,n);case h:case y:return new i(t);case d:return function(t){var e=new t.constructor(t.source,A.exec(t));return e.lastIndex=t.lastIndex,e}(t);case v:return function(t,e,n){return V(e?n(H(t),!0):H(t),D,new t.constructor)}(t,r,n);case b:return o=t,_t?Object(_t.call(o)):{}}var o}(t,N,It,e)}}C||(C=new Pt);var M=C.get(t);if(M)return M;if(C.set(t,I),!R)var B=n?function(t){return function(t,e,n){var r=e(t);return Gt(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Yt,Bt)}(t):Yt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(B||t,(function(i,o){B&&(i=t[o=i]),At(I,o,It(i,e,n,r,o,t,C))})),I}function Tt(t){return!(!$t(t)||(e=t,X&&X in e))&&(zt(t)||W(t)?tt:C).test(Vt(t));var e}function Rt(t){var e=new t.constructor(t.byteLength);return new rt(e).set(new rt(t)),e}function Nt(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=r?r(n[a],t[a],a,n,t):void 0;At(n,a,void 0===s?t[a]:s)}return n}function Lt(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Mt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Tt(n)?n:void 0}Ot.prototype.clear=function(){this.__data__=yt?yt(null):{}},Ot.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ot.prototype.get=function(t){var e=this.__data__;if(yt){var n=e[t];return n===i?void 0:n}return Q.call(e,t)?e[t]:void 0},Ot.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:Q.call(e,t)},Ot.prototype.set=function(t,e){return this.__data__[t]=yt&&void 0===e?i:e,this},St.prototype.clear=function(){this.__data__=[]},St.prototype.delete=function(t){var e=this.__data__,n=Ct(e,t);return!(n<0)&&(n==e.length-1?e.pop():st.call(e,n,1),!0)},St.prototype.get=function(t){var e=this.__data__,n=Ct(e,t);return n<0?void 0:e[n][1]},St.prototype.has=function(t){return Ct(this.__data__,t)>-1},St.prototype.set=function(t,e){var n=this.__data__,r=Ct(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Et.prototype.clear=function(){this.__data__={hash:new Ot,map:new(ht||St),string:new Ot}},Et.prototype.delete=function(t){return Lt(this,t).delete(t)},Et.prototype.get=function(t){return Lt(this,t).get(t)},Et.prototype.has=function(t){return Lt(this,t).has(t)},Et.prototype.set=function(t,e){return Lt(this,t).set(t,e),this},Pt.prototype.clear=function(){this.__data__=new St},Pt.prototype.delete=function(t){return this.__data__.delete(t)},Pt.prototype.get=function(t){return this.__data__.get(t)},Pt.prototype.has=function(t){return this.__data__.has(t)},Pt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof St){var i=n.__data__;if(!ht||i.length<r-1)return i.push([t,e]),this;n=this.__data__=new Et(i)}return n.set(t,e),this};var Bt=ut?K(ut,Object):function(){return[]},Ut=function(t){return Z.call(t)};function Ft(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||I.test(t))&&t>-1&&t%1==0&&t<e}function Dt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Y)}function Vt(t){if(null!=t){try{return J.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Wt(t,e){return t===e||t!==t&&e!==e}(ft&&Ut(new ft(new ArrayBuffer(1)))!=m||ht&&Ut(new ht)!=f||pt&&"[object Promise]"!=Ut(pt.resolve())||dt&&Ut(new dt)!=v||vt&&"[object WeakMap]"!=Ut(new vt))&&(Ut=function(t){var e=Z.call(t),n=e==p?t.constructor:void 0,r=n?Vt(n):void 0;if(r)switch(r){case bt:return m;case gt:return f;case mt:return"[object Promise]";case xt:return v;case wt:return"[object WeakMap]"}return e});var Gt=Array.isArray;function Kt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!zt(t)}var Ht=ct||function(){return!1};function zt(t){var e=$t(t)?Z.call(t):"";return e==c||e==l}function $t(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Yt(t){return Kt(t)?jt(t):function(t){if(!Dt(t))return lt(t);var e=[];for(var n in Object(t))Q.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}n.exports=function(t){return It(t,!0,!0)}}).call(this,n("yLpj"),n("YuTi")(t))},zodg:function(t,e,n){"use strict";t.exports=function(t,e){if(!t)throw new Error(e||"Assert Failed")}},zqV6:function(t,e,n){"use strict";(function(t){var r=n("pIo5"),i=n("hK8l"),o=n("tjlA").Buffer;t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var a="undefined"!==typeof Uint8ClampedArray,s="undefined"!==typeof BigUint64Array,u="undefined"!==typeof BigInt64Array,c=t.__TYPEDARRAY_POOL;c.UINT8C||(c.UINT8C=i([32,0])),c.BIGUINT64||(c.BIGUINT64=i([32,0])),c.BIGINT64||(c.BIGINT64=i([32,0])),c.BUFFER||(c.BUFFER=i([32,0]));var l=c.DATA,f=c.BUFFER;function h(t){if(t){var e=t.length||t.byteLength,n=r.log2(e);l[n].push(t)}}function p(t){t=r.nextPow2(t);var e=r.log2(t),n=l[e];return n.length>0?n.pop():new ArrayBuffer(t)}function d(t){return new Uint8Array(p(t),0,t)}function v(t){return new Uint16Array(p(2*t),0,t)}function y(t){return new Uint32Array(p(4*t),0,t)}function b(t){return new Int8Array(p(t),0,t)}function g(t){return new Int16Array(p(2*t),0,t)}function m(t){return new Int32Array(p(4*t),0,t)}function x(t){return new Float32Array(p(4*t),0,t)}function w(t){return new Float64Array(p(8*t),0,t)}function k(t){return a?new Uint8ClampedArray(p(t),0,t):d(t)}function _(t){return s?new BigUint64Array(p(8*t),0,t):null}function O(t){return u?new BigInt64Array(p(8*t),0,t):null}function S(t){return new DataView(p(t),0,t)}function E(t){t=r.nextPow2(t);var e=r.log2(t),n=f[e];return n.length>0?n.pop():new o(t)}e.free=function(t){if(o.isBuffer(t))f[r.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,n=0|r.log2(e);l[n].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeBigUint64=e.freeInt8=e.freeInt16=e.freeInt32=e.freeBigInt64=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=function(t){h(t.buffer)},e.freeArrayBuffer=h,e.freeBuffer=function(t){f[r.log2(t.length)].push(t)},e.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return p(t);switch(e){case"uint8":return d(t);case"uint16":return v(t);case"uint32":return y(t);case"int8":return b(t);case"int16":return g(t);case"int32":return m(t);case"float":case"float32":return x(t);case"double":case"float64":return w(t);case"uint8_clamped":return k(t);case"bigint64":return O(t);case"biguint64":return _(t);case"buffer":return E(t);case"data":case"dataview":return S(t);default:return null}return null},e.mallocArrayBuffer=p,e.mallocUint8=d,e.mallocUint16=v,e.mallocUint32=y,e.mallocInt8=b,e.mallocInt16=g,e.mallocInt32=m,e.mallocFloat32=e.mallocFloat=x,e.mallocFloat64=e.mallocDouble=w,e.mallocUint8Clamped=k,e.mallocBigUint64=_,e.mallocBigInt64=O,e.mallocDataView=S,e.mallocBuffer=E,e.clearCache=function(){for(var t=0;t<32;++t)c.UINT8[t].length=0,c.UINT16[t].length=0,c.UINT32[t].length=0,c.INT8[t].length=0,c.INT16[t].length=0,c.INT32[t].length=0,c.FLOAT[t].length=0,c.DOUBLE[t].length=0,c.BIGUINT64[t].length=0,c.BIGINT64[t].length=0,c.UINT8C[t].length=0,l[t].length=0,f[t].length=0}}).call(this,n("yLpj"))}}]);