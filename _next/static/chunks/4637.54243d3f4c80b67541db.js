"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4637],{34637:function(n,t,e){e.r(t),e.d(t,{default:function(){return m}});var o,r=e(52209),i=e(92809),a=(e(59748),e(88269)),c=e(35490),s=e(91441),p=e(48103),l=e(83159),u=e(95814),d=e(19964),f=e(8311);function v(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,o)}return e}function h(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?v(Object(e),!0).forEach((function(t){(0,i.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):v(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function m(n){var t=(0,u.Z)(n.layoutKey).data,e=(0,d.Z)(n.layoutKey,t,n.disabled).data;return(0,f.BX)(l.Z,{gridBounds:c.l,initViewBox:y,maxZoom:6,className:g,dark:!0,children:[t&&(0,f.tZ)("image",h(h({},t.pngRect),{},{className:"geomorph",href:(0,s.qX)(n.layoutKey)})),e&&!n.disabled&&(0,f.BX)(f.HY,{children:[e.graph.nodesArray.map((function(n,t,e){var o=n.id,r=n.centroid,i=n.neighbours;return(0,f.tZ)("g",{children:i.map((function(n){return(0,f.tZ)("line",{className:"edge",x1:r.x,y1:r.y,x2:e[n].centroid.x,y2:e[n].centroid.y})}))},o)})),e.graph.nodesArray.map((function(n){var t=n.vertexIds;return(0,f.tZ)("polygon",{className:"navtri",points:"".concat(t.map((function(n){return e.graph.vectors[n]})))})})),e.graph.nodesArray.map((function(n){var t=n.id,e=n.centroid;return(0,f.tZ)("circle",{className:"node",cx:e.x,cy:e.y,r:2},t)}))]})]})}var g=(0,a.iv)(o||(o=(0,r.Z)(["\n  image.geomorph {\n    /* filter: invert(); */\n  }\n  circle.node {\n    fill: #ff000068;\n    pointer-events: none;\n  }\n  line.edge {\n    stroke: #900;\n    stroke-width: 1;\n    pointer-events: none;\n  }\n\n  polygon.navtri {\n    fill: transparent;\n    transition: fill 0.3s;\n    &:hover, &:active, &:focus {\n      fill: #8080ff37;\n      stroke: rgba(0, 0, 255, 0.3);\n    }\n  }  \n"]))),y=new p.UL(0,0,600,600)},35490:function(n,t,e){e.d(t,{l:function(){return r},r:function(){return i}});var o=e(48103),r=new o.UL(-5e3,-5e3,10001,10001),i=new o.UL(0,0,1200,600)},83159:function(n,t,e){e.d(t,{Z:function(){return f}});var o,r=e(52209),i=e(79056),a=e(59748),c=e(88269),s=e(94184),p=e.n(s),l=e(48103),u=e(50269),d=e(8311);function f(n){var t=a.useState((function(){var t=n.initViewBox.clone(),i=n.minZoom||.5,a=n.maxZoom||2;return{viewBox:t,panFrom:null,zoom:n.initZoom||1,ptrs:[],ptrDiff:null,root:{},rootCss:(0,c.iv)(o||(o=(0,r.Z)(["\n        width: 100%;\n        height: 100%;\n\n        touch-action: pan-x pan-y pinch-zoom;\n        background-color: ",";\n\n        > g.content {\n          /** TODO justification? */\n          shape-rendering: ",";\n        }\n        > .grid {\n          pointer-events: none;\n        }\n      "])),n.dark?"#000":"none",(0,u.us)()?"optimizeSpeed":"auto"),onPointerDown:function(n){(0,u.af)(n)&&e.ptrs.length<2&&(e.panFrom=(new l.dl).copy((0,u.zk)((0,u.Xs)(n))),e.ptrs.push((0,u.Xs)(n)))},onPointerMove:function(o){if(e.ptrs=e.ptrs.map((function(n){return n.pointerId===o.pointerId?(0,u.Xs)(o):n})),2===e.ptrs.length){var r=Math.abs(e.ptrs[1].clientX-e.ptrs[0].clientX);if(null!==e.ptrDiff){var i,a=(0,u._Y)(e.ptrs);e.zoomTo(a,.02*(r-e.ptrDiff)),e.root.setAttribute("viewBox","".concat(e.viewBox)),null===(i=n.onUpdate)||void 0===i||i.call(n,e.root)}e.ptrDiff=r}else if(e.panFrom){var c,s=(0,u.zk)((0,u.Xs)(o));t.delta(e.panFrom.x-s.x,e.panFrom.y-s.y),e.root.setAttribute("viewBox","".concat(e.viewBox)),null===(c=n.onUpdate)||void 0===c||c.call(n,e.root)}},onPointerUp:function(n){e.panFrom=null,e.ptrs=e.ptrs.filter((function(t){return n.pointerId!==t.pointerId})),e.ptrs.length<2&&(e.ptrDiff=null),1===e.ptrs.length&&(e.panFrom=(new l.dl).copy((0,u.zk)(e.ptrs[0])))},onTouchStart:function(n){n.preventDefault()},onWheel:function(t){if(t.preventDefault(),(0,u.af)(t)){var o,r=(0,u.zk)((0,u.Xs)(t));e.zoomTo(r,-.003*t.deltaY),e.root.setAttribute("viewBox","".concat(e.viewBox)),null===(o=n.onUpdate)||void 0===o||o.call(n,e.root)}},rootRef:function(n){n&&(e.root=n,n.addEventListener("wheel",e.onWheel,{passive:!1}),n.addEventListener("pointerdown",e.onPointerDown,{passive:!0}),n.addEventListener("pointermove",e.onPointerMove,{passive:!0}),n.addEventListener("pointerup",e.onPointerUp,{passive:!0}),n.addEventListener("pointercancel",e.onPointerUp,{passive:!0}),n.addEventListener("pointerleave",e.onPointerUp,{passive:!0}),n.addEventListener("touchstart",e.onTouchStart,{passive:!1}))},zoomTo:function(o,r){var c=Math.min(Math.max(e.zoom+r,i),a);t.x=e.zoom/c*(t.x-o.x)+o.x,t.y=e.zoom/c*(t.y-o.y)+o.y,t.width=1/c*n.initViewBox.width,t.height=1/c*n.initViewBox.height,e.zoom=c}}})),e=(0,i.Z)(t,1)[0];return(0,d.BX)("svg",{ref:e.rootRef,className:e.rootCss,preserveAspectRatio:"xMinYMin slice",viewBox:"".concat(e.viewBox),children:[(0,d.tZ)("g",{className:p()("content",n.className),children:n.children}),(0,d.tZ)(v,{bounds:n.gridBounds,dark:n.dark})]})}function v(n){var t=a.useMemo((function(){return h++}),[]);return(0,d.tZ)(d.HY,{children:[10,60].flatMap((function(e){return[(0,d.tZ)("defs",{children:(0,d.tZ)("pattern",{id:"pattern-grid-".concat(e,"x").concat(e,"--").concat(t),width:e,height:e,patternUnits:"userSpaceOnUse",children:(0,d.tZ)("path",{d:"M ".concat(e," 0 L 0 0 0 ").concat(e),fill:"none",stroke:n.dark?"rgba(200,200,200,0.2)":"rgba(0,0,0,0.5)",strokeWidth:"0.3"})})}),(0,d.tZ)("rect",{className:"grid",x:n.bounds.x,y:n.bounds.y,width:n.bounds.width,height:n.bounds.height,fill:"url(#pattern-grid-".concat(e,"x").concat(e,"--").concat(t,")")})]}))})}var h=0}}]);