"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3584],{49071:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(52209),o=t(79056),i=t(59748),c=t(88269),u=t(39944),l=t(20296),s=t(6320),a=t(50269),f=t(56127);var d,v=t(59885),p=t(35650),g=t(8311);function w(e){var n=(0,p.Z)((function(){return{onClick:function(n){var t=n.target,r=e.session.ttyShell.xterm;if(r.xterm.scrollToBottom(),t.classList.contains("lowercase")){var o=r.forceLowerCase=!r.forceLowerCase,i=r.hasInput()?"\n\r":"",c="input ".concat(o?"forced as":"not forced as"," lowercase");f.default.api.warn(e.session.key,"".concat(i,"\u26a0\ufe0f  ").concat(c))}else t.classList.contains("up")?r.reqHistoryLine(1):t.classList.contains("down")&&r.reqHistoryLine(-1)}}}));return(0,g.BX)("div",{className:b,onClick:n.onClick,style:{top:"".concat(e.offset,"px")},children:[(0,g.tZ)("div",{className:"lowercase",children:"\ud83d\udd24"}),(0,g.tZ)("div",{className:"up",children:"\ud83d\udd3a"}),(0,g.tZ)("div",{className:"down",children:"\ud83d\udd3b"})]})}var y,b=(0,c.iv)(d||(d=(0,r.Z)(["\n  position: absolute;\n  z-index: 100000;\n  top: 0;\n  right: 16px;\n  width: 32px;\n  height: 90px;\n\n  line-height: 1;\n  background-color: rgba(255, 255, 255, 0.25);\n  font-size: 1rem;\n  border: 1px solid #555;\n  border-width: 1px 1px 1px 1px;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transition: top 500ms ease;\n\n  .lowercase {\n    filter: saturate(200%);\n  }\n  .up, .down {\n    filter: brightness(0%) invert(100%);\n  }\n  .lowercase, .up, .down {\n    cursor: pointer;\n    width: 100%;\n    text-align: center;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n"])));function h(e){var n=e.sessionKey,t=e.env,r=(0,f.default)((function(e){var t;return null!==(t=e.session[n])&&void 0!==t?t:null})),c=i.default.useState(0),d=(0,o.Z)(c,2),p=d[0],y=d[1];(0,u.x)((function(){return f.default.api.persist(n)}));var b=function(e){var n=i.default.useState((function(){return e()})),t=(0,o.Z)(n,2),r=t[0],c=t[1];return i.default.useEffect((function(){function n(){c(e())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),r}(a.us);return i.default.useEffect((function(){return f.default.api.createSession(n,t),function(){return f.default.api.removeSession(n)}}),[n]),(0,g.tZ)(O,{children:r&&(0,g.BX)(g.HY,{children:[(0,g.tZ)(v.Od,{onMount:function(e){var n=new s.q5(e,r.key,r.ttyIo);n.initialise(),r.ttyShell.initialise(n);var t=(0,l.debounce)((function(){y(Math.max(0,parseInt(e.textarea.style.top)-72))}),100);n.xterm.onLineFeed((function(){return t()}))},options:x}),r&&b&&(0,g.tZ)(w,{session:r,offset:p})]})})}var O=(0,c.zo)("div")(y||(y=(0,r.Z)(["\n  grid-area: terminal;\n  background: black;\n  height: 100%;\n  /** TODO fix padding without scrollbar offset */\n"]))),x={allowProposedApi:!0,fontSize:16,cursorBlink:!0,rendererType:"canvas",rightClickSelectsWord:!0,theme:{background:"black",foreground:"#41FF00"},convertEol:!1,scrollback:250,rows:50}},35650:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(79056),o=t(59748),i=t(84175);function c(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=o.default.useState(e),u=(0,r.Z)(c,1),l=u[0];return o.default.useEffect((function(){var n=e.toString()!==l._prevFn;if(l._prevFn)if(n){for(var o,c=e(),u=0,s=Object.entries(c);u<s.length;u++){var a,f,d,v=(0,r.Z)(s[u],2),p=v[0],g=v[1],w=p;if("function"===typeof g)l[w]=g;else if(null!==(a=Object.getOwnPropertyDescriptor(l,w))&&void 0!==a&&a.get||null!==(f=Object.getOwnPropertyDescriptor(l,w))&&void 0!==f&&f.set){var y,b;Object.defineProperty(l,w,{get:null===(y=Object.getOwnPropertyDescriptor(c,w))||void 0===y?void 0:y.get,set:null===(b=Object.getOwnPropertyDescriptor(c,w))||void 0===b?void 0:b.set})}else p in l?l._prevInit&&null!==(d=t.equality)&&void 0!==d&&d[w]&&!(0,i.fS)(l._prevInit[w],c[w])&&(l[w]=c[w]):l[w]=g}for(var h=0,O=Object.entries(l);h<O.length;h++){var x=(0,r.Z)(O[h],2),m=x[0];x[1];m in c||delete l[m]}l._prevFn=e.toString(),l._prevInit=c;var j=null===(o=l.onChangeDeps)||void 0===o?void 0:o.call(l);if("function"===typeof j)return j}else{for(var k,Z=e(),S=0,P=Object.entries(Z);S<P.length;S++){var E,L,_=(0,r.Z)(P[S],2),D=_[0],C=_[1];if("function"===typeof C)l[D]=C;else if(null!==(E=Object.getOwnPropertyDescriptor(l,D))&&void 0!==E&&E.get||null!==(L=Object.getOwnPropertyDescriptor(l,D))&&void 0!==L&&L.set){var I,F;Object.defineProperty(l,D,{get:null===(I=Object.getOwnPropertyDescriptor(Z,D))||void 0===I?void 0:I.get,set:null===(F=Object.getOwnPropertyDescriptor(Z,D))||void 0===F?void 0:F.set})}}var z=null===(k=l.onChangeDeps)||void 0===k?void 0:k.call(l);if("function"===typeof z)return z}else l._prevFn=e.toString(),l._prevInit=e()}),n),l}},39944:function(e,n,t){t.d(n,{x:function(){return c}});t(45697);var r=t(59748),o=r.useLayoutEffect,i=function(e){var n=(0,r.useRef)(e);return o((function(){n.current=e})),n},c=function(e){var n=i(e);(0,r.useEffect)((function(){var e=function(e){var t;if(null!=n.current&&(t=n.current(e)),e.defaultPrevented&&(e.returnValue=""),"string"===typeof t)return e.returnValue=t,t};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[])}},10219:function(e,n,t){function r(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}t.d(n,{Z:function(){return r}})}}]);