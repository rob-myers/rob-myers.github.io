"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[876],{56876:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r,o=t(52209),i=t(92809),c=t(79056),a=t(30266),u=t(809),s=t.n(u),p=t(59748),f=t(88767),l=t(88269),d=t(35490),v=t(91441),y=t(48103),g=(t(68451),t(83159)),m=t(96005),h=t(8311);function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function w(e){var n=(0,f.useQuery)((0,v.tU)(e.layoutKey),(0,a.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",fetch((0,v.tU)(e.layoutKey)).then((function(e){return e.json()})));case 1:case"end":return n.stop()}}),n)})))).data,t=p.default.useState((function(){return{pathfinding:new m.B,zone:void 0}})),r=(0,c.Z)(t,2),o=r[0],i=r[1];return p.default.useEffect((function(){if(n&&!e.disabled&&!o.zone){var t="NavGraphDemo-".concat(e.layoutKey);o.zone=m.B.createZone(n.navDecomp),o.pathfinding.setZoneData(t,o.zone),i(O({},o))}}),[n,e.disabled]),n?(0,h.BX)(g.Z,{gridBounds:d.l,initViewBox:j,maxZoom:6,className:Z,dark:!0,children:[(0,h.tZ)("image",O(O({},n.pngRect),{},{className:"geomorph",href:(0,v.qX)(e.layoutKey)})),o.zone&&(0,h.BX)(h.HY,{children:[o.zone.groups.map((function(e){return e.map((function(n){var t=n.id,r=n.centroid,o=n.neighbours;return(0,h.tZ)("g",{children:o.map((function(n){return(0,h.tZ)("line",{className:"edge",x1:r.x,y1:r.y,x2:e[n].centroid.x,y2:e[n].centroid.y})}))},t)}))})),o.zone.groups.map((function(e){return e.map((function(e){var n=e.vertexIds;return(0,h.tZ)("polygon",{className:"navtri",points:"".concat(n.map((function(e){var n;return null===(n=o.zone)||void 0===n?void 0:n.vertices[e]})))})}))})),o.zone.groups.map((function(e){return e.map((function(e){var n=e.id,t=e.centroid;return(0,h.tZ)("circle",{className:"node",cx:t.x,cy:t.y,r:2},n)}))}))]})]}):null}var Z=(0,l.iv)(r||(r=(0,o.Z)(["\n  image.geomorph {\n    filter: invert() brightness(200%);\n  }\n  circle.node {\n    fill: red;\n    pointer-events: none;\n  }\n  line.edge {\n    stroke: #900;\n    stroke-width: 1;\n    pointer-events: none;\n  }\n\n  polygon.navtri {\n    fill: transparent;\n    &:hover, &:active, &:focus {\n      stroke: green;\n      stroke-width: 4;\n    }\n  }  \n"]))),j=new y.UL(0,0,600,600)}}]);