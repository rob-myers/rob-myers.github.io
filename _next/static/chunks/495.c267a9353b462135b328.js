"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{60495:function(e,t,r){r.r(t),r.d(t,{default:function(){return z}});var n,o=r(52209),s=r(88269),c=r(92809),i=r(79056),u=r(59748),l=r(73460),a=r(48103),d=r(27375),f=r(50269),p=r(8311);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e){var t=(0,l.Z)({debounce:30,scroll:!1}),r=(0,i.Z)(t,2),n=r[0],o=r[1],s=(0,d.Z)(),c=u.default.useState((function(){var e={renderBounds:new a.UL,zoom:1};return{root:{},ctxt:e,gridId:"grid-".concat(y++),panFrom:null,ptrs:[],ptrDiff:null,prevMouse:new a.dl,Context:u.default.createContext(e),onPointerDown:function(e){(0,f.af)(e)&&h.ptrs.length<2&&(h.panFrom=(new a.dl).copy((0,f.zk)((0,f.Xs)(e))),h.ptrs.push((0,f.Xs)(e)),h.prevMouse.copy(h.panFrom))},onPointerMove:function(e){if(h.ptrs=h.ptrs.map((function(t){return t.pointerId===e.pointerId?(0,f.Xs)(e):t})),2===h.ptrs.length){var t=Math.abs(h.ptrs[1].clientX-h.ptrs[0].clientX);if(null!==h.ptrDiff){var r=(0,f._Y)(h.ptrs);h.zoomTo(r,.02*(t-h.ptrDiff)),h.updateCtxt()}h.ptrDiff=t}else if(h.panFrom){var n=(0,f.zk)((0,f.Xs)(e)),o=1/h.ctxt.zoom;h.ctxt.renderBounds.delta(o*(h.prevMouse.x-n.x),o*(h.prevMouse.y-n.y)),h.updateCtxt(),h.prevMouse.copy(n)}},onPointerUp:function(e){h.panFrom=null,h.ptrs=h.ptrs.filter((function(t){return e.pointerId!==t.pointerId})),h.ptrs.length<2&&(h.ptrDiff=null),1===h.ptrs.length&&(h.panFrom=(new a.dl).copy((0,f.zk)(h.ptrs[0])))},onWheel:function(e){if(e.preventDefault(),(0,f.af)(e)){var t=(0,f.zk)((0,f.Xs)(e)),r=h.ctxt.zoom-b*e.deltaY;Math.abs(e.deltaY)>.1&&r>=.25&&r<=8&&(h.zoomTo(t,r),h.updateCtxt({zoom:r}))}},rootRef:function(e){n(e),e&&(h.root=e,e.addEventListener("wheel",h.onWheel),e.addEventListener("pointerdown",h.onPointerDown,{passive:!0}),e.addEventListener("pointermove",h.onPointerMove,{passive:!0}),e.addEventListener("pointerup",h.onPointerUp,{passive:!0}))},updateCtxt:function(e){h.ctxt=v(v({},h.ctxt),e),s()},zoomTo:function(e,t){var r=e.x,n=e.y;h.ctxt.renderBounds.x+=r*(1/h.ctxt.zoom-1/t),h.ctxt.renderBounds.y+=n*(1/h.ctxt.zoom-1/t)}}})),h=(0,i.Z)(c,1)[0];u.default.useEffect((function(){var e=h.root.getBoundingClientRect(),t=e.width,r=e.height;h.ctxt.renderBounds.width=t,h.ctxt.renderBounds.height=r,h.updateCtxt()}),[o.width,o.height]);var m=h.ctxt.zoom,w=h.ctxt.renderBounds,z=-(w.x>0?w.x%10:w.x%10+10),O=-(w.y>0?w.y%10:w.y%10+10);return(0,p.BX)("svg",{ref:h.rootRef,className:g(e),preserveAspectRatio:"xMinYMin slice",children:[(0,p.tZ)("defs",{children:(0,p.tZ)("pattern",{id:h.gridId,x:z,y:O,width:2*x,height:2*x,patternUnits:"userSpaceOnUse",children:(0,p.tZ)("path",{d:"M ".concat(2*x," 0 L 0 0 0 ").concat(2*x),fill:"none",stroke:e.dark?"rgba(200,200,200,0.4)":"rgba(0,0,0,0.5)",strokeWidth:"0.2"})})}),(0,p.BX)("g",{transform:"scale(".concat(m,")"),children:[(0,p.tZ)("rect",{className:"grid",width:"".concat(100/m,"%"),height:"".concat(100/m,"%"),fill:"url(#".concat(h.gridId,")")}),(0,p.tZ)("g",{transform:"translate(".concat(-w.x,", ").concat(-w.y,")"),className:e.className,children:(0,p.tZ)(h.Context.Provider,{value:h.ctxt,children:e.children})})]})]})}var w,g=function(e){return(0,s.iv)(n||(n=(0,o.Z)(["\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n\n  rect.grid {\n    pointer-events: none;\n  }\n"])),e.dark?"#000":"none")},b=.003,x=5,y=0;function z(){return(0,p.tZ)("div",{className:O,children:(0,p.tZ)(m,{children:(0,p.tZ)("rect",{fill:"red",x:"10",y:"10",width:"100",height:"50"})})})}var O=(0,s.iv)(w||(w=(0,o.Z)(["\n  height: 100%;\n"])))},73460:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(59748),o=r(20296),s=r.n(o);function c(e){let{debounce:t,scroll:r,polyfill:o,offsetSize:c}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e;const u=o||("undefined"===typeof window?class{}:window.ResizeObserver);if(!u)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,d]=(0,n.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),f=(0,n.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a}),p=t?"number"===typeof t?t:t.scroll:null,h=t?"number"===typeof t?t:t.resize:null,v=(0,n.useRef)(!1);(0,n.useEffect)((()=>(v.current=!0,()=>{v.current=!1})));const[m,w,g]=(0,n.useMemo)((()=>{const e=()=>{if(!f.current.element)return;const{left:e,top:t,width:r,height:n,bottom:o,right:s,x:i,y:u}=f.current.element.getBoundingClientRect(),a={left:e,top:t,width:r,height:n,bottom:o,right:s,x:i,y:u};f.current.element instanceof HTMLElement&&c&&(a.height=f.current.element.offsetHeight,a.width=f.current.element.offsetWidth),Object.freeze(a),v.current&&!l(f.current.lastBounds,a)&&d(f.current.lastBounds=a)};return[e,h?s()(e,h):e,p?s()(e,p):e]}),[d,c,p,h]);function b(){f.current.scrollContainers&&(f.current.scrollContainers.forEach((e=>e.removeEventListener("scroll",g,!0))),f.current.scrollContainers=null),f.current.resizeObserver&&(f.current.resizeObserver.disconnect(),f.current.resizeObserver=null)}function x(){f.current.element&&(f.current.resizeObserver=new u(g),f.current.resizeObserver.observe(f.current.element),r&&f.current.scrollContainers&&f.current.scrollContainers.forEach((e=>e.addEventListener("scroll",g,{capture:!0,passive:!0}))))}var y,z,O;return y=g,z=Boolean(r),(0,n.useEffect)((()=>{if(z){const e=y;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",e,!0)}}}),[y,z]),O=w,(0,n.useEffect)((()=>{const e=O;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[O]),(0,n.useEffect)((()=>{b(),x()}),[r,g,w]),(0,n.useEffect)((()=>b),[]),[e=>{e&&e!==f.current.element&&(b(),f.current.element=e,f.current.scrollContainers=i(e),x())},a,m]}function i(e){const t=[];if(!e||e===document.body)return t;const{overflow:r,overflowX:n,overflowY:o}=window.getComputedStyle(e);return[r,n,o].some((e=>"auto"===e||"scroll"===e))&&t.push(e),[...t,...i(e.parentElement)]}const u=["x","y","top","bottom","left","right","width","height"],l=(e,t)=>u.every((r=>e[r]===t[r]))}}]);