"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5532],{49071:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var o=t(52209),i=t(59748),r=t(88269),s=t(20296),c=t(6320),a=t(50269),l=t(56127),u=t(79056);var f,d=t(59885),h=t(94184),p=t.n(h),m=t(44275),v=t(8311);function w(e){var n=(0,m.Z)((function(){return{onClick:function(n){var t=n.target,o=e.session.ttyShell.xterm;if(o.xterm.scrollToBottom(),t.classList.contains("lowercase")){var i=o.forceLowerCase=!o.forceLowerCase,r="\u26a0\ufe0f  input ".concat(i?"forced as":"not forced as"," lowercase");l.default.api.warnCleanly(e.session.key,r),t.classList.toggle("enabled"),localStorage.setItem(g,"".concat(i))}else t.classList.contains("ctrl-c")?o.sendSigKill():t.classList.contains("clear")?o.clearScreen():t.classList.contains("up")?o.reqHistoryLine(1):t.classList.contains("down")&&o.reqHistoryLine(-1);o.xterm.focus()}}}));return i.default.useEffect((function(){var n=e.session.ttyShell.xterm;return localStorage.getItem(g)||localStorage.setItem(g,"true"),n.forceLowerCase="true"===localStorage.getItem(g),function(){n.forceLowerCase=!1}}),[]),(0,v.BX)("div",{className:y,onClick:n.onClick,style:{top:"".concat(e.offset,"px")},children:[(0,v.tZ)("div",{className:p()("icon lowercase",{enabled:e.session.ttyShell.xterm.forceLowerCase}),children:"abc"}),(0,v.tZ)("div",{className:"icon ctrl-c",children:"\ud83d\udc80"}),(0,v.tZ)("div",{className:"icon clear",children:"\u2205"}),(0,v.tZ)("div",{className:"icon up",children:"\u2b06\ufe0f"}),(0,v.tZ)("div",{className:"icon down",children:"\u2b07\ufe0f"})]})}var x,g="touch-tty-force-lowercase",y=(0,r.iv)(f||(f=(0,o.Z)(["\n  position: absolute;\n  z-index: 100000;\n  top: 0;\n  right: 16px;\n  width: 32px;\n  height: 128px;\n\n  line-height: 1; /** Needed for mobile viewing 'Desktop site' */\n  background-color: rgba(0, 0, 0, 0.7);\n  font-size: 0.75rem;\n  border: 1px solid #555;\n  border-width: 1px 1px 1px 1px;\n  color: white;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transition: top 500ms ease;\n\n  .lowercase {\n    color: #999;\n    &.enabled {\n      color: white;\n    }\n  }\n\n  .icon {\n    cursor: pointer;\n    width: 100%;\n    text-align: center;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n"]))),b=t(27375),k=t(84175);function Z(e){var n=e.sessionKey,t=e.env,o=(0,b.Z)(),r=(0,m.Z)((function(){return{offset:0,xtermReady:!1,isTouchDevice:(0,a.us)(),session:null}}));return function(e){var n=i.default.useState((function(){return e()})),t=(0,u.Z)(n,2),o=t[0],r=t[1];i.default.useEffect((function(){function n(){r(e())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[])}((function(){return r.isTouchDevice=(0,a.us)()})),i.default.useEffect((function(){return r.session=l.default.api.createSession(n,t),o(),function(){return l.default.api.removeSession(n)}}),[n]),(0,v.BX)(L,{children:[r.session&&(0,v.tZ)(d.Od,{onMount:function(e){var n=(0,k.Cq)(r.session),t=new c.q5(e,{key:n.key,io:n.ttyIo,rememberLastValue:function(e){return n.var._=e}});t.initialise(),n.ttyShell.initialise(t),r.xtermReady=!0,o(),t.xterm.onLineFeed((0,s.debounce)((function(){r.isTouchDevice&&(r.offset=Math.max(1,parseInt(e.textarea.style.top)-100),o())}),100))},options:S}),r.isTouchDevice&&r.session&&r.xtermReady&&(0,v.tZ)(w,{session:r.session,offset:r.offset})]})}var L=(0,r.zo)("div")(x||(x=(0,o.Z)(["\n  grid-area: terminal;\n  background: black;\n  height: 100%;\n  padding: 4px;\n  /** TODO fix padding without scrollbar offset */\n"]))),S={allowProposedApi:!0,fontSize:16,cursorBlink:!0,rendererType:"canvas",rightClickSelectsWord:!0,theme:{background:"black",foreground:"#41FF00"},convertEol:!1,scrollback:250,rows:50}},17120:function(e,n,t){t.d(n,{Z:function(){return c}});var o=t(32296),i=t(99846),r=t(16988),s=t(95243);function c(e){return(0,o.Z)(e)||(0,i.Z)(e)||(0,r.Z)(e)||(0,s.Z)()}}}]);