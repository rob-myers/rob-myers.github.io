"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5532],{49071:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r=t(52209),o=t(59748),i=t(88269),s=t(20296),c=t(6320),l=t(50269),a=t(56127),u=t(79056);var f,d=t(59885),v=t(94184),p=t.n(v),g=t(35650),h=t(8311);function w(e){var n=(0,g.Z)((function(){return{onClick:function(n){var t=n.target,r=e.session.ttyShell.xterm;if(r.xterm.scrollToBottom(),t.classList.contains("lowercase")){var o=r.forceLowerCase=!r.forceLowerCase,i="\u26a0\ufe0f  input ".concat(o?"forced as":"not forced as"," lowercase");a.default.api.warnCleanly(e.session.key,i),t.classList.toggle("enabled"),localStorage.setItem(b,"".concat(o))}else t.classList.contains("ctrl-c")?r.sendSigKill():t.classList.contains("clear")?r.clearScreen():t.classList.contains("up")?r.reqHistoryLine(1):t.classList.contains("down")&&r.reqHistoryLine(-1);r.xterm.focus()},onChangeDeps:function(){var n=e.session.ttyShell.xterm;return localStorage.getItem(b)||localStorage.setItem(b,"true"),n.forceLowerCase="true"===localStorage.getItem(b),function(){return n.forceLowerCase=!1}}}}));return(0,h.BX)("div",{className:m,onClick:n.onClick,style:{top:"".concat(e.offset,"px")},children:[(0,h.tZ)("div",{className:p()("icon lowercase",{enabled:e.session.ttyShell.xterm.forceLowerCase}),children:"abc"}),(0,h.tZ)("div",{className:"icon ctrl-c",children:"\ud83d\udc80"}),(0,h.tZ)("div",{className:"icon clear",children:"\u2205"}),(0,h.tZ)("div",{className:"icon up",children:"\u2b06\ufe0f"}),(0,h.tZ)("div",{className:"icon down",children:"\u2b07\ufe0f"})]})}var y,b="touch-tty-force-lowercase",m=(0,i.iv)(f||(f=(0,r.Z)(["\n  position: absolute;\n  z-index: 100000;\n  top: 0;\n  right: 16px;\n  width: 32px;\n  height: 128px;\n\n  line-height: 1; /** Needed for mobile viewing 'Desktop site' */\n  background-color: rgba(0, 0, 0, 0.7);\n  font-size: 0.75rem;\n  border: 1px solid #555;\n  border-width: 1px 1px 1px 1px;\n  color: white;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transition: top 500ms ease;\n\n  .lowercase {\n    color: #999;\n    &.enabled {\n      color: white;\n    }\n  }\n\n  .icon {\n    cursor: pointer;\n    width: 100%;\n    text-align: center;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n"]))),x=t(27375),O=t(84175);function Z(e){var n=e.sessionKey,t=e.env,r=(0,x.Z)(),i=(0,g.Z)((function(){return{offset:0,xtermReady:!1,isTouchDevice:(0,l.us)(),session:null}}));return function(e){var n=o.default.useState((function(){return e()})),t=(0,u.Z)(n,2),r=t[0],i=t[1];o.default.useEffect((function(){function n(){i(e())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[])}((function(){return i.isTouchDevice=(0,l.us)()})),o.default.useEffect((function(){return i.session=a.default.api.createSession(n,t),r(),function(){return a.default.api.removeSession(n)}}),[n]),(0,h.BX)(S,{children:[i.session&&(0,h.tZ)(d.Od,{onMount:function(e){var n=(0,O.Cq)(i.session),t=new c.q5(e,n.key,n.ttyIo);t.initialise(),n.ttyShell.initialise(t),i.xtermReady=!0,r(),t.xterm.onLineFeed((0,s.debounce)((function(){i.isTouchDevice&&(i.offset=Math.max(1,parseInt(e.textarea.style.top)-100),r())}),100))},options:k}),i.isTouchDevice&&i.session&&i.xtermReady&&(0,h.tZ)(w,{session:i.session,offset:i.offset})]})}var S=(0,i.zo)("div")(y||(y=(0,r.Z)(["\n  grid-area: terminal;\n  background: black;\n  height: 100%;\n  padding: 4px;\n  /** TODO fix padding without scrollbar offset */\n"]))),k={allowProposedApi:!0,fontSize:16,cursorBlink:!0,rendererType:"canvas",rightClickSelectsWord:!0,theme:{background:"black",foreground:"#41FF00"},convertEol:!1,scrollback:250,rows:50}},35650:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(79056),o=t(59748),i=t(84175);function s(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=o.default.useState(e),c=(0,r.Z)(s,1),l=c[0];return o.default.useEffect((function(){var n,o=e.toString()!==l._prevFn;if(l._prevFn)if(o){for(var s=e(),c=0,a=Object.entries(s);c<a.length;c++){var u,f,d,v=(0,r.Z)(a[c],2),p=v[0],g=v[1],h=p;if("function"===typeof g)l[h]=g;else if(null!==(u=Object.getOwnPropertyDescriptor(l,h))&&void 0!==u&&u.get||null!==(f=Object.getOwnPropertyDescriptor(l,h))&&void 0!==f&&f.set){var w,y;Object.defineProperty(l,h,{get:null===(w=Object.getOwnPropertyDescriptor(s,h))||void 0===w?void 0:w.get,set:null===(y=Object.getOwnPropertyDescriptor(s,h))||void 0===y?void 0:y.set})}else p in l?l._prevInit&&null!==(d=t.equality)&&void 0!==d&&d[h]&&!(0,i.fS)(l._prevInit[h],s[h])&&(l[h]=s[h]):l[h]=g}for(var b=0,m=Object.entries(l);b<m.length;b++){var x=(0,r.Z)(m[b],2),O=x[0];x[1];O in s||delete l[O]}l._prevFn=e.toString(),l._prevInit=s}else for(var Z=e(),S=0,k=Object.entries(Z);S<k.length;S++){var D,L,C=(0,r.Z)(k[S],2),j=C[0],_=C[1];if("function"===typeof _)l[j]=_;else if(null!==(D=Object.getOwnPropertyDescriptor(l,j))&&void 0!==D&&D.get||null!==(L=Object.getOwnPropertyDescriptor(l,j))&&void 0!==L&&L.set){var P,I;Object.defineProperty(l,j,{get:null===(P=Object.getOwnPropertyDescriptor(Z,j))||void 0===P?void 0:P.get,set:null===(I=Object.getOwnPropertyDescriptor(Z,j))||void 0===I?void 0:I.set})}}else l._prevFn=e.toString(),l._prevInit=e();var N=null===(n=l.onChangeDeps)||void 0===n?void 0:n.call(l);if("function"===typeof N)return N}),n),l}},17120:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(32296),o=t(99846),i=t(16988),s=t(95243);function c(e){return(0,r.Z)(e)||(0,o.Z)(e)||(0,i.Z)(e)||(0,s.Z)()}}}]);