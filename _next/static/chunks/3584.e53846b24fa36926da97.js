"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3584],{49071:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(52209),o=t(79056),i=t(59748),c=t(88269),l=t(39944),s=t(20296),a=t(6320),u=t(50269),f=t(56127);var d,v=t(59885),p=t(35650),g=t(8311);function w(e){var n=(0,p.Z)((function(){return{onClick:function(n){var t=n.target,r=e.session.ttyShell.xterm;if(r.xterm.scrollToBottom(),t.classList.contains("lowercase")){var o=r.forceLowerCase=!r.forceLowerCase,i="\u26a0\ufe0f  input ".concat(o?"forced as":"not forced as"," lowercase");f.default.api.warnCleanly(e.session.key,i),t.classList.toggle("enabled")}else t.classList.contains("clear")?(r.clearScreen(),r.xterm.focus()):t.classList.contains("up")?(r.reqHistoryLine(1),r.xterm.focus()):t.classList.contains("down")&&(r.reqHistoryLine(-1),r.xterm.focus())}}}));return(0,g.BX)("div",{className:y,onClick:n.onClick,style:{top:"".concat(e.offset,"px")},children:[(0,g.tZ)("div",{className:"lowercase",children:"abc"}),(0,g.tZ)("div",{className:"clear",children:"\u2205"}),(0,g.tZ)("div",{className:"up",children:"\u2b06"}),(0,g.tZ)("div",{className:"down",children:"\u2b07"})]})}var b,y=(0,c.iv)(d||(d=(0,r.Z)(["\n  position: absolute;\n  z-index: 100000;\n  top: 0;\n  right: 16px;\n  width: 32px;\n  height: 90px;\n\n  line-height: 1; /** Needed for mobile viewing 'Desktop site' */\n  background-color: rgba(0, 0, 0, 0.7);\n  font-size: 0.75rem;\n  border: 1px solid #555;\n  border-width: 1px 1px 1px 1px;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transition: top 500ms ease;\n\n  .lowercase {\n    color: #999;\n    &.enabled {\n      color: white;\n    }\n  }\n  .clear, .up, .down {\n    color: white;\n  }\n  .lowercase, .clear, .up, .down {\n    cursor: pointer;\n    width: 100%;\n    text-align: center;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n"])));function h(e){var n=e.sessionKey,t=e.env,r=(0,f.default)((function(e){var t;return null!==(t=e.session[n])&&void 0!==t?t:null})),c=i.default.useState(0),d=(0,o.Z)(c,2),p=d[0],b=d[1];(0,l.x)((function(){return f.default.api.persist(n)}));var y=function(e){var n=i.default.useState((function(){return e()})),t=(0,o.Z)(n,2),r=t[0],c=t[1];return i.default.useEffect((function(){function n(){c(e())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),r}(u.us);return i.default.useEffect((function(){return f.default.api.createSession(n,t),function(){return f.default.api.removeSession(n)}}),[n]),(0,g.tZ)(O,{children:r&&(0,g.BX)(g.HY,{children:[(0,g.tZ)(v.Od,{onMount:function(e){var n=new a.q5(e,r.key,r.ttyIo);n.initialise(),r.ttyShell.initialise(n);var t=(0,s.debounce)((function(){b(Math.max(1,parseInt(e.textarea.style.top)-72))}),100);n.xterm.onLineFeed((function(){return t()}))},options:x}),y&&(0,g.tZ)(w,{session:r,offset:p})]})})}var O=(0,c.zo)("div")(b||(b=(0,r.Z)(["\n  grid-area: terminal;\n  background: black;\n  height: 100%;\n  padding: 4px;\n  /** TODO fix padding without scrollbar offset */\n"]))),x={allowProposedApi:!0,fontSize:16,cursorBlink:!0,rendererType:"canvas",rightClickSelectsWord:!0,theme:{background:"black",foreground:"#41FF00"},convertEol:!1,scrollback:250,rows:50}},35650:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(79056),o=t(59748),i=t(84175);function c(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=o.default.useState(e),l=(0,r.Z)(c,1),s=l[0];return o.default.useEffect((function(){var n=e.toString()!==s._prevFn;if(s._prevFn)if(n){for(var o,c=e(),l=0,a=Object.entries(c);l<a.length;l++){var u,f,d,v=(0,r.Z)(a[l],2),p=v[0],g=v[1],w=p;if("function"===typeof g)s[w]=g;else if(null!==(u=Object.getOwnPropertyDescriptor(s,w))&&void 0!==u&&u.get||null!==(f=Object.getOwnPropertyDescriptor(s,w))&&void 0!==f&&f.set){var b,y;Object.defineProperty(s,w,{get:null===(b=Object.getOwnPropertyDescriptor(c,w))||void 0===b?void 0:b.get,set:null===(y=Object.getOwnPropertyDescriptor(c,w))||void 0===y?void 0:y.set})}else p in s?s._prevInit&&null!==(d=t.equality)&&void 0!==d&&d[w]&&!(0,i.fS)(s._prevInit[w],c[w])&&(s[w]=c[w]):s[w]=g}for(var h=0,O=Object.entries(s);h<O.length;h++){var x=(0,r.Z)(O[h],2),m=x[0];x[1];m in c||delete s[m]}s._prevFn=e.toString(),s._prevInit=c;var k=null===(o=s.onChangeDeps)||void 0===o?void 0:o.call(s);if("function"===typeof k)return k}else{for(var j,Z=e(),S=0,L=Object.entries(Z);S<L.length;S++){var P,E,D=(0,r.Z)(L[S],2),_=D[0],C=D[1];if("function"===typeof C)s[_]=C;else if(null!==(P=Object.getOwnPropertyDescriptor(s,_))&&void 0!==P&&P.get||null!==(E=Object.getOwnPropertyDescriptor(s,_))&&void 0!==E&&E.set){var N,F;Object.defineProperty(s,_,{get:null===(N=Object.getOwnPropertyDescriptor(Z,_))||void 0===N?void 0:N.get,set:null===(F=Object.getOwnPropertyDescriptor(Z,_))||void 0===F?void 0:F.set})}}var I=null===(j=s.onChangeDeps)||void 0===j?void 0:j.call(s);if("function"===typeof I)return I}else s._prevFn=e.toString(),s._prevInit=e()}),n),s}},39944:function(e,n,t){t.d(n,{x:function(){return c}});t(45697);var r=t(59748),o=r.useLayoutEffect,i=function(e){var n=(0,r.useRef)(e);return o((function(){n.current=e})),n},c=function(e){var n=i(e);(0,r.useEffect)((function(){var e=function(e){var t;if(null!=n.current&&(t=n.current(e)),e.defaultPrevented&&(e.returnValue=""),"string"===typeof t)return e.returnValue=t,t};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[])}},10219:function(e,n,t){function r(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}t.d(n,{Z:function(){return r}})}}]);