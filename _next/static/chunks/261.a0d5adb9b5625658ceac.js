"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[261],{27261:function(t,e,n){n.r(e),n.d(e,{default:function(){return b}});var r,o=n(52209),c=n(92809),i=n(30266),a=n(809),s=n.n(a),u=(n(59748),n(88269)),p=n(88767),d=n(20437),f=n(83159),l=n(8311);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t){var e=(0,p.useQuery)("".concat(t.layoutKey,"-json"),(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/geomorph/".concat(t.layoutKey,".json")).then((function(t){return t.json()})));case 1:case"end":return e.stop()}}),e)})))).data;return(0,l.tZ)(f.Z,{gridBounds:w,initViewBox:y,maxZoom:6,className:O,children:e&&(0,l.BX)(l.HY,{children:[(0,l.tZ)("image",g(g({},e.pngRect),{},{className:"geomorph",href:"/geomorph/".concat(t.layoutKey,".png")})),(0,l.tZ)(m,{json:e})]})})}var w=new d.UL(-5e3,-5e3,10001,10001),y=new d.UL(0,0,1200,600);function m(t){var e=t.json;return(0,l.tZ)("foreignObject",g(g({},e.pngRect),{},{xmlns:"http://www.w3.org/1999/xhtml",children:(0,l.tZ)("div",{onClick:function(t){var n=t.target,r=[n.clientWidth,Number(n.getAttribute("data-index"))],o=r[1],c=r[0]<=5?e.doors[o].rect.width:5;n.style.width="".concat(c,"px")},children:e.doors.map((function(t,n){var r=t.rect,o=t.angle;return(0,l.tZ)("div",{className:"door","data-index":n,style:{left:r.x-e.pngRect.x,top:r.y-e.pngRect.y,width:r.width,height:r.height,transformOrigin:"top left",transform:"rotate(".concat(o,"deg)")}})}))})}))}var O=(0,u.iv)(r||(r=(0,o.Z)(["\n  foreignObject {\n    div.door {\n      position: absolute;\n      cursor: pointer;\n      background: white;\n      border: 1px solid black;\n\n      transition: width 500ms ease;\n      &.open {\n        width: 0;\n      }\n    }\n  }\n"])))}}]);