"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3584],{49071:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(52209),i=t(79056),o=t(59748),c=t(88269),l=t(39944),s=t(20296),a=t(6320),u=t(50269),f=t(56127);var d,v=t(59885),p=t(35650),g=t(8311);function b(e){var n=(0,p.Z)((function(){return{onClick:function(n){var t=n.target,r=e.session.ttyShell.xterm;if(r.xterm.scrollToBottom(),t.classList.contains("lowercase")){var i=r.forceLowerCase=!r.forceLowerCase,o="\u26a0\ufe0f  input ".concat(i?"forced as":"not forced as"," lowercase");f.default.api.warnCleanly(e.session.key,o),t.classList.toggle("enabled")}else t.classList.contains("ctrl-c")?r.sendSigKill():t.classList.contains("clear")?r.clearScreen():t.classList.contains("up")?r.reqHistoryLine(1):t.classList.contains("down")&&r.reqHistoryLine(-1);r.xterm.focus()}}}));return(0,g.BX)("div",{className:y,onClick:n.onClick,style:{top:"".concat(e.offset,"px")},children:[(0,g.tZ)("div",{className:"icon lowercase",children:"abc"}),(0,g.tZ)("div",{className:"icon ctrl-c",children:"\ud83d\udc80"}),(0,g.tZ)("div",{className:"icon clear",children:"\u2205"}),(0,g.tZ)("div",{className:"icon up",children:"\u2b06\ufe0f"}),(0,g.tZ)("div",{className:"icon down",children:"\u2b07\ufe0f"})]})}var w,y=(0,c.iv)(d||(d=(0,r.Z)(["\n  position: absolute;\n  z-index: 100000;\n  top: 0;\n  right: 16px;\n  width: 32px;\n  height: 128px;\n\n  line-height: 1; /** Needed for mobile viewing 'Desktop site' */\n  background-color: rgba(0, 0, 0, 0.7);\n  font-size: 0.75rem;\n  border: 1px solid #555;\n  border-width: 1px 1px 1px 1px;\n  color: white;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transition: top 500ms ease;\n\n  .lowercase {\n    color: #999;\n    &.enabled {\n      color: white;\n    }\n  }\n\n  .icon {\n    cursor: pointer;\n    width: 100%;\n    text-align: center;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n"])));function h(e){var n=e.sessionKey,t=e.env,r=(0,f.default)((function(e){var t;return null!==(t=e.session[n])&&void 0!==t?t:null})),c=o.default.useState(0),d=(0,i.Z)(c,2),p=d[0],w=d[1];(0,l.x)((function(){return f.default.api.persist(n)}));var y=function(e){var n=o.default.useState((function(){return e()})),t=(0,i.Z)(n,2),r=t[0],c=t[1];return o.default.useEffect((function(){function n(){c(e())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),r}(u.us);return o.default.useEffect((function(){return f.default.api.createSession(n,t),function(){return f.default.api.removeSession(n)}}),[n]),(0,g.tZ)(O,{children:r&&(0,g.BX)(g.HY,{children:[(0,g.tZ)(v.Od,{onMount:function(e){var n=new a.q5(e,r.key,r.ttyIo);n.initialise(),r.ttyShell.initialise(n);var t=(0,s.debounce)((function(){w(Math.max(1,parseInt(e.textarea.style.top)-72))}),100);n.xterm.onLineFeed((function(){return t()}))},options:x}),y&&(0,g.tZ)(b,{session:r,offset:p})]})})}var O=(0,c.zo)("div")(w||(w=(0,r.Z)(["\n  grid-area: terminal;\n  background: black;\n  height: 100%;\n  padding: 4px;\n  /** TODO fix padding without scrollbar offset */\n"]))),x={allowProposedApi:!0,fontSize:16,cursorBlink:!0,rendererType:"canvas",rightClickSelectsWord:!0,theme:{background:"black",foreground:"#41FF00"},convertEol:!1,scrollback:250,rows:50}},35650:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(79056),i=t(59748),o=t(84175);function c(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=i.default.useState(e),l=(0,r.Z)(c,1),s=l[0];return i.default.useEffect((function(){var n=e.toString()!==s._prevFn;if(s._prevFn)if(n){for(var i,c=e(),l=0,a=Object.entries(c);l<a.length;l++){var u,f,d,v=(0,r.Z)(a[l],2),p=v[0],g=v[1],b=p;if("function"===typeof g)s[b]=g;else if(null!==(u=Object.getOwnPropertyDescriptor(s,b))&&void 0!==u&&u.get||null!==(f=Object.getOwnPropertyDescriptor(s,b))&&void 0!==f&&f.set){var w,y;Object.defineProperty(s,b,{get:null===(w=Object.getOwnPropertyDescriptor(c,b))||void 0===w?void 0:w.get,set:null===(y=Object.getOwnPropertyDescriptor(c,b))||void 0===y?void 0:y.set})}else p in s?s._prevInit&&null!==(d=t.equality)&&void 0!==d&&d[b]&&!(0,o.fS)(s._prevInit[b],c[b])&&(s[b]=c[b]):s[b]=g}for(var h=0,O=Object.entries(s);h<O.length;h++){var x=(0,r.Z)(O[h],2),m=x[0];x[1];m in c||delete s[m]}s._prevFn=e.toString(),s._prevInit=c;var k=null===(i=s.onChangeDeps)||void 0===i?void 0:i.call(s);if("function"===typeof k)return k}else{for(var Z,j=e(),S=0,L=Object.entries(j);S<L.length;S++){var P,E,D=(0,r.Z)(L[S],2),_=D[0],C=D[1];if("function"===typeof C)s[_]=C;else if(null!==(P=Object.getOwnPropertyDescriptor(s,_))&&void 0!==P&&P.get||null!==(E=Object.getOwnPropertyDescriptor(s,_))&&void 0!==E&&E.set){var N,F;Object.defineProperty(s,_,{get:null===(N=Object.getOwnPropertyDescriptor(j,_))||void 0===N?void 0:N.get,set:null===(F=Object.getOwnPropertyDescriptor(j,_))||void 0===F?void 0:F.set})}}var I=null===(Z=s.onChangeDeps)||void 0===Z?void 0:Z.call(s);if("function"===typeof I)return I}else s._prevFn=e.toString(),s._prevInit=e()}),n),s}},39944:function(e,n,t){t.d(n,{x:function(){return c}});t(45697);var r=t(59748),i=r.useLayoutEffect,o=function(e){var n=(0,r.useRef)(e);return i((function(){n.current=e})),n},c=function(e){var n=o(e);(0,r.useEffect)((function(){var e=function(e){var t;if(null!=n.current&&(t=n.current(e)),e.defaultPrevented&&(e.returnValue=""),"string"===typeof t)return e.returnValue=t,t};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[])}},10219:function(e,n,t){function r(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}t.d(n,{Z:function(){return r}})}}]);