"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[159],{20437:function(t,n,e){e.d(n,{_3:function(){return h},LA:function(){return o.L},UL:function(){return i.U},dl:function(){return r.d}});var i=e(72328),r=e(49345),o=e(18264),u=e(79056),a=e(68216),s=e(25997),h=function(){function t(n){return(0,a.Z)(this,t),this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this.setMatrixValue(n)}return(0,s.Z)(t,[{key:"isIdentity",get:function(){return 1===this.a&&0===this.b&&0===this.c&&1===this.d&&0===this.e&&0===this.f}},{key:"setIdentity",value:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0}},{key:"setMatrixValue",value:function(t){if("string"===typeof t){var n=t.slice("matrix(".length,-")".length).split(",").map(Number);return this.feedFromArray(n)}return t?Array.isArray(t)?this.feedFromArray([this.a,this.b,this.c,this.d,this.e,this.f]):this.feedFromArray([t.a,t.b,t.c,t.d,t.e,t.f]):this}},{key:"transformPoint",value:function(t){var n=this.a*t.x+this.c*t.y+this.e,e=this.b*t.x+this.d*t.y+this.f;return t.x=n,t.y=e,t}},{key:"feedFromArray",value:function(t){var n=(0,u.Z)(t,6),e=n[0],i=n[1],r=n[2],o=n[3],a=n[4],s=n[5];return this.a=e,this.b=i,this.c=r,this.d=o,this.e=a,this.f=s,this}}]),t}()},18264:function(t,n,e){e.d(n,{L:function(){return g}});var i=e(79056),r=e(17120),o=e(92809),u=e(97131),a=e(68216),s=e(25997),h=e(90831),c=e(32676),l=e(9187),f=e.n(l),y=e(72328),v=e(49345),d=e(84273);function p(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}var g=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,a.Z)(this,t),this.outline=n,this.holes=e}return(0,s.Z)(t,[{key:"allPoints",get:function(){var t;return(t=this.outline).concat.apply(t,(0,u.Z)(this.holes))}},{key:"geoJson",get:function(){return function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?p(Object(e),!0).forEach((function(n){(0,o.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):p(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({type:"Polygon",coordinates:[this.outline.map((function(t){return[t.x,t.y]}))].concat(this.holes.map((function(t){return t.map((function(t){return[t.x,t.y]}))})))},this.meta&&{meta:this.meta})}},{key:"rect",get:function(){return y.U.from.apply(y.U,(0,u.Z)(this.outline))}},{key:"svgPath",get:function(){return[this.outline].concat((0,u.Z)(this.holes)).map((function(t){return"M".concat(t,"Z")})).join(" ")}},{key:"tangents",get:function(){var t=[this.outline].concat((0,u.Z)(this.holes)).map((function(t){return t.concat(t[0]).reduce((function(t,n,e,i){if(e){var r=n.clone().sub(i[e-1]).length;r<.01&&console.log("saw point length",r)}return e>0?t.concat(n.clone().sub(i[e-1]).normalize()):[]}),[])})),n=(0,r.Z)(t);return{outer:n[0],inner:n.slice(1)}}},{key:"add",value:function(t){return this.translate(t.x,t.y)}},{key:"addMeta",value:function(t){return this.meta=Object.assign(this.meta||{},t),this}},{key:"anticlockwise",value:function(){this.outline.push(this.outline[0]);var t=this.outline.reduce((function(t,n,e,i){return t+(e<i.length-1?(i[e+1].x-n.x)*(i[e+1].y+n.y):0)}),0);return this.outline.pop(),t>0}},{key:"applyMatrix",value:function(t){return t.isIdentity||(this.outline=this.outline.map((function(n){return t.transformPoint(n)})),this.holes.forEach((function(n){return n.map((function(n){return t.transformPoint(n)}))}))),this}},{key:"cleanFinalReps",value:function(){for(var t=0,n=[this.outline].concat((0,u.Z)(this.holes));t<n.length;t++){var e=n[t],i=e.pop();i&&!i.equals(e[0])&&e.push(i)}return this}},{key:"clone",value:function(){return new t(this.outline.map((function(t){return t.clone()})),this.holes.map((function(t){return t.map((function(t){return t.clone()}))})))}},{key:"createInset",value:function(n){if(0===n)return[this.clone()];this.cleanFinalReps();var e,i=[{ring:this.outline,inset:t.insetRing(this.outline,n)}].concat((0,u.Z)(this.holes.map((function(e){return{ring:e,inset:t.insetRing(e,n)}})))).map((function(n){var e=n.ring,i=n.inset;return e.map((function(n,r){return new t([e[r].clone(),i[r],i[(r+1)%e.length],e[(r+1)%e.length].clone()])}))})),o=(0,r.Z)(i),a=o[0],s=o.slice(1);return n>0?t.cutOut(a.concat.apply(a,(0,u.Z)(s)),[this.clone()]):t.union((e=[this.clone()]).concat.apply(e,[a].concat((0,u.Z)(s))))}},{key:"createOutset",value:function(t){return this.createInset(-t)}},{key:"fastTriangulate",value:function(){var t=this.geoJson.coordinates,n=f().flatten(t),e=f()(n.vertices,n.holes,2),i=e.reduce((function(t,n,i){return i%3===2?t.concat([[e[i-2],e[i-1],n]]):t}),[]);return{vs:this.allPoints,tris:i}}},{key:"fixOrientation",value:function(){return this.anticlockwise()&&this.reverse(),this}},{key:"qualityTriangulate",value:function(){try{var t=this.outline.map((function(t,n){return{x:t.x,y:t.y,id:n}})),n=t.length,e=this.holes.map((function(t){return t.map((function(t){return{x:t.x,y:t.y,id:n++}}))})),r=new h.SweepContext(t).addHoles(e).triangulate().getTriangles().map((function(t){return[t.getPoint(0),t.getPoint(1),t.getPoint(2)]})).map((function(t){var n=(0,i.Z)(t,3),e=n[0],r=n[1],o=n[2];return[e.id,r.id,o.id]}));return{vs:this.allPoints,tris:r}}catch(o){return console.error("Quality triangulation failed, falling back to earcut"),console.error(o),this.fastTriangulate()}}},{key:"precision",value:function(t){return this.outline.forEach((function(n){return n.precision(t)})),this.holes.forEach((function(n){return n.forEach((function(n){return n.precision(t)}))})),this}},{key:"removeHoles",value:function(){return this.holes=[],this}},{key:"reverse",value:function(){return this.outline.reverse(),this.holes.forEach((function(t){return t.reverse()})),this}},{key:"round",value:function(){return this.outline.forEach((function(t){return t.round()})),this.holes.forEach((function(t){return t.forEach((function(t){return t.round()}))})),this}},{key:"scale",value:function(t){return this.outline.forEach((function(n){return n.scale(t)})),this.holes.forEach((function(n){return n.forEach((function(n){return n.scale(t)}))})),this}},{key:"translate",value:function(t,n){return this.outline.forEach((function(e){return e.translate(t,n)})),this.holes.forEach((function(e){return e.forEach((function(e){return e.translate(t,n)}))})),this}}],[{key:"cutOut",value:function(n,e){return c.difference.apply(c,[e.map((function(t){return t.geoJson.coordinates}))].concat((0,u.Z)(n.map((function(t){return t.geoJson.coordinates}))))).map((function(n){return t.from(n)}))}},{key:"from",value:function(n){return n instanceof Array?new t(n[0].map((function(t){var n=(0,i.Z)(t,2),e=n[0],r=n[1];return new v.d(e,r)})),n.slice(1).map((function(t){return t.map((function(t){var n=(0,i.Z)(t,2),e=n[0],r=n[1];return new v.d(e,r)}))}))):new t(n.coordinates[0].map((function(t){var n=(0,i.Z)(t,2),e=n[0],r=n[1];return new v.d(e,r)})),n.coordinates.slice(1).map((function(t){return t.map((function(t){var n=(0,i.Z)(t,2),e=n[0],r=n[1];return new v.d(e,r)}))})))}},{key:"fromRect",value:function(n){return new t(n.points)}},{key:"insetRing",value:function(n,e){var i=new t(n).tangents.outer,r=n.map((function(t,r){return[t.clone().translate(e*-i[r].y,e*i[r].x),n[(r+1)%n.length].clone().translate(e*-i[r].y,e*i[r].x)]}));return r.map((function(t,n){var e=(n+1)%r.length,o=r[e],u=d.J7.getLinesIntersect(t[1],i[n],o[0],i[e]);return u?t[1].translate(u*i[n].x,u*i[n].y):v.d.average([t[1],o[0]])}))}},{key:"pointInTriangle",value:function(n,e,i,r){var o=t.sign(n,e,i),u=t.sign(n,i,r),a=t.sign(n,r,e);return!((o<0||u<0||a<0)&&(o>0||u>0||a>0))}},{key:"sign",value:function(t,n,e){return(t.x-e.x)*(n.y-e.y)-(n.x-e.x)*(t.y-e.y)}},{key:"union",value:function(n){return c.union.apply(c,[[]].concat((0,u.Z)(n.map((function(t){return t.geoJson.coordinates}))))).map((function(n){return t.from(n)}))}}]),t}()},72328:function(t,n,e){e.d(n,{U:function(){return a}});var i=e(97131),r=e(68216),o=e(25997),u=e(49345),a=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,r.Z)(this,t),this.x=n,this.y=e,this.width=i,this.height=o}return(0,o.Z)(t,[{key:"area",get:function(){return this.width*this.height}},{key:"bottom",get:function(){return this.y+this.height}},{key:"bottomLeft",get:function(){return new u.d(this.x,this.y+this.height)}},{key:"bottomRight",get:function(){return new u.d(this.x+this.width,this.y+this.height)}},{key:"center",get:function(){return new u.d(this.cx,this.cy)}},{key:"cx",get:function(){return this.x+.5*this.width}},{key:"cy",get:function(){return this.y+.5*this.height}},{key:"geoJson",get:function(){return{type:"Polygon",coordinates:[[[this.x,this.y],[this.x+this.width,this.y],[this.x+this.width,this.y+this.height],[this.x,this.y+this.height]]]}}},{key:"json",get:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},{key:"key",get:function(){return"".concat(this.x,",").concat(this.y,",").concat(this.width,",").concat(this.height)}},{key:"dimension",get:function(){return Math.max(this.width,this.height)}},{key:"points",get:function(){return[new u.d(this.x,this.y),new u.d(this.x,this.y+this.height),new u.d(this.x+this.width,this.y+this.height),new u.d(this.x+this.width,this.y)]}},{key:"right",get:function(){return this.x+this.width}},{key:"topLeft",get:function(){return new u.d(this.x,this.y)}},{key:"topRight",get:function(){return new u.d(this.x+this.width,this.y)}},{key:"applyMatrix",value:function(t){if(!t.isIdentity){var n=t.transformPoint(this.topLeft),e=t.transformPoint(this.bottomRight);this.x=Math.min(n.x,e.x),this.y=Math.min(n.y,e.y),this.width=Math.max(n.x,e.x)-this.x,this.height=Math.max(n.y,e.y)-this.y}return this}},{key:"clone",value:function(){return new t(this.x,this.y,this.width,this.height)}},{key:"contains",value:function(t){var n=t.x,e=t.y;return this.x<=n&&n<=this.x+this.width&&this.y<=e&&e<=this.y+this.height}},{key:"copy",value:function(t){var n=t.x,e=t.y,i=t.width,r=t.height;return this.x=n,this.y=e,this.width=i,this.height=r,this}},{key:"covers",value:function(t){var n=t.x,e=t.y,i=t.width,r=t.height;return this.x<=n&&n+i<=this.x+this.width&&this.y<=e&&e+r<=this.y+this.height}},{key:"delta",value:function(t,n){return this.x+=t,this.y+=n,this}},{key:"inset",value:function(t){var n=[this.cx,this.cy],e=n[0],i=n[1];return this.outset(-t),this.width<0&&(this.x=e,this.width=0),this.height<0&&(this.y=i,this.height=0),this}},{key:"intersects",value:function(t){return 2*Math.abs(this.cx-t.cx)<=this.width+t.width&&2*Math.abs(this.cy-t.cy)<=this.height+t.height}},{key:"offset",value:function(t){var n=t.x,e=t.y;return this.x+=n,this.y+=e,this}},{key:"outset",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this.x-=t,this.y-=n,this.width+=2*t,this.height+=2*n,this}},{key:"scale",value:function(t){return this.x*=t,this.y*=t,this.width*=t,this.height*=t,this}},{key:"setPosition",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y,",").concat(this.width,",").concat(this.height)}}],[{key:"zero",get:function(){return new t(0,0,0,0)}},{key:"from",value:function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];if(e.length){if(e[0]instanceof u.d){var o=e,a=Math.min.apply(Math,(0,i.Z)(o.map((function(t){return t.x})))),s=Math.min.apply(Math,(0,i.Z)(o.map((function(t){return t.y})))),h=Math.max.apply(Math,(0,i.Z)(o.map((function(t){return t.x})))),c=Math.max.apply(Math,(0,i.Z)(o.map((function(t){return t.y}))));return new t(a,s,h-a,c-s)}var l=e,f=Math.min.apply(Math,(0,i.Z)(l.map((function(t){return t.x})))),y=Math.min.apply(Math,(0,i.Z)(l.map((function(t){return t.y})))),v=Math.max.apply(Math,(0,i.Z)(l.map((function(t){return t.x+t.width})))),d=Math.max.apply(Math,(0,i.Z)(l.map((function(t){return t.y+t.height}))));return new t(f,y,v-f,d-y)}return t.zero}},{key:"fromJson",value:function(n){return new t(n.x,n.y,n.width,n.height)}}]),t}()},49345:function(t,n,e){e.d(n,{d:function(){return o}});var i=e(68216),r=e(25997),o=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,i.Z)(this,t),this.x=n,this.y=e}return(0,r.Z)(t,[{key:"angle",get:function(){return Math.atan2(this.y,this.x)}},{key:"coord",get:function(){return[this.x,this.y]}},{key:"json",get:function(){return{x:this.x,y:this.y}}},{key:"length",get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"lengthSquared",get:function(){return this.x*this.x+this.y*this.y}},{key:"add",value:function(t){var n=t.x,e=t.y;return this.translate(n,e)}},{key:"addScaledVector",value:function(t,n){return this.x+=t.x*n,this.y+=t.y*n,this}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"copy",value:function(t){return this.set(t.x,t.y)}},{key:"distanceTo",value:function(t){return Math.hypot(t.x-this.x,t.y-this.y)}},{key:"distanceToSquared",value:function(t){return Math.pow(t.x-this.x,2)+Math.pow(t.y-this.y,2)}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"dotArgs",value:function(t,n){return this.x*t+this.y*n}},{key:"equals",value:function(t){var n=t.x,e=t.y;return this.x===n&&this.y===e}},{key:"normalize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.length?this.scale(t/this.length):(console.error("Cannot normalize Vect '".concat(this,"' to length '").concat(t,"'")),this)}},{key:"precision",value:function(t){return this.set(Number(this.x.toFixed(t)),Number(this.y.toFixed(t)))}},{key:"rotate",value:function(t){var n=[this.x,this.y],e=n[0],i=n[1];return this.x=Math.cos(t)*e-Math.sin(t)*i,this.y=Math.sin(t)*e+Math.cos(t)*i,this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"scale",value:function(t){return this.x*=t,this.y*=t,this}},{key:"set",value:function(t,n){return this.x=t,this.y=n,this}},{key:"sub",value:function(t){var n=t.x,e=t.y;return this.translate(-n,-e)}},{key:"subVectors",value:function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y)}},{key:"translate",value:function(t,n){return this.x+=t,this.y+=n,this}}],[{key:"zero",get:function(){return new t(0,0)}},{key:"average",value:function(n){return n.length?n.reduce((function(t,n){return t.add(n)}),t.zero).scale(1/n.length):t.zero}},{key:"from",value:function(n){return Array.isArray(n)?new t(n[0],n[1]):new t(n.x,n.y)}}]),t}()},83159:function(t,n,e){e.d(n,{Z:function(){return y}});var i,r=e(52209),o=e(79056),u=e(59748),a=e(88269),s=e(94184),h=e.n(s),c=e(20437),l=e(84273),f=e(8311);function y(t){var n=u.useState((function(){var n=t.initViewBox.clone(),o=t.minZoom||.5,u=t.maxZoom||2;return{viewBox:n,panFrom:null,zoom:t.initZoom||1,ptrs:[],ptrDiff:null,zoomTo:function(i,r){var a=Math.min(Math.max(e.zoom+r,o),u);n.x=e.zoom/a*(n.x-i.x)+i.x,n.y=e.zoom/a*(n.y-i.y)+i.y,n.width=1/a*t.initViewBox.width,n.height=1/a*t.initViewBox.height,e.zoom=a},onWheel:function(t){if(t.preventDefault(),"ownerSVGElement"in(t.target||{})){var n=(0,l.zk)((0,l.Xs)(t));e.zoomTo(n,-.003*t.deltaY),e.root.setAttribute("viewBox","".concat(e.viewBox))}},onPointerDown:function(t){"ownerSVGElement"in(t.target||{})&&(e.panFrom=(new c.dl).copy((0,l.zk)((0,l.Xs)(t))),e.ptrs.push((0,l.Xs)(t)))},onPointerMove:function(t){if(e.ptrs=e.ptrs.map((function(n){return n.pointerId===t.pointerId?(0,l.Xs)(t):n})),2===e.ptrs.length){var i=Math.abs(e.ptrs[1].clientX-e.ptrs[0].clientX);if(null!==e.ptrDiff){var r=(0,l._Y)(e.ptrs);e.zoomTo(r,.02*(i-e.ptrDiff)),e.root.setAttribute("viewBox","".concat(e.viewBox))}e.ptrDiff=i}else if(e.panFrom){var o=(0,l.zk)((0,l.Xs)(t));n.delta(e.panFrom.x-o.x,e.panFrom.y-o.y),e.root.setAttribute("viewBox","".concat(e.viewBox))}},onPointerUp:function(t){e.panFrom=null,e.ptrs=e.ptrs.filter((function(n){return t.pointerId!==n.pointerId})),e.ptrs.length<2&&(e.ptrDiff=null)},rootRef:function(t){t&&(e.root=t,t.addEventListener("wheel",e.onWheel,{passive:!1}),t.addEventListener("pointerdown",e.onPointerDown,{passive:!0}),t.addEventListener("pointermove",e.onPointerMove,{passive:!0}),t.addEventListener("pointerup",e.onPointerUp,{passive:!0}),t.addEventListener("pointercancel",e.onPointerUp,{passive:!0}),t.addEventListener("pointerleave",e.onPointerUp,{passive:!0}),t.addEventListener("touchstart",(function(t){return t.preventDefault()}),{passive:!1}))},root:{},rootCss:(0,a.iv)(i||(i=(0,r.Z)(["\n        width: 100%;\n        height: 100%;\n        touch-action: pan-x pan-y pinch-zoom;\n        > g.content {\n          shape-rendering: ",";\n        }\n        > .grid {\n          pointer-events: none;\n        }\n      "])),l.us?"optimizeSpeed":"auto")}})),e=(0,o.Z)(n,1)[0];return(0,f.BX)("svg",{ref:e.rootRef,className:e.rootCss,preserveAspectRatio:"xMinYMin",viewBox:"".concat(e.viewBox),children:[(0,f.tZ)("g",{className:h()("content",t.className),children:t.children}),(0,f.tZ)(v,{bounds:t.gridBounds})]})}function v(t){var n=u.useMemo((function(){return d++}),[]);return(0,f.tZ)(f.HY,{children:[10,60].flatMap((function(e){return[(0,f.tZ)("defs",{children:(0,f.tZ)("pattern",{id:"pattern-grid-".concat(e,"x").concat(e,"--").concat(n),width:e,height:e,patternUnits:"userSpaceOnUse",children:(0,f.tZ)("path",{d:"M ".concat(e," 0 L 0 0 0 ").concat(e),fill:"none",stroke:"rgba(0,0,0,0.5)",strokeWidth:"0.3"})})}),(0,f.tZ)("rect",{className:"grid",x:t.bounds.x,y:t.bounds.y,width:t.bounds.width,height:t.bounds.height,fill:"url(#pattern-grid-".concat(e,"x").concat(e,"--").concat(n,")")})]}))})}var d=0},84273:function(t,n,e){e.d(n,{us:function(){return h},pS:function(){return f},w5:function(){return v},Fx:function(){return l},C1:function(){return c},J7:function(){return P},_Y:function(){return s},zk:function(){return a},po:function(){return d},Xs:function(){return u},A_:function(){return y}});var i;e(70956),e(18264);function r(t,n){var e="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"===typeof t)return o(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return o(t,n)}(t))||n&&t&&"number"===typeof t.length){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){s=!0,u=t},f:function(){try{a||null==e.return||e.return()}finally{if(s)throw u}}}}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function u(t){var n;return{pointerId:t instanceof PointerEvent?t.pointerId:null,clientX:t.clientX,clientY:t.clientY,ownerSvg:(null===(n=t.currentTarget)||void 0===n?void 0:n.ownerSVGElement)||t.currentTarget}}function a(t){var n;return(i=i||t.ownerSvg.createSVGPoint()).x=t.clientX,i.y=t.clientY,i.matrixTransform(null===(n=t.ownerSvg.getScreenCTM())||void 0===n?void 0:n.inverse())}function s(t){var n;return(i=i||t[0].ownerSvg.createSVGPoint()).x=i.y=0,t.forEach((function(t){i.x+=t.clientX,i.y+=t.clientY})),i.x/=t.length||1,i.y/=t.length||1,i.matrixTransform(null===(n=t[0].ownerSvg.getScreenCTM())||void 0===n?void 0:n.inverse())}var h="ontouchstart"in window||navigator.maxTouchPoints>0;function c(t,n){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];n.length&&(t.moveTo(n[0].x,n[0].y),n.forEach((function(n){return t.lineTo(n.x,n.y)})),e&&t.fill(),t.closePath())}function l(t,n){var e,i=r(n);try{for(i.s();!(e=i.n()).done;){var o=e.value;t.beginPath(),c(t,o.outline,!1);var u,a=r(o.holes);try{for(a.s();!(u=a.n()).done;){c(t,u.value,!1)}}catch(s){a.e(s)}finally{a.f()}t.fill()}}catch(s){i.e(s)}finally{i.f()}}function f(t,n,e){t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(e.x,e.y),t.stroke()}function y(t,n,e,i){t.fillStyle=n,e&&(t.strokeStyle=e),void 0!==i&&(t.lineWidth=i)}function v(t,n){var e,i=r(n.tris);try{for(i.s();!(e=i.n()).done;){var o=e.value;t.beginPath(),c(t,o.map((function(t){return n.vs[t]})),!1),t.stroke()}}catch(u){i.e(u)}finally{i.f()}}function d(t){return new Promise((function(n,e){var i=new Image;i.onload=function(){return n(i)},i.src=t}))}var p=e(97131),g=e(68216),x=e(25997),m=e(20437);function w(t,n){var e="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"===typeof t)return k(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return k(t,n)}(t))||n&&t&&"number"===typeof t.length){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return u=t.done,t},e:function(t){a=!0,o=t},f:function(){try{u||null==e.return||e.return()}finally{if(a)throw o}}}}function k(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var b=function(){function t(){(0,g.Z)(this,t)}return(0,x.Z)(t,[{key:"getLinesIntersect",value:function(t,n,e,i){return Math.abs(-n.y*i.x+n.x*i.y)<1e-4?null:(i.x*(e.y-t.y)-i.y*(e.x-t.x))/(n.y*i.x-i.y*n.x)}},{key:"getLineLineSegIntersect",value:function(t,n,e,i){var r,o,u,a,s,h=n.x,c=n.y,l=t.x,f=t.y,y=(e.x-l)*-c+(e.y-f)*h,v=(i.x-l)*-c+(i.y-f)*h;return 0===y&&0===v?(a=(e.x-l)*h+(e.y-f)*c,s=(i.x-l)*h+(i.y-f)*c,Math.abs(a)<Math.abs(s)?a:s):y*v<=0?(r=i.x-e.x,0===(u=h*(o=i.y-e.y)-c*r)?null:(f*r+l*-o+(e.x*i.y-e.y*i.x))/u):null}},{key:"getLineSegsIntersection",value:function(t,n,e,i){var r,o,u=n.x-t.x,a=n.y-t.y,s=i.x-e.x,h=i.y-e.y,c=-s*a+u*h;if(0===c){if(t.x*-a+t.y*u===e.x*-a+e.y*u){if(o=s*s+h*h,0<=(r=(t.x-e.x)*s+(t.y-e.y)*h)&&r<=o)return r/o;if(0<=(r=(n.x-e.x)*s+(n.y-e.y)*h)&&r<=o)return r/o}return null}return r=(-a*(t.x-e.x)+u*(t.y-e.y))/c,o=(s*(t.y-e.y)-h*(t.x-e.x))/c,r>=0&&r<=1&&o>=0&&o<=1?o:null}},{key:"joinTriangulations",value:function(t){if(1===t.length)return t[0];var n,e=[],i=[],r=0,o=w(t);try{for(o.s();!(n=o.n()).done;){var u=n.value;e.push.apply(e,(0,p.Z)(u.vs)),i.push.apply(i,(0,p.Z)(u.tris.map((function(t){return t.map((function(t){return t+r}))})))),r+=u.vs.length}}catch(a){o.e(a)}finally{o.f()}return{vs:e,tris:i}}},{key:"polysToTriangulation",value:function(t){var n=t.map((function(t){return t.qualityTriangulate()}));return this.joinTriangulations(n)}},{key:"polyToAngledRect",value:function(t){var n=t.outline,e=M.copy(n[1]).sub(n[0]).length,i=Z.copy(n[2]).sub(n[1]).length;return e>=i?{rect:new m.UL(n[0].x,n[0].y,e,i),angle:Math.atan2(M.y,M.x)*(180/Math.PI)}:{rect:new m.UL(n[1].x,n[1].y,i,e),angle:Math.atan2(Z.y,Z.x)*(180/Math.PI)}}},{key:"radRange",value:function(t){return(t%=2*Math.PI)>=0?t:2*Math.PI+t}},{key:"removePathReps",value:function(t){var n;return t.reduce((function(t,e){return n&&e.x===n.x&&e.y===n.y||t.push(n=e),t}),[])}}]),t}(),M=new m.dl,Z=new m.dl,P=new b}}]);